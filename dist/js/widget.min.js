if("undefined"!=typeof angular&&angular.module("risevision.common.i18n.config",[]).constant("LOCALES_PREFIX","locales/translation_").constant("LOCALES_SUFIX",".json"),"undefined"==typeof config)var config={STORAGE_ENV:"prod"};var RiseVision=RiseVision||{};RiseVision.Image={},RiseVision.Image=function(e){"use strict";function t(){var e,t=null;o.className=r.position,o.className=r.scaleToFit?o.className+" scale-to-fit":o.className,document.body.style.background=r.background.color,0===Object.keys(r.storage).length?(e=r.url.split("?"),c=1===e.length?"?":"&",o.style.backgroundImage="url("+r.url+c+"cb="+(new Date).getTime()+")",n(),i()):(t=new RiseVision.Image.Storage(r),t.init())}function n(){setTimeout(function(){o.style.backgroundImage="url("+r.url+c+"cb="+(new Date).getTime()+")",n()},l)}function a(e,n){Array.isArray(e)&&e.length>0&&"additionalParams"===e[0]&&Array.isArray(n)&&n.length>0&&(r=JSON.parse(n[0]),document.getElementById("container").style.height=s.getInt("rsH")+"px",t())}function i(){e.rpc.call("","rsevent_ready",null,s.getString("id"),!1,!1,!1,!0,!1)}var r,s=new e.Prefs,o=document.getElementById("image"),c="",l=3e5;return{ready:i,getAdditionalParams:a}}(gadgets);var RiseVision=RiseVision||{};RiseVision.Image=RiseVision.Image||{},RiseVision.Image.Storage=function(e){"use strict";function t(){var t=document.querySelector("rise-storage"),a=document.getElementById("image");t.addEventListener("rise-storage-response",function(e){n?(e.detail&&e.detail.url&&(a.style.backgroundImage="url('"+e.detail.url.replace("'","\\'")+"')"),RiseVision.Image.ready(),n=!1):e.detail&&e.detail.url&&e.detail.hasOwnProperty("changed")&&e.detail.changed&&(a.style.backgroundImage="url('"+e.detail.url.replace("'","\\'")+"')")}),t.setAttribute("folder",e.storage.folder),t.setAttribute("fileName",e.storage.fileName),t.setAttribute("companyId",e.storage.companyId),t.setAttribute("env",config.STORAGE_ENV),t.go()}var n=!0;return{init:t}},function(e,t,n){"use strict";var a=(new n.Prefs).getString("id");e.oncontextmenu=function(){return!1},t.body.onmousedown=function(){return!1},e.addEventListener("WebComponentsReady",function(){n.rpc.register("rsparam_set_"+a,RiseVision.Image.getAdditionalParams),n.rpc.call("","rsparam_get",null,a,["additionalParams"])})}(window,document,gadgets);var _gaq=_gaq||[];_gaq.push(["_setAccount","UA-57092159-3"]),_gaq.push(["_trackPageview"]),function(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src=("https:"==document.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImpzL3dpZGdldC5taW4uanMiXSwibmFtZXMiOlsiYW5ndWxhciIsIm1vZHVsZSIsImNvbnN0YW50IiwiY29uZmlnIiwiU1RPUkFHRV9FTlYiLCJSaXNlVmlzaW9uIiwiSW1hZ2UiLCJnYWRnZXRzIiwiaW5pdCIsInN0ciIsInN0b3JhZ2UiLCJpbWciLCJjbGFzc05hbWUiLCJwYXJhbXMiLCJwb3NpdGlvbiIsInNjYWxlVG9GaXQiLCJkb2N1bWVudCIsImJvZHkiLCJzdHlsZSIsImJhY2tncm91bmQiLCJjb2xvciIsIk9iamVjdCIsImtleXMiLCJsZW5ndGgiLCJ1cmwiLCJzcGxpdCIsInNlcGFyYXRvciIsImJhY2tncm91bmRJbWFnZSIsIkRhdGUiLCJnZXRUaW1lIiwic3RhcnRUaW1lciIsInJlYWR5IiwiU3RvcmFnZSIsInNldFRpbWVvdXQiLCJyZWZyZXNoSW50ZXJ2YWwiLCJnZXRBZGRpdGlvbmFsUGFyYW1zIiwibmFtZXMiLCJ2YWx1ZXMiLCJBcnJheSIsImlzQXJyYXkiLCJKU09OIiwicGFyc2UiLCJnZXRFbGVtZW50QnlJZCIsImhlaWdodCIsInByZWZzIiwiZ2V0SW50IiwicnBjIiwiY2FsbCIsImdldFN0cmluZyIsIlByZWZzIiwicXVlcnlTZWxlY3RvciIsImFkZEV2ZW50TGlzdGVuZXIiLCJlIiwiaXNMb2FkaW5nIiwiZGV0YWlsIiwicmVwbGFjZSIsImhhc093blByb3BlcnR5IiwiY2hhbmdlZCIsInNldEF0dHJpYnV0ZSIsImZvbGRlciIsImZpbGVOYW1lIiwiY29tcGFueUlkIiwiZ28iLCJ3aW5kb3ciLCJpZCIsIm9uY29udGV4dG1lbnUiLCJvbm1vdXNlZG93biIsInJlZ2lzdGVyIiwiX2dhcSIsInB1c2giLCJnYSIsImNyZWF0ZUVsZW1lbnQiLCJ0eXBlIiwiYXN5bmMiLCJzcmMiLCJsb2NhdGlvbiIsInByb3RvY29sIiwicyIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwicGFyZW50Tm9kZSIsImluc2VydEJlZm9yZSJdLCJtYXBwaW5n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QzNCLFlBRUEsSUFBSXlELElBQUssR0FBSXpELEdBQVEwQyxPQUFRRCxVQUFVLEtBRXZDZSxHQUFPRSxjQUFnQixXQUNyQixPQUFPLEdBR1RqRCxFQUFTQyxLQUFLaUQsWUFBYyxXQUMxQixPQUFPLEdBR1RILEVBQU9aLGlCQUFpQixxQkFBc0IsV0FDNUM1QyxFQUFRdUMsSUFBSXFCLFNBQVMsZUFBaUJILEVBQUkzRCxXQUFXQyxNQUFNNkIscUJBQzNENUIsRUFBUXVDLElBQUlDLEtBQUssR0FBSSxjQUFlLEtBQU1pQixHQUFLLHdCQUVoREQsT0FBUS9DLFNBQVVULFFBR3JCLElBQUk2RCxNQUFPQSxRQUVYQSxNQUFLQyxNQUFNLGNBQWUsa0JBQzFCRCxLQUFLQyxNQUFNLG1CQUVYLFdBQ0UsR0FBSUMsR0FBS3RELFNBQVN1RCxjQUFjLFNBQVdELEdBQUdFLEtBQU8sa0JBQW1CRixFQUFHRyxPQUFRLEVBQ25GSCxFQUFHSSxLQUFPLFVBQVkxRCxTQUFTMkQsU0FBU0MsU0FBVyxjQUFnQixjQUFnQiw2QkFDbkYsSUFBSUMsR0FBSTdELFNBQVM4RCxxQkFBcUIsVUFBVSxFQUFJRCxHQUFFRSxXQUFXQyxhQUFhVixFQUFJTyIsImZpbGUiOiJqcy93aWRnZXQubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyogZ2xvYmFsIGNvbmZpZzogdHJ1ZSAqL1xuLyogZXhwb3J0ZWQgY29uZmlnICovXG5pZiAodHlwZW9mIGFuZ3VsYXIgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgYW5ndWxhci5tb2R1bGUoXCJyaXNldmlzaW9uLmNvbW1vbi5pMThuLmNvbmZpZ1wiLCBbXSlcbiAgICAuY29uc3RhbnQoXCJMT0NBTEVTX1BSRUZJWFwiLCBcImxvY2FsZXMvdHJhbnNsYXRpb25fXCIpXG4gICAgLmNvbnN0YW50KFwiTE9DQUxFU19TVUZJWFwiLCBcIi5qc29uXCIpO1xufVxuXG5pZiAodHlwZW9mIGNvbmZpZyA9PT0gXCJ1bmRlZmluZWRcIikge1xuICB2YXIgY29uZmlnID0ge1xuICAgIFNUT1JBR0VfRU5WOiBcInByb2RcIlxuICB9O1xufVxuXG4vKiBnbG9iYWwgZ2FkZ2V0cyAqL1xuXG52YXIgUmlzZVZpc2lvbiA9IFJpc2VWaXNpb24gfHwge307XG5SaXNlVmlzaW9uLkltYWdlID0ge307XG5cblJpc2VWaXNpb24uSW1hZ2UgPSAoZnVuY3Rpb24gKGdhZGdldHMpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgdmFyIHBhcmFtcyxcbiAgICBwcmVmcyA9IG5ldyBnYWRnZXRzLlByZWZzKCksXG4gICAgaW1nID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJpbWFnZVwiKSxcbiAgICBzZXBhcmF0b3IgPSBcIlwiLFxuICAgIHJlZnJlc2hJbnRlcnZhbCA9IDMwMDAwMDsgIC8vIDUgbWludXRlc1xuXG4gIC8qXG4gICAqICBQcml2YXRlIE1ldGhvZHNcbiAgICovXG4gIGZ1bmN0aW9uIGluaXQoKSB7XG4gICAgdmFyIHN0b3JhZ2UgPSBudWxsLFxuICAgICAgc3RyO1xuXG4gICAgaW1nLmNsYXNzTmFtZSA9IHBhcmFtcy5wb3NpdGlvbjtcbiAgICBpbWcuY2xhc3NOYW1lID0gcGFyYW1zLnNjYWxlVG9GaXQgPyBpbWcuY2xhc3NOYW1lICsgXCIgc2NhbGUtdG8tZml0XCIgOiBpbWcuY2xhc3NOYW1lO1xuICAgIGRvY3VtZW50LmJvZHkuc3R5bGUuYmFja2dyb3VuZCA9IHBhcmFtcy5iYWNrZ3JvdW5kLmNvbG9yO1xuXG4gICAgaWYgKE9iamVjdC5rZXlzKHBhcmFtcy5zdG9yYWdlKS5sZW5ndGggPT09IDApIHtcbiAgICAgIHN0ciA9IHBhcmFtcy51cmwuc3BsaXQoXCI/XCIpO1xuXG4gICAgICBpZiAoc3RyLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICBzZXBhcmF0b3IgPSBcIj9cIjtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBzZXBhcmF0b3IgPSBcIiZcIjtcbiAgICAgIH1cblxuICAgICAgaW1nLnN0eWxlLmJhY2tncm91bmRJbWFnZSA9IFwidXJsKFwiICsgcGFyYW1zLnVybCArIHNlcGFyYXRvciArIFwiY2I9XCIgKyBuZXcgRGF0ZSgpLmdldFRpbWUoKSArIFwiKVwiO1xuICAgICAgc3RhcnRUaW1lcigpO1xuICAgICAgcmVhZHkoKTtcbiAgICB9XG4gICAgLy8gUmlzZSBTdG9yYWdlXG4gICAgZWxzZSB7XG4gICAgICBzdG9yYWdlID0gbmV3IFJpc2VWaXNpb24uSW1hZ2UuU3RvcmFnZShwYXJhbXMpO1xuICAgICAgc3RvcmFnZS5pbml0KCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gc3RhcnRUaW1lcigpIHtcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgaW1nLnN0eWxlLmJhY2tncm91bmRJbWFnZSA9IFwidXJsKFwiICsgcGFyYW1zLnVybCArIHNlcGFyYXRvciArIFwiY2I9XCIgKyBuZXcgRGF0ZSgpLmdldFRpbWUoKSArIFwiKVwiO1xuICAgICAgc3RhcnRUaW1lcigpO1xuICAgIH0sIHJlZnJlc2hJbnRlcnZhbCk7XG4gIH1cblxuICAvKlxuICAgKiAgUHVibGljIE1ldGhvZHNcbiAgICovXG4gIGZ1bmN0aW9uIGdldEFkZGl0aW9uYWxQYXJhbXMobmFtZXMsIHZhbHVlcykge1xuICAgIGlmIChBcnJheS5pc0FycmF5KG5hbWVzKSAmJiBuYW1lcy5sZW5ndGggPiAwICYmIG5hbWVzWzBdID09PSBcImFkZGl0aW9uYWxQYXJhbXNcIikge1xuICAgICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWVzKSAmJiB2YWx1ZXMubGVuZ3RoID4gMCkge1xuICAgICAgICBwYXJhbXMgPSBKU09OLnBhcnNlKHZhbHVlc1swXSk7XG5cbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjb250YWluZXJcIikuc3R5bGUuaGVpZ2h0ID0gcHJlZnMuZ2V0SW50KFwicnNIXCIpICsgXCJweFwiO1xuICAgICAgICBpbml0KCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcmVhZHkoKSB7XG4gICAgZ2FkZ2V0cy5ycGMuY2FsbChcIlwiLCBcInJzZXZlbnRfcmVhZHlcIiwgbnVsbCwgcHJlZnMuZ2V0U3RyaW5nKFwiaWRcIiksIGZhbHNlLFxuICAgICAgZmFsc2UsIGZhbHNlLCB0cnVlLCBmYWxzZSk7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIFwicmVhZHlcIjogcmVhZHksXG4gICAgXCJnZXRBZGRpdGlvbmFsUGFyYW1zXCI6IGdldEFkZGl0aW9uYWxQYXJhbXNcbiAgfTtcbn0pKGdhZGdldHMpO1xuXG4vKiBnbG9iYWwgY29uZmlnICovXG52YXIgUmlzZVZpc2lvbiA9IFJpc2VWaXNpb24gfHwge307XG5SaXNlVmlzaW9uLkltYWdlID0gUmlzZVZpc2lvbi5JbWFnZSB8fCB7fTtcblxuUmlzZVZpc2lvbi5JbWFnZS5TdG9yYWdlID0gZnVuY3Rpb24gKHBhcmFtcykge1xuICBcInVzZSBzdHJpY3RcIjtcblxuICB2YXIgaXNMb2FkaW5nID0gdHJ1ZTtcblxuICAvKlxuICAgKiAgUHVibGljIE1ldGhvZHNcbiAgICovXG4gIGZ1bmN0aW9uIGluaXQoKSB7XG4gICAgdmFyIHN0b3JhZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwicmlzZS1zdG9yYWdlXCIpLFxuICAgICAgaW1nID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJpbWFnZVwiKTtcblxuICAgIHN0b3JhZ2UuYWRkRXZlbnRMaXN0ZW5lcihcInJpc2Utc3RvcmFnZS1yZXNwb25zZVwiLCBmdW5jdGlvbihlKSB7XG4gICAgICBpZiAoaXNMb2FkaW5nKSB7XG4gICAgICAgIGlmIChlLmRldGFpbCAmJiBlLmRldGFpbC51cmwpIHtcbiAgICAgICAgICAvLyBFc2NhcGUgc2luZ2xlIHF1b3Rlcy5cbiAgICAgICAgICBpbWcuc3R5bGUuYmFja2dyb3VuZEltYWdlID0gXCJ1cmwoJ1wiICsgZS5kZXRhaWwudXJsLnJlcGxhY2UoXCInXCIsIFwiXFxcXCdcIikgKyBcIicpXCI7XG4gICAgICAgIH1cblxuICAgICAgICBSaXNlVmlzaW9uLkltYWdlLnJlYWR5KCk7XG4gICAgICAgIGlzTG9hZGluZyA9IGZhbHNlO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIGlmIChlLmRldGFpbCAmJiBlLmRldGFpbC51cmwpIHtcbiAgICAgICAgICAvLyBJbWFnZSBoYXMgYmVlbiBjaGFuZ2VkLlxuICAgICAgICAgIGlmIChlLmRldGFpbC5oYXNPd25Qcm9wZXJ0eShcImNoYW5nZWRcIikgJiYgZS5kZXRhaWwuY2hhbmdlZCkge1xuICAgICAgICAgICAgLy8gRXNjYXBlIHNpbmdsZSBxdW90ZXMuXG4gICAgICAgICAgICBpbWcuc3R5bGUuYmFja2dyb3VuZEltYWdlID0gXCJ1cmwoJ1wiICsgZS5kZXRhaWwudXJsLnJlcGxhY2UoXCInXCIsIFwiXFxcXCdcIikgKyBcIicpXCI7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBzdG9yYWdlLnNldEF0dHJpYnV0ZShcImZvbGRlclwiLCBwYXJhbXMuc3RvcmFnZS5mb2xkZXIpO1xuICAgIHN0b3JhZ2Uuc2V0QXR0cmlidXRlKFwiZmlsZU5hbWVcIiwgcGFyYW1zLnN0b3JhZ2UuZmlsZU5hbWUpO1xuICAgIHN0b3JhZ2Uuc2V0QXR0cmlidXRlKFwiY29tcGFueUlkXCIsIHBhcmFtcy5zdG9yYWdlLmNvbXBhbnlJZCk7XG4gICAgc3RvcmFnZS5zZXRBdHRyaWJ1dGUoXCJlbnZcIiwgY29uZmlnLlNUT1JBR0VfRU5WKTtcbiAgICBzdG9yYWdlLmdvKCk7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIFwiaW5pdFwiOiBpbml0XG4gIH07XG59O1xuXG4vKiBnbG9iYWwgUmlzZVZpc2lvbiwgZ2FkZ2V0cyAqL1xuKGZ1bmN0aW9uICh3aW5kb3csIGRvY3VtZW50LCBnYWRnZXRzKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuXG4gIHZhciBpZCA9IG5ldyBnYWRnZXRzLlByZWZzKCkuZ2V0U3RyaW5nKFwiaWRcIik7XG5cbiAgd2luZG93Lm9uY29udGV4dG1lbnUgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9O1xuXG4gIGRvY3VtZW50LmJvZHkub25tb3VzZWRvd24gPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH07XG5cbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJXZWJDb21wb25lbnRzUmVhZHlcIiwgZnVuY3Rpb24oKSB7XG4gICAgZ2FkZ2V0cy5ycGMucmVnaXN0ZXIoXCJyc3BhcmFtX3NldF9cIiArIGlkLCBSaXNlVmlzaW9uLkltYWdlLmdldEFkZGl0aW9uYWxQYXJhbXMpO1xuICAgIGdhZGdldHMucnBjLmNhbGwoXCJcIiwgXCJyc3BhcmFtX2dldFwiLCBudWxsLCBpZCwgW1wiYWRkaXRpb25hbFBhcmFtc1wiXSk7XG4gIH0pO1xufSkod2luZG93LCBkb2N1bWVudCwgZ2FkZ2V0cyk7XG5cbi8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbnZhciBfZ2FxID0gX2dhcSB8fCBbXTtcblxuX2dhcS5wdXNoKFsnX3NldEFjY291bnQnLCAnVUEtNTcwOTIxNTktMyddKTtcbl9nYXEucHVzaChbJ190cmFja1BhZ2V2aWV3J10pO1xuXG4oZnVuY3Rpb24oKSB7XG4gIHZhciBnYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpOyBnYS50eXBlID0gJ3RleHQvamF2YXNjcmlwdCc7IGdhLmFzeW5jID0gdHJ1ZTtcbiAgZ2Euc3JjID0gKCdodHRwczonID09IGRvY3VtZW50LmxvY2F0aW9uLnByb3RvY29sID8gJ2h0dHBzOi8vc3NsJyA6ICdodHRwOi8vd3d3JykgKyAnLmdvb2dsZS1hbmFseXRpY3MuY29tL2dhLmpzJztcbiAgdmFyIHMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnc2NyaXB0JylbMF07IHMucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZ2EsIHMpO1xufSkoKTtcbi8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=