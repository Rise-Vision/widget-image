"undefined"!=typeof angular&&(angular.module("risevision.common.i18n.config",[]).constant("LOCALES_PREFIX","components/rv-common-i18n/dist/locales/translation_").constant("LOCALES_SUFIX",".json"),angular.module("risevision.widget.common.storage-selector.config").value("STORAGE_MODAL","http://storage.risevision.com/~rvi/storage-client-rva-test/storage-modal.html#/files/"));var RiseVision=RiseVision||{};RiseVision.Image={},RiseVision.Image=function(e){"use strict";function t(){var t=null,n=i.getString("id");r.className=s.position,r.className=s.scaleToFit?r.className+" scale-to-fit":r.className,document.body.style.background=s.background.color,0===Object.keys(s.storage).length?(r.style.backgroundImage="url("+s.url+")",a()):(t=new RiseVision.Image.Storage(s),e.rpc.register("rsparam_set_"+n,t.getCompanyId),e.rpc.call("","rsparam_get",null,n,"companyId"))}function n(e,n){Array.isArray(e)&&e.length>0&&"additionalParams"===e[0]&&Array.isArray(n)&&n.length>0&&(s=JSON.parse(n[0]),document.getElementById("container").style.height=i.getInt("rsH")+"px",t())}function a(){e.rpc.call("","rsevent_ready",null,i.getString("id"),!1,!1,!1,!0,!1)}var s,i=new e.Prefs,r=document.getElementById("image");return{ready:a,getAdditionalParams:n}}(gadgets);var RiseVision=RiseVision||{};RiseVision.Image=RiseVision.Image||{},RiseVision.Image.Storage=function(e){"use strict";function t(){var t=document.querySelector("rise-storage"),n=document.getElementById("image");t.addEventListener("rise-storage-response",function(e){n.style.backgroundImage="url("+e.detail[0]+")",RiseVision.Image.ready()}),t.setAttribute("folder",e.storage.folder),t.setAttribute("fileName",e.storage.fileName),t.setAttribute("companyId",a),t.go()}function n(e,n){"companyId"===e&&(a=n,t())}var a="";return{getCompanyId:n}},function(e,t,n){"use strict";var a=(new n.Prefs).getString("id");e.oncontextmenu=function(){return!1},t.body.onmousedown=function(){return!1},n.rpc.register("rsparam_set_"+a,RiseVision.Image.getAdditionalParams),n.rpc.call("","rsparam_get",null,a,["additionalParams"])}(window,document,gadgets);var _gaq=_gaq||[];_gaq.push(["_setAccount","UA-57092159-3"]),_gaq.push(["_trackPageview"]),function(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src=("https:"==document.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImpzL3dpZGdldC5taW4uanMiXSwibmFtZXMiOlsiYW5ndWxhciIsIm1vZHVsZSIsImNvbnN0YW50IiwidmFsdWUiLCJSaXNlVmlzaW9uIiwiSW1hZ2UiLCJnYWRnZXRzIiwiaW5pdCIsInN0b3JhZ2UiLCJpZCIsInByZWZzIiwiZ2V0U3RyaW5nIiwiaW1nIiwiY2xhc3NOYW1lIiwicGFyYW1zIiwicG9zaXRpb24iLCJzY2FsZVRvRml0IiwiZG9jdW1lbnQiLCJib2R5Iiwic3R5bGUiLCJiYWNrZ3JvdW5kIiwiY29sb3IiLCJPYmplY3QiLCJrZXlzIiwibGVuZ3RoIiwiYmFja2dyb3VuZEltYWdlIiwidXJsIiwicmVhZHkiLCJTdG9yYWdlIiwicnBjIiwicmVnaXN0ZXIiLCJnZXRDb21wYW55SWQiLCJjYWxsIiwiZ2V0QWRkaXRpb25hbFBhcmFtcyIsIm5hbWVzIiwidmFsdWVzIiwiQXJyYXkiLCJpc0FycmF5IiwiSlNPTiIsInBhcnNlIiwiZ2V0RWxlbWVudEJ5SWQiLCJoZWlnaHQiLCJnZXRJbnQiLCJQcmVmcyIsImluaXRTdG9yYWdlIiwicXVlcnlTZWxlY3RvciIsImFkZEV2ZW50TGlzdGVuZXIiLCJlIiwiZGV0YWlsIiwic2V0QXR0cmlidXRlIiwiZm9sZGVyIiwiZmlsZU5hbWUiLCJjb21wYW55SWQiLCJnbyIsIm5hbWUiLCJ3aW5kb3ciLCJvbmNvbnRleHRtZW51Iiwib25tb3VzZWRvd24iLCJfZ2FxIiwicHVzaCIsImdhIiwiY3JlYXRlRWxlbWVudCIsInR5cGUiLCJhc3luYyIsInNyYyIsImxvY2F0aW9uIiwicHJvdG9jb2wiLCJzIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJwYXJlbnROb2RlIiwiaW5zZXJ0QmVmb3JlIl0sIm1hcHBpbmdzIjoiQUFBdUIsbUJBQVpBLFdBQ1RBLFFBQVFDLE9BQU8sb0NBQ1pDLFNBQVMsaUJBQWtCLHVEQUMzQkEsU0FBUyxnQkFBaUIsU0FFN0JGLFFBQVFDLE9BQU8sb0RBQ1pFLE1BQU0sZ0JBQWlCLHlGQUs1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QUFTbUQscUJBQXFCLFVBQVUsRUFBSUQsR0FBRUUsV0FBV0MsYUFBYVYsRUFBSU8iLCJmaWxlIjoianMvd2lkZ2V0Lm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImlmICh0eXBlb2YgYW5ndWxhciAhPT0gXCJ1bmRlZmluZWRcIikge1xuICBhbmd1bGFyLm1vZHVsZShcInJpc2V2aXNpb24uY29tbW9uLmkxOG4uY29uZmlnXCIsIFtdKVxuICAgIC5jb25zdGFudChcIkxPQ0FMRVNfUFJFRklYXCIsIFwiY29tcG9uZW50cy9ydi1jb21tb24taTE4bi9kaXN0L2xvY2FsZXMvdHJhbnNsYXRpb25fXCIpXG4gICAgLmNvbnN0YW50KFwiTE9DQUxFU19TVUZJWFwiLCBcIi5qc29uXCIpO1xuXG4gIGFuZ3VsYXIubW9kdWxlKFwicmlzZXZpc2lvbi53aWRnZXQuY29tbW9uLnN0b3JhZ2Utc2VsZWN0b3IuY29uZmlnXCIpXG4gICAgLnZhbHVlKFwiU1RPUkFHRV9NT0RBTFwiLCBcImh0dHA6Ly9zdG9yYWdlLnJpc2V2aXNpb24uY29tL35ydmkvc3RvcmFnZS1jbGllbnQtcnZhLXRlc3Qvc3RvcmFnZS1tb2RhbC5odG1sIy9maWxlcy9cIik7XG59XG5cbi8qIGdsb2JhbCBnYWRnZXRzICovXG5cbnZhciBSaXNlVmlzaW9uID0gUmlzZVZpc2lvbiB8fCB7fTtcblJpc2VWaXNpb24uSW1hZ2UgPSB7fTtcblxuUmlzZVZpc2lvbi5JbWFnZSA9IChmdW5jdGlvbiAoZ2FkZ2V0cykge1xuICBcInVzZSBzdHJpY3RcIjtcblxuICB2YXIgcGFyYW1zLFxuICAgIHByZWZzID0gbmV3IGdhZGdldHMuUHJlZnMoKSxcbiAgICBpbWcgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImltYWdlXCIpO1xuXG4gIC8qXG4gICAqICBQcml2YXRlIE1ldGhvZHNcbiAgICovXG4gIGZ1bmN0aW9uIGluaXQoKSB7XG4gICAgdmFyIHN0b3JhZ2UgPSBudWxsLFxuICAgICAgaWQgPSBwcmVmcy5nZXRTdHJpbmcoXCJpZFwiKTtcblxuICAgIGltZy5jbGFzc05hbWUgPSBwYXJhbXMucG9zaXRpb247XG4gICAgaW1nLmNsYXNzTmFtZSA9IHBhcmFtcy5zY2FsZVRvRml0ID8gaW1nLmNsYXNzTmFtZSArIFwiIHNjYWxlLXRvLWZpdFwiIDogaW1nLmNsYXNzTmFtZTtcbiAgICBkb2N1bWVudC5ib2R5LnN0eWxlLmJhY2tncm91bmQgPSBwYXJhbXMuYmFja2dyb3VuZC5jb2xvcjtcblxuICAgIGlmIChPYmplY3Qua2V5cyhwYXJhbXMuc3RvcmFnZSkubGVuZ3RoID09PSAwKSB7XG4gICAgICBpbWcuc3R5bGUuYmFja2dyb3VuZEltYWdlID0gXCJ1cmwoXCIgKyBwYXJhbXMudXJsICsgXCIpXCI7XG4gICAgICByZWFkeSgpO1xuICAgIH1cbiAgICAvLyBSaXNlIFN0b3JhZ2VcbiAgICBlbHNlIHtcbiAgICAgIHN0b3JhZ2UgPSBuZXcgUmlzZVZpc2lvbi5JbWFnZS5TdG9yYWdlKHBhcmFtcyk7XG5cbiAgICAgIGdhZGdldHMucnBjLnJlZ2lzdGVyKFwicnNwYXJhbV9zZXRfXCIgKyBpZCwgc3RvcmFnZS5nZXRDb21wYW55SWQpO1xuICAgICAgZ2FkZ2V0cy5ycGMuY2FsbChcIlwiLCBcInJzcGFyYW1fZ2V0XCIsIG51bGwsIGlkLCBcImNvbXBhbnlJZFwiKTtcbiAgICB9XG4gIH1cblxuICAvKlxuICAgKiAgUHVibGljIE1ldGhvZHNcbiAgICovXG4gIGZ1bmN0aW9uIGdldEFkZGl0aW9uYWxQYXJhbXMobmFtZXMsIHZhbHVlcykge1xuICAgIGlmIChBcnJheS5pc0FycmF5KG5hbWVzKSAmJiBuYW1lcy5sZW5ndGggPiAwICYmIG5hbWVzWzBdID09PSBcImFkZGl0aW9uYWxQYXJhbXNcIikge1xuICAgICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWVzKSAmJiB2YWx1ZXMubGVuZ3RoID4gMCkge1xuICAgICAgICBwYXJhbXMgPSBKU09OLnBhcnNlKHZhbHVlc1swXSk7XG5cbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjb250YWluZXJcIikuc3R5bGUuaGVpZ2h0ID0gcHJlZnMuZ2V0SW50KFwicnNIXCIpICsgXCJweFwiO1xuICAgICAgICBpbml0KCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcmVhZHkoKSB7XG4gICAgZ2FkZ2V0cy5ycGMuY2FsbChcIlwiLCBcInJzZXZlbnRfcmVhZHlcIiwgbnVsbCwgcHJlZnMuZ2V0U3RyaW5nKFwiaWRcIiksIGZhbHNlLFxuICAgICAgZmFsc2UsIGZhbHNlLCB0cnVlLCBmYWxzZSk7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIFwicmVhZHlcIjogcmVhZHksXG4gICAgXCJnZXRBZGRpdGlvbmFsUGFyYW1zXCI6IGdldEFkZGl0aW9uYWxQYXJhbXNcbiAgfTtcbn0pKGdhZGdldHMpO1xuXG52YXIgUmlzZVZpc2lvbiA9IFJpc2VWaXNpb24gfHwge307XG5SaXNlVmlzaW9uLkltYWdlID0gUmlzZVZpc2lvbi5JbWFnZSB8fCB7fTtcblxuUmlzZVZpc2lvbi5JbWFnZS5TdG9yYWdlID0gZnVuY3Rpb24gKHBhcmFtcykge1xuICBcInVzZSBzdHJpY3RcIjtcblxuICB2YXIgY29tcGFueUlkID0gXCJcIjtcblxuICAvKlxuICAgKiAgUHJpdmF0ZSBNZXRob2RzXG4gICAqL1xuICBmdW5jdGlvbiBpbml0U3RvcmFnZSgpIHtcbiAgICB2YXIgc3RvcmFnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJyaXNlLXN0b3JhZ2VcIiksXG4gICAgICBpbWcgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImltYWdlXCIpO1xuXG4gICAgc3RvcmFnZS5hZGRFdmVudExpc3RlbmVyKFwicmlzZS1zdG9yYWdlLXJlc3BvbnNlXCIsIGZ1bmN0aW9uKGUpIHtcbiAgICAgIGltZy5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSBcInVybChcIiArIGUuZGV0YWlsWzBdICsgXCIpXCI7XG4gICAgICBSaXNlVmlzaW9uLkltYWdlLnJlYWR5KCk7XG4gICAgfSk7XG5cbiAgICBzdG9yYWdlLnNldEF0dHJpYnV0ZShcImZvbGRlclwiLCBwYXJhbXMuc3RvcmFnZS5mb2xkZXIpO1xuICAgIHN0b3JhZ2Uuc2V0QXR0cmlidXRlKFwiZmlsZU5hbWVcIiwgcGFyYW1zLnN0b3JhZ2UuZmlsZU5hbWUpO1xuICAgIHN0b3JhZ2Uuc2V0QXR0cmlidXRlKFwiY29tcGFueUlkXCIsIGNvbXBhbnlJZCk7XG4gICAgc3RvcmFnZS5nbygpO1xuICB9XG5cbiAgLypcbiAgICogIFB1YmxpYyBNZXRob2RzXG4gICAqL1xuICBmdW5jdGlvbiBnZXRDb21wYW55SWQobmFtZSwgdmFsdWUpIHtcbiAgICBpZiAobmFtZSA9PT0gXCJjb21wYW55SWRcIikge1xuICAgICAgY29tcGFueUlkID0gdmFsdWU7XG4gICAgICBpbml0U3RvcmFnZSgpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB7XG4gICAgXCJnZXRDb21wYW55SWRcIjogZ2V0Q29tcGFueUlkXG4gIH07XG59O1xuXG4vKiBnbG9iYWwgUmlzZVZpc2lvbiwgZ2FkZ2V0cyAqL1xuKGZ1bmN0aW9uICh3aW5kb3csIGRvY3VtZW50LCBnYWRnZXRzKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuXG4gIHZhciBpZCA9IG5ldyBnYWRnZXRzLlByZWZzKCkuZ2V0U3RyaW5nKFwiaWRcIik7XG5cbiAgd2luZG93Lm9uY29udGV4dG1lbnUgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9O1xuXG4gIGRvY3VtZW50LmJvZHkub25tb3VzZWRvd24gPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH07XG5cbiAgZ2FkZ2V0cy5ycGMucmVnaXN0ZXIoXCJyc3BhcmFtX3NldF9cIiArIGlkLCBSaXNlVmlzaW9uLkltYWdlLmdldEFkZGl0aW9uYWxQYXJhbXMpO1xuICBnYWRnZXRzLnJwYy5jYWxsKFwiXCIsIFwicnNwYXJhbV9nZXRcIiwgbnVsbCwgaWQsIFtcImFkZGl0aW9uYWxQYXJhbXNcIl0pO1xufSkod2luZG93LCBkb2N1bWVudCwgZ2FkZ2V0cyk7XG5cbi8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbnZhciBfZ2FxID0gX2dhcSB8fCBbXTtcblxuX2dhcS5wdXNoKFsnX3NldEFjY291bnQnLCAnVUEtNTcwOTIxNTktMyddKTtcbl9nYXEucHVzaChbJ190cmFja1BhZ2V2aWV3J10pO1xuXG4oZnVuY3Rpb24oKSB7XG4gIHZhciBnYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpOyBnYS50eXBlID0gJ3RleHQvamF2YXNjcmlwdCc7IGdhLmFzeW5jID0gdHJ1ZTtcbiAgZ2Euc3JjID0gKCdodHRwczonID09IGRvY3VtZW50LmxvY2F0aW9uLnByb3RvY29sID8gJ2h0dHBzOi8vc3NsJyA6ICdodHRwOi8vd3d3JykgKyAnLmdvb2dsZS1hbmFseXRpY3MuY29tL2dhLmpzJztcbiAgdmFyIHMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnc2NyaXB0JylbMF07IHMucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZ2EsIHMpO1xufSkoKTtcbi8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=