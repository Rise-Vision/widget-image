(function(){function e(e){function n(n,t,r,i,o,a){for(;o>=0&&a>o;o+=e){var s=i?i[o]:o;r=t(r,n[s],s,n)}return r}return function(t,r,i,o){r=R(r,o,4);var a=!C(t)&&y.keys(t),s=(a||t).length,u=e>0?0:s-1;return arguments.length<3&&(i=t[a?a[u]:u],u+=e),n(t,r,i,a,u,s)}}function n(e){return function(n,t,r){t=b(t,r);for(var i=V(n),o=e>0?0:i-1;o>=0&&i>o;o+=e)if(t(n[o],o,n))return o;return-1}}function t(e,n,t){return function(r,i,o){var a=0,s=V(r);if("number"==typeof o)e>0?a=o>=0?o:Math.max(o+s,a):s=o>=0?Math.min(o+1,s):o+s+1;else if(t&&o&&s)return o=t(r,i),r[o]===i?o:-1;if(i!==i)return o=n(c.call(r,a,s),y.isNaN),o>=0?o+a:-1;for(o=e>0?a:s-1;o>=0&&s>o;o+=e)if(r[o]===i)return o;return-1}}function r(e,n){var t=x.length,r=e.constructor,i=y.isFunction(r)&&r.prototype||s,o="constructor";for(y.has(e,o)&&!y.contains(n,o)&&n.push(o);t--;)o=x[t],o in e&&e[o]!==i[o]&&!y.contains(n,o)&&n.push(o)}var i=this,o=i._,a=Array.prototype,s=Object.prototype,u=Function.prototype,l=a.push,c=a.slice,f=s.toString,d=s.hasOwnProperty,g=Array.isArray,m=Object.keys,p=u.bind,h=Object.create,v=function(){},y=function(e){return e instanceof y?e:this instanceof y?(this._wrapped=e,void 0):new y(e)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=y),exports._=y):i._=y,y.VERSION="1.8.3";var R=function(e,n,t){if(void 0===n)return e;switch(null==t?3:t){case 1:return function(t){return e.call(n,t)};case 2:return function(t,r){return e.call(n,t,r)};case 3:return function(t,r,i){return e.call(n,t,r,i)};case 4:return function(t,r,i,o){return e.call(n,t,r,i,o)}}return function(){return e.apply(n,arguments)}},b=function(e,n,t){return null==e?y.identity:y.isFunction(e)?R(e,n,t):y.isObject(e)?y.matcher(e):y.property(e)};y.iteratee=function(e,n){return b(e,n,1/0)};var E=function(e,n){return function(t){var r=arguments.length;if(2>r||null==t)return t;for(var i=1;r>i;i++)for(var o=arguments[i],a=e(o),s=a.length,u=0;s>u;u++){var l=a[u];n&&void 0!==t[l]||(t[l]=o[l])}return t}},w=function(e){if(!y.isObject(e))return{};if(h)return h(e);v.prototype=e;var n=new v;return v.prototype=null,n},I=function(e){return function(n){return null==n?void 0:n[e]}},_=Math.pow(2,53)-1,V=I("length"),C=function(e){var n=V(e);return"number"==typeof n&&n>=0&&_>=n};y.each=y.forEach=function(e,n,t){n=R(n,t);var r,i;if(C(e))for(r=0,i=e.length;i>r;r++)n(e[r],r,e);else{var o=y.keys(e);for(r=0,i=o.length;i>r;r++)n(e[o[r]],o[r],e)}return e},y.map=y.collect=function(e,n,t){n=b(n,t);for(var r=!C(e)&&y.keys(e),i=(r||e).length,o=Array(i),a=0;i>a;a++){var s=r?r[a]:a;o[a]=n(e[s],s,e)}return o},y.reduce=y.foldl=y.inject=e(1),y.reduceRight=y.foldr=e(-1),y.find=y.detect=function(e,n,t){var r;return r=C(e)?y.findIndex(e,n,t):y.findKey(e,n,t),void 0!==r&&-1!==r?e[r]:void 0},y.filter=y.select=function(e,n,t){var r=[];return n=b(n,t),y.each(e,function(e,t,i){n(e,t,i)&&r.push(e)}),r},y.reject=function(e,n,t){return y.filter(e,y.negate(b(n)),t)},y.every=y.all=function(e,n,t){n=b(n,t);for(var r=!C(e)&&y.keys(e),i=(r||e).length,o=0;i>o;o++){var a=r?r[o]:o;if(!n(e[a],a,e))return!1}return!0},y.some=y.any=function(e,n,t){n=b(n,t);for(var r=!C(e)&&y.keys(e),i=(r||e).length,o=0;i>o;o++){var a=r?r[o]:o;if(n(e[a],a,e))return!0}return!1},y.contains=y.includes=y.include=function(e,n,t,r){return C(e)||(e=y.values(e)),("number"!=typeof t||r)&&(t=0),y.indexOf(e,n,t)>=0},y.invoke=function(e,n){var t=c.call(arguments,2),r=y.isFunction(n);return y.map(e,function(e){var i=r?n:e[n];return null==i?i:i.apply(e,t)})},y.pluck=function(e,n){return y.map(e,y.property(n))},y.where=function(e,n){return y.filter(e,y.matcher(n))},y.findWhere=function(e,n){return y.find(e,y.matcher(n))},y.max=function(e,n,t){var r,i,o=-1/0,a=-1/0;if(null==n&&null!=e){e=C(e)?e:y.values(e);for(var s=0,u=e.length;u>s;s++)r=e[s],r>o&&(o=r)}else n=b(n,t),y.each(e,function(e,t,r){i=n(e,t,r),(i>a||i===-1/0&&o===-1/0)&&(o=e,a=i)});return o},y.min=function(e,n,t){var r,i,o=1/0,a=1/0;if(null==n&&null!=e){e=C(e)?e:y.values(e);for(var s=0,u=e.length;u>s;s++)r=e[s],o>r&&(o=r)}else n=b(n,t),y.each(e,function(e,t,r){i=n(e,t,r),(a>i||1/0===i&&1/0===o)&&(o=e,a=i)});return o},y.shuffle=function(e){for(var n,t=C(e)?e:y.values(e),r=t.length,i=Array(r),o=0;r>o;o++)n=y.random(0,o),n!==o&&(i[o]=i[n]),i[n]=t[o];return i},y.sample=function(e,n,t){return null==n||t?(C(e)||(e=y.values(e)),e[y.random(e.length-1)]):y.shuffle(e).slice(0,Math.max(0,n))},y.sortBy=function(e,n,t){return n=b(n,t),y.pluck(y.map(e,function(e,t,r){return{value:e,index:t,criteria:n(e,t,r)}}).sort(function(e,n){var t=e.criteria,r=n.criteria;if(t!==r){if(t>r||void 0===t)return 1;if(r>t||void 0===r)return-1}return e.index-n.index}),"value")};var S=function(e){return function(n,t,r){var i={};return t=b(t,r),y.each(n,function(r,o){var a=t(r,o,n);e(i,r,a)}),i}};y.groupBy=S(function(e,n,t){y.has(e,t)?e[t].push(n):e[t]=[n]}),y.indexBy=S(function(e,n,t){e[t]=n}),y.countBy=S(function(e,n,t){y.has(e,t)?e[t]++:e[t]=1}),y.toArray=function(e){return e?y.isArray(e)?c.call(e):C(e)?y.map(e,y.identity):y.values(e):[]},y.size=function(e){return null==e?0:C(e)?e.length:y.keys(e).length},y.partition=function(e,n,t){n=b(n,t);var r=[],i=[];return y.each(e,function(e,t,o){(n(e,t,o)?r:i).push(e)}),[r,i]},y.first=y.head=y.take=function(e,n,t){return null==e?void 0:null==n||t?e[0]:y.initial(e,e.length-n)},y.initial=function(e,n,t){return c.call(e,0,Math.max(0,e.length-(null==n||t?1:n)))},y.last=function(e,n,t){return null==e?void 0:null==n||t?e[e.length-1]:y.rest(e,Math.max(0,e.length-n))},y.rest=y.tail=y.drop=function(e,n,t){return c.call(e,null==n||t?1:n)},y.compact=function(e){return y.filter(e,y.identity)};var T=function(e,n,t,r){for(var i=[],o=0,a=r||0,s=V(e);s>a;a++){var u=e[a];if(C(u)&&(y.isArray(u)||y.isArguments(u))){n||(u=T(u,n,t));var l=0,c=u.length;for(i.length+=c;c>l;)i[o++]=u[l++]}else t||(i[o++]=u)}return i};y.flatten=function(e,n){return T(e,n,!1)},y.without=function(e){return y.difference(e,c.call(arguments,1))},y.uniq=y.unique=function(e,n,t,r){y.isBoolean(n)||(r=t,t=n,n=!1),null!=t&&(t=b(t,r));for(var i=[],o=[],a=0,s=V(e);s>a;a++){var u=e[a],l=t?t(u,a,e):u;n?(a&&o===l||i.push(u),o=l):t?y.contains(o,l)||(o.push(l),i.push(u)):y.contains(i,u)||i.push(u)}return i},y.union=function(){return y.uniq(T(arguments,!0,!0))},y.intersection=function(e){for(var n=[],t=arguments.length,r=0,i=V(e);i>r;r++){var o=e[r];if(!y.contains(n,o)){for(var a=1;t>a&&y.contains(arguments[a],o);a++);a===t&&n.push(o)}}return n},y.difference=function(e){var n=T(arguments,!0,!0,1);return y.filter(e,function(e){return!y.contains(n,e)})},y.zip=function(){return y.unzip(arguments)},y.unzip=function(e){for(var n=e&&y.max(e,V).length||0,t=Array(n),r=0;n>r;r++)t[r]=y.pluck(e,r);return t},y.object=function(e,n){for(var t={},r=0,i=V(e);i>r;r++)n?t[e[r]]=n[r]:t[e[r][0]]=e[r][1];return t},y.findIndex=n(1),y.findLastIndex=n(-1),y.sortedIndex=function(e,n,t,r){t=b(t,r,1);for(var i=t(n),o=0,a=V(e);a>o;){var s=Math.floor((o+a)/2);t(e[s])<i?o=s+1:a=s}return o},y.indexOf=t(1,y.findIndex,y.sortedIndex),y.lastIndexOf=t(-1,y.findLastIndex),y.range=function(e,n,t){null==n&&(n=e||0,e=0),t=t||1;for(var r=Math.max(Math.ceil((n-e)/t),0),i=Array(r),o=0;r>o;o++,e+=t)i[o]=e;return i};var O=function(e,n,t,r,i){if(!(r instanceof n))return e.apply(t,i);var o=w(e.prototype),a=e.apply(o,i);return y.isObject(a)?a:o};y.bind=function(e,n){if(p&&e.bind===p)return p.apply(e,c.call(arguments,1));if(!y.isFunction(e))throw new TypeError("Bind must be called on a function");var t=c.call(arguments,2),r=function(){return O(e,r,n,this,t.concat(c.call(arguments)))};return r},y.partial=function(e){var n=c.call(arguments,1),t=function(){for(var r=0,i=n.length,o=Array(i),a=0;i>a;a++)o[a]=n[a]===y?arguments[r++]:n[a];for(;r<arguments.length;)o.push(arguments[r++]);return O(e,t,this,this,o)};return t},y.bindAll=function(e){var n,t,r=arguments.length;if(1>=r)throw new Error("bindAll must be passed function names");for(n=1;r>n;n++)t=arguments[n],e[t]=y.bind(e[t],e);return e},y.memoize=function(e,n){var t=function(r){var i=t.cache,o=""+(n?n.apply(this,arguments):r);return y.has(i,o)||(i[o]=e.apply(this,arguments)),i[o]};return t.cache={},t},y.delay=function(e,n){var t=c.call(arguments,2);return setTimeout(function(){return e.apply(null,t)},n)},y.defer=y.partial(y.delay,y,1),y.throttle=function(e,n,t){var r,i,o,a=null,s=0;t||(t={});var u=function(){s=t.leading===!1?0:y.now(),a=null,o=e.apply(r,i),a||(r=i=null)};return function(){var l=y.now();s||t.leading!==!1||(s=l);var c=n-(l-s);return r=this,i=arguments,0>=c||c>n?(a&&(clearTimeout(a),a=null),s=l,o=e.apply(r,i),a||(r=i=null)):a||t.trailing===!1||(a=setTimeout(u,c)),o}},y.debounce=function(e,n,t){var r,i,o,a,s,u=function(){var l=y.now()-a;n>l&&l>=0?r=setTimeout(u,n-l):(r=null,t||(s=e.apply(o,i),r||(o=i=null)))};return function(){o=this,i=arguments,a=y.now();var l=t&&!r;return r||(r=setTimeout(u,n)),l&&(s=e.apply(o,i),o=i=null),s}},y.wrap=function(e,n){return y.partial(n,e)},y.negate=function(e){return function(){return!e.apply(this,arguments)}},y.compose=function(){var e=arguments,n=e.length-1;return function(){for(var t=n,r=e[n].apply(this,arguments);t--;)r=e[t].call(this,r);return r}},y.after=function(e,n){return function(){return--e<1?n.apply(this,arguments):void 0}},y.before=function(e,n){var t;return function(){return--e>0&&(t=n.apply(this,arguments)),1>=e&&(n=null),t}},y.once=y.partial(y.before,2);var A=!{toString:null}.propertyIsEnumerable("toString"),x=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];y.keys=function(e){if(!y.isObject(e))return[];if(m)return m(e);var n=[];for(var t in e)y.has(e,t)&&n.push(t);return A&&r(e,n),n},y.allKeys=function(e){if(!y.isObject(e))return[];var n=[];for(var t in e)n.push(t);return A&&r(e,n),n},y.values=function(e){for(var n=y.keys(e),t=n.length,r=Array(t),i=0;t>i;i++)r[i]=e[n[i]];return r},y.mapObject=function(e,n,t){n=b(n,t);for(var r,i=y.keys(e),o=i.length,a={},s=0;o>s;s++)r=i[s],a[r]=n(e[r],r,e);return a},y.pairs=function(e){for(var n=y.keys(e),t=n.length,r=Array(t),i=0;t>i;i++)r[i]=[n[i],e[n[i]]];return r},y.invert=function(e){for(var n={},t=y.keys(e),r=0,i=t.length;i>r;r++)n[e[t[r]]]=t[r];return n},y.functions=y.methods=function(e){var n=[];for(var t in e)y.isFunction(e[t])&&n.push(t);return n.sort()},y.extend=E(y.allKeys),y.extendOwn=y.assign=E(y.keys),y.findKey=function(e,n,t){n=b(n,t);for(var r,i=y.keys(e),o=0,a=i.length;a>o;o++)if(r=i[o],n(e[r],r,e))return r},y.pick=function(e,n,t){var r,i,o={},a=e;if(null==a)return o;y.isFunction(n)?(i=y.allKeys(a),r=R(n,t)):(i=T(arguments,!1,!1,1),r=function(e,n,t){return n in t},a=Object(a));for(var s=0,u=i.length;u>s;s++){var l=i[s],c=a[l];r(c,l,a)&&(o[l]=c)}return o},y.omit=function(e,n,t){if(y.isFunction(n))n=y.negate(n);else{var r=y.map(T(arguments,!1,!1,1),String);n=function(e,n){return!y.contains(r,n)}}return y.pick(e,n,t)},y.defaults=E(y.allKeys,!0),y.create=function(e,n){var t=w(e);return n&&y.extendOwn(t,n),t},y.clone=function(e){return y.isObject(e)?y.isArray(e)?e.slice():y.extend({},e):e},y.tap=function(e,n){return n(e),e},y.isMatch=function(e,n){var t=y.keys(n),r=t.length;if(null==e)return!r;for(var i=Object(e),o=0;r>o;o++){var a=t[o];if(n[a]!==i[a]||!(a in i))return!1}return!0};var k=function(e,n,t,r){if(e===n)return 0!==e||1/e===1/n;if(null==e||null==n)return e===n;e instanceof y&&(e=e._wrapped),n instanceof y&&(n=n._wrapped);var i=f.call(e);if(i!==f.call(n))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+e==""+n;case"[object Number]":return+e!==+e?+n!==+n:0===+e?1/+e===1/n:+e===+n;case"[object Date]":case"[object Boolean]":return+e===+n}var o="[object Array]"===i;if(!o){if("object"!=typeof e||"object"!=typeof n)return!1;var a=e.constructor,s=n.constructor;if(a!==s&&!(y.isFunction(a)&&a instanceof a&&y.isFunction(s)&&s instanceof s)&&"constructor"in e&&"constructor"in n)return!1}t=t||[],r=r||[];for(var u=t.length;u--;)if(t[u]===e)return r[u]===n;if(t.push(e),r.push(n),o){if(u=e.length,u!==n.length)return!1;for(;u--;)if(!k(e[u],n[u],t,r))return!1}else{var l,c=y.keys(e);if(u=c.length,y.keys(n).length!==u)return!1;for(;u--;)if(l=c[u],!y.has(n,l)||!k(e[l],n[l],t,r))return!1}return t.pop(),r.pop(),!0};y.isEqual=function(e,n){return k(e,n)},y.isEmpty=function(e){return null==e?!0:C(e)&&(y.isArray(e)||y.isString(e)||y.isArguments(e))?0===e.length:0===y.keys(e).length},y.isElement=function(e){return!(!e||1!==e.nodeType)},y.isArray=g||function(e){return"[object Array]"===f.call(e)},y.isObject=function(e){var n=typeof e;return"function"===n||"object"===n&&!!e},y.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(e){y["is"+e]=function(n){return f.call(n)==="[object "+e+"]"}}),y.isArguments(arguments)||(y.isArguments=function(e){return y.has(e,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(y.isFunction=function(e){return"function"==typeof e||!1}),y.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},y.isNaN=function(e){return y.isNumber(e)&&e!==+e},y.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"===f.call(e)},y.isNull=function(e){return null===e},y.isUndefined=function(e){return void 0===e},y.has=function(e,n){return null!=e&&d.call(e,n)},y.noConflict=function(){return i._=o,this},y.identity=function(e){return e},y.constant=function(e){return function(){return e}},y.noop=function(){},y.property=I,y.propertyOf=function(e){return null==e?function(){}:function(n){return e[n]}},y.matcher=y.matches=function(e){return e=y.extendOwn({},e),function(n){return y.isMatch(n,e)}},y.times=function(e,n,t){var r=Array(Math.max(0,e));n=R(n,t,1);for(var i=0;e>i;i++)r[i]=n(i);return r},y.random=function(e,n){return null==n&&(n=e,e=0),e+Math.floor(Math.random()*(n-e+1))},y.now=Date.now||function(){return(new Date).getTime()};var L={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},F=y.invert(L),N=function(e){var n=function(n){return e[n]},t="(?:"+y.keys(e).join("|")+")",r=RegExp(t),i=RegExp(t,"g");return function(e){return e=null==e?"":""+e,r.test(e)?e.replace(i,n):e}};y.escape=N(L),y.unescape=N(F),y.result=function(e,n,t){var r=null==e?void 0:e[n];return void 0===r&&(r=t),y.isFunction(r)?r.call(e):r};var j=0;y.uniqueId=function(e){var n=++j+"";return e?e+n:n},y.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var M=/(.)^/,q={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},D=/\\|'|\r|\n|\u2028|\u2029/g,P=function(e){return"\\"+q[e]};y.template=function(e,n,t){!n&&t&&(n=t),n=y.defaults({},n,y.templateSettings);var r=RegExp([(n.escape||M).source,(n.interpolate||M).source,(n.evaluate||M).source].join("|")+"|$","g"),i=0,o="__p+='";e.replace(r,function(n,t,r,a,s){return o+=e.slice(i,s).replace(D,P),i=s+n.length,t?o+="'+\n((__t=("+t+"))==null?'':_.escape(__t))+\n'":r?o+="'+\n((__t=("+r+"))==null?'':__t)+\n'":a&&(o+="';\n"+a+"\n__p+='"),n}),o+="';\n",n.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{var a=new Function(n.variable||"obj","_",o)}catch(s){throw s.source=o,s}var u=function(e){return a.call(this,e,y)},l=n.variable||"obj";return u.source="function("+l+"){\n"+o+"}",u},y.chain=function(e){var n=y(e);return n._chain=!0,n};var U=function(e,n){return e._chain?y(n).chain():n};y.mixin=function(e){y.each(y.functions(e),function(n){var t=y[n]=e[n];y.prototype[n]=function(){var e=[this._wrapped];return l.apply(e,arguments),U(this,t.apply(y,e))}})},y.mixin(y),y.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var n=a[e];y.prototype[e]=function(){var t=this._wrapped;return n.apply(t,arguments),"shift"!==e&&"splice"!==e||0!==t.length||delete t[0],U(this,t)}}),y.each(["concat","join","slice"],function(e){var n=a[e];y.prototype[e]=function(){return U(this,n.apply(this._wrapped,arguments))}}),y.prototype.value=function(){return this._wrapped},y.prototype.valueOf=y.prototype.toJSON=y.prototype.value,y.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return y})}).call(this);var WIDGET_COMMON_CONFIG={AUTH_PATH_URL:"v1/widget/auth",LOGGER_CLIENT_ID:"1088527147109-6q1o2vtihn34292pjt4ckhmhck0rk0o7.apps.googleusercontent.com",LOGGER_CLIENT_SECRET:"nlZyrcPLg6oEwO9f9Wfn29Wh",LOGGER_REFRESH_TOKEN:"1/xzt4kwzE1H7W9VnKB8cAaCx6zb4Es4nKEoqaYHdTD15IgOrJDtdun6zK6XiATCKT",STORE_URL:"https://store-dot-rvaserver2.appspot.com/"},RiseVision=RiseVision||{};RiseVision.Common=RiseVision.Common||{},RiseVision.Common.LoggerUtils=function(){"use strict";function e(e,n){var r=null;e.event?(r=e,r.file_url&&(r.file_format=t(r.file_url)),r.company_id=u,r.display_id=s,l&&(r.version=l),n(r)):n(r)}function n(){var e=new Date,n=e.getUTCFullYear(),t=e.getUTCMonth()+1,r=e.getUTCDate();return 10>t&&(t="0"+t),10>r&&(r="0"+r),""+n+t+r}function t(e){var n,t=/[?#&]/;return e&&"string"==typeof e?(n=e.substr(e.lastIndexOf(".")+1),t.test(n)&&(n=n.substr(0,-1!==n.indexOf("?")?n.indexOf("?"):n.length),n=n.substr(0,-1!==n.indexOf("#")?n.indexOf("#"):n.length),n=n.substr(0,-1!==n.indexOf("&")?n.indexOf("&"):n.length)),n.toLowerCase()):null}function r(e){var t={kind:"bigquery#tableDataInsertAllRequest",skipInvalidRows:!1,ignoreUnknownValues:!1,templateSuffix:n(),rows:[{insertId:""}]},r=JSON.parse(JSON.stringify(t));return r.rows[0].insertId=Math.random().toString(36).substr(2).toUpperCase(),r.rows[0].json=JSON.parse(JSON.stringify(e)),r.rows[0].json.ts=(new Date).toISOString(),r}function i(n,t){e(t,function(e){null!==e&&RiseVision.Common.Logger.log(n,e)})}function o(e,n){u=e,s=n}function a(e){l=e}var s="",u="",l=null;return{getInsertData:r,getFileFormat:t,logEvent:i,setIds:o,setVersion:a}}(),RiseVision.Common.Logger=function(e){"use strict";function n(e){var n=new XMLHttpRequest;return new Date-l<358e4?e({}):(n.open("POST",i,!0),n.onloadend=function(){var t=JSON.parse(n.response);e({token:t.access_token,refreshedAt:new Date})},n.send(),void 0)}function t(e){return a&&u===e}function r(r,i){function f(n){var t,a,s=new XMLHttpRequest;a=o.replace("TABLE_ID",r),l=n.refreshedAt||l,c=n.token||c,t=e.getInsertData(i),s.open("POST",a,!0),s.setRequestHeader("Content-Type","application/json"),s.setRequestHeader("Authorization","Bearer "+c),i.cb&&"function"==typeof i.cb&&(s.onloadend=function(){i.cb(s.response)}),s.send(JSON.stringify(t))}if(!(!r||!i||i.hasOwnProperty("event")&&!i.event||i.hasOwnProperty("event")&&t(i.event)))return a=!0,u=i.event,setTimeout(function(){a=!1},s),n(f)}var i="https://www.googleapis.com/oauth2/v3/token?client_id="+WIDGET_COMMON_CONFIG.LOGGER_CLIENT_ID+"&client_secret="+WIDGET_COMMON_CONFIG.LOGGER_CLIENT_SECRET+"&refresh_token="+WIDGET_COMMON_CONFIG.LOGGER_REFRESH_TOKEN+"&grant_type=refresh_token",o="https://www.googleapis.com/bigquery/v2/projects/client-side-events/datasets/Widget_Events/tables/TABLE_ID/insertAll",a=!1,s=1e3,u="",l=0,c="";return{log:r}}(RiseVision.Common.LoggerUtils);var RiseVision=RiseVision||{};RiseVision.Common=RiseVision.Common||{},RiseVision.Common.RiseCache=function(){"use strict";function e(e){var n=new XMLHttpRequest,t=this;e&&"function"==typeof e&&(u?n.open("GET",o,!0):n.open("GET",o+"ping?callback=_",!0),n.onreadystatechange=function(){try{if(4===n.readyState)if(a=!0,200===n.status)s=!0,e(!0,n.responseText);else{if(404===n.status)return u=!0,t.ping(e);console.debug("Rise Cache is not running"),s=!1,e(!1,null)}}catch(r){console.debug("Caught exception: ",r.description)}},n.send())}function n(e,n,t){function r(){var n,r,a;s?n=u?o+"files?url="+encodeURIComponent(e):t?o+"?url="+encodeURIComponent(e):o+"cb="+(new Date).getTime()+"?url="+encodeURIComponent(e):t?n=e:(r=e.split("?"),a=1===r.length?"?":"&",n=e+a+"cb="+(new Date).getTime()),i("HEAD",n)}function i(e,t){var r=new XMLHttpRequest,o={xhr:r,url:t};s?(r.open(e,t,!0),r.addEventListener("loadend",function(){var a=r.status||0;202===a?(l++,3>l?setTimeout(function(){i(e,t)},3e3):n(o,new Error("File is downloading"))):a>=200&&300>a?n(o):"HEAD"===e?i("GET",t):n(o,new Error("The request failed with status code: "+a))}),r.send()):n(o)}if(e&&n&&"function"==typeof n){var l=0;return a?r():this.ping(r)}}function t(e){var n="";switch(e){case 502:n="There was a problem retrieving the file.";break;case 504:n="Unable to download the file. The server is not responding.";break;case 507:n="There is not enough disk space to save the file on Rise Cache.";break;case 534:n="The file does not exist or cannot be accessed.";break;default:n=""}return n}function r(e){return e&&"function"==typeof e?a?(e(s),void 0):this.ping(function(){e(s)}):void 0}function i(e){return e&&"function"==typeof e?a?(e(u),void 0):this.ping(function(){e(u)}):void 0}var o="//localhost:9494/",a=!1,s=!1,u=!1;return{getErrorMessage:t,getFile:n,isRiseCacheRunning:r,isV2Running:i,ping:e}}();var RiseVision=RiseVision||{};RiseVision.Common=RiseVision.Common||{},RiseVision.Common.Utilities=function(){function e(e,n){var t="font-family: "+decodeURIComponent(n.font.family).replace(/'/g,"")+"; ",r="color: "+(n.color?n.color:n.forecolor)+"; ",i="font-size: "+(-1===n.size.indexOf("px")?n.size+"px; ":n.size+"; "),o="font-weight: "+(n.bold?"bold":"normal")+"; ",a="font-style: "+(n.italic?"italic":"normal")+"; ",s="text-decoration: "+(n.underline?"underline":"none")+"; ",u="background-color: "+(n.highlightColor?n.highlightColor:n.backcolor)+";";return"."+e+" {"+t+r+i+o+a+s+u+"}"}function n(e){for(var n=document.createElement("style"),t=0,r=e.length;r>t;t++)n.appendChild(document.createTextNode(e[t]));document.head.appendChild(n)}function t(t,o){function a(){o&&"function"==typeof o&&o()}function s(){a()}var u=null,l=[],c=[],f=[];if(!t||0===t.length)return a(),void 0;t.forEach(function(t){t.class&&t.fontStyle&&n([e(t.class,t.fontStyle)])});for(var d=0;d<t.length;d++)t[d].fontStyle&&t[d].fontStyle.font.type&&"google"===t[d].fontStyle.font.type&&(u=t[d].fontStyle.font.family.split(",")[0],u=u.replace(/'/g,""),l.push(u));for(d=0;d<t.length;d++)t[d].fontStyle&&t[d].fontStyle.font.type&&"custom"===t[d].fontStyle.font.type&&(c.push(decodeURIComponent(t[d].fontStyle.font.family).replace(/'/g,"")),f.push(t[d].fontStyle.font.url.replace(/'/g,"\\'")));if(0===l.length&&0===c.length)a();else{for(var g=0;g<c.length;g+=1)r(c[g],f[g]);l.length>0?i(l,s):a()}}function r(e,n,t){var r=null,i="font-family: "+e+"; src: url('"+n+"');";t=t||document,r=t.styleSheets[0],null!==r&&r.addRule("@font-face",i)}function i(e,n){WebFont.load({google:{families:e},active:function(){n&&"function"==typeof n&&n()},inactive:function(){n&&"function"==typeof n&&n()},timeout:2e3})}function o(e){for(var n=e.length,t=[],r=0;n>r;r++)t[r]=new Image,t[r].src=e[r]}function a(e){for(var n,t=window.location.search.substring(1),r=t.split("&"),i=0;i<r.length;i++)if(n=r[i].split("="),n[0]==e)return decodeURIComponent(n[1]);return""}function s(e){var n="";switch(e){case 404:n="The file does not exist or cannot be accessed.";break;case 507:n="There is not enough disk space to save the file on Rise Cache.";break;default:n="There was a problem retrieving the file from Rise Cache."}return n}function u(e){var n=document.createElement("div");return n.innerHTML=e,n.textContent}function l(e,n){var t=new XMLHttpRequest;if(e&&n&&"function"==typeof n){t.open("HEAD",e+"?cb="+(new Date).getTime(),!1);try{t.send(),n(t.status>=200&&t.status<304)}catch(r){n(!1)}}}function c(){var e=25,n=navigator.userAgent.match(/Chrome\/(\S+)/),t=n?n[1]:0;return t&&(t=parseInt(t.substring(0,t.indexOf("."))),e>=t)?!0:!1}function f(e,n){return/^(?:f|ht)tps?\:\/\//.test(e)||(e=(n?"https://":"http://")+e),e}return{addProtocol:f,getQueryParameter:a,getFontCssStyle:e,addCSSRules:n,loadFonts:t,loadCustomFont:r,loadGoogleFonts:i,preloadImages:o,getRiseCacheErrorMessage:s,unescapeHTML:u,hasInternetConnection:l,isLegacy:c}}(),"undefined"!=typeof angular&&angular.module("risevision.common.i18n.config",[]).constant("LOCALES_PREFIX","locales/translation_").constant("LOCALES_SUFIX",".json");var config={STORAGE_ENV:"prod",COMPONENTS_PATH:"components/"},RiseVision=RiseVision||{};RiseVision.Image={},RiseVision.Image=function(e){"use strict";function n(){e.rpc.call("","rsevent_ready",null,I.getString("id"),!0,!0,!0,!0,!0)}function t(){e.rpc.call("","rsevent_done",null,I.getString("id")),null!==x&&c(x,!0),c({event:"done",file_url:o()},!1)}function r(){clearTimeout(L),L=null}function i(){r(),L=setTimeout(function(){t()},5e3)}function o(){var e=-1;if(A&&A.length>0){if("file"===w)return A[0];if("folder"===w&&O&&O.isReady()&&(e=O.getCurrentSlide(),-1!==e))return A[e]}return null}function a(){var e,t=document.getElementById("container"),r=document.createDocumentFragment(),i=document.createElement("div");V=new RiseVision.Image.Message(document.getElementById("container"),document.getElementById("messageContainer")),V.show("Please wait while your image is downloaded."),C.background&&Object.keys(C.background).length>0&&(document.body.style.background=C.background.color),"file"===w?(i=s(),r.appendChild(i),t.appendChild(r),D=new Image,e=0!==Object.keys(C.storage).length,e?(k="storage file",S=new RiseVision.Image.StorageFile(C),S.init()):(k="custom",T=new RiseVision.Image.NonStorage(C),T.init())):"folder"===w&&(i.className="tp-banner-container",r.appendChild(i),t.appendChild(r),k="storage folder",S=new RiseVision.Image.StorageFolder(C),S.init()),n()}function s(){var e=document.createElement("div");return e.setAttribute("id","image"),e.className=C.position,e.className=C.scaleToFit?e.className+" scale-to-fit":e.className,e}function u(e){D.onload=function(){var n=document.querySelector("#container #image");n.style.backgroundImage="url('"+e+"')",P=-1===e.indexOf(".gif")?!1:!0,!q&&P&&(n.style.visibility="visible")},D.onerror=function(){c({event:"error",event_details:"image load error",file_url:e},!0)},D.src=e.replace("\\'","'")}function l(){return N}function c(e,n){n&&(x=e),RiseVision.Common.LoggerUtils.logEvent(R(),e)}function f(e){"file"===w?(A[0]=e,M=!1,V.hide(),u(A[0])):"folder"===w&&(A=e,O=new RiseVision.Image.Slider(C),O.init(e))}function d(e){"file"===w?(A[0]=e,M&&V.hide(),u(A[0])):"folder"===w&&(A=e,O.refresh(A)),F=!1,N=!1,M=!1,x=null}function g(e){M=!0,V.show(e),q||i()}function m(e,n){C=_.clone(e),w=n,C.width=I.getInt("rsW"),C.height=I.getInt("rsH"),document.getElementById("container").style.height=I.getInt("rsH")+"px",a()}function p(){V.hide(),q||O.play()}function h(){t()}function v(){var e=document.querySelector("#container #image");q=!0,r(),"folder"===w&&O&&O.isReady()?O.pause():"file"===w&&e&&P&&(e.style.visibility="hidden")}function y(){var e=document.querySelector("#container #image");return q=!1,j||(c({event:"configuration",event_details:k},!1),j=!0),c({event:"play",file_url:o()},!1),F?(i(),void 0):M?("file"===w&&S&&S.retry(),void 0):("folder"===w&&O&&O.isReady()?O.play():"file"===w&&e&&P&&(e.style.visibility="visible"),void 0)}function R(){return"image_events"}function b(e,n){F=!0,N="undefined"!=typeof n,V.show(e),"folder"===w&&O&&O.isReady()&&O.destroy(),q||i()}function E(){v()}var w,I=new e.Prefs,V=null,C=null,S=null,T=null,O=null,A=[],x=null,k=null,L=null,F=!1,N=!1,j=!1,M=!1,q=!0,D=null,P=!1;return{hasStorageError:l,logEvent:c,onFileInit:f,onFileRefresh:d,onFileUnavailable:g,onSliderComplete:h,onSliderReady:p,pause:v,play:y,setAdditionalParams:m,getTableName:R,showError:b,stop:E}}(gadgets);var RiseVision=RiseVision||{};RiseVision.Image=RiseVision.Image||{},RiseVision.Image.Message=function(e,n){"use strict";function t(){try{n.style.height=e.style.height}catch(t){console.warn("Can't initialize Message - ",t.message)}}function r(){if(o){for(;n.firstChild;)n.removeChild(n.firstChild);n.style.display="none",e.style.visibility="visible",o=!1}}function i(t){var r,i=document.createDocumentFragment();o?(r=n.querySelector(".message"),r.innerHTML=t):(e.style.visibility="hidden",n.style.display="block",r=document.createElement("p"),r.innerHTML=t,r.setAttribute("class","message"),i.appendChild(r),n.appendChild(i),o=!0)}var o=!1;return t(),{hide:r,show:i}};var RiseVision=RiseVision||{};RiseVision.Image=RiseVision.Image||{},RiseVision.Image.Slider=function(e){"use strict";function n(){var n=document.querySelector(".tp-banner ul"),t=document.createDocumentFragment(),r=[],i=null,o=null,a="";g=p.length,p.forEach(function(n){switch(i=document.createElement("li"),o=document.createElement("img"),i.setAttribute("data-transition","fade"),i.setAttribute("data-masterspeed",500),i.setAttribute("data-delay",1e3*e.duration),o.src="",o.setAttribute("data-lazyload",n.url),e.position){case"top-left":a="left top";break;case"top-center":a="center top";break;case"top-right":a="right top";break;case"middle-left":a="left center";break;case"middle-center":a="center center";break;case"middle-right":a="right center";break;case"bottom-left":a="left bottom";break;case"bottom-center":a="center bottom";break;case"bottom-right":a="right bottom";break;default:a="left top"}o.setAttribute("data-bgposition",a),e.scaleToFit?o.setAttribute("data-bgfit","contain"):o.setAttribute("data-bgfit","normal"),i.appendChild(o),r.push(i)}),r.forEach(function(e){t.appendChild(e)}),n.appendChild(t)}function t(e){I?f():R&&(R=!1,f(),RiseVision.Image.onSliderComplete(),b&&(m&&(r(),u(h)),b=!1)),e.slideIndex===g&&(R=!0)}function r(){$("body").off("touchend"),m.off("revolution.slide.onloaded"),m.off("revolution.slide.onchange"),m.revkill(),m=null}function i(){I=!0,clearTimeout(y),y=setTimeout(function(){m.revnext(),m.revresume(),I=!1,w=!0},1e3*e.pause),o()}function o(){e.autoHide&&(clearTimeout(v),v=setTimeout(function(){$(".tp-leftarrow, .tp-rightarrow").addClass("hidearrows")},V))}function a(){m&&(R=!1,f(),r())}function s(){return m&&p&&p.length>0?m.revcurrentslide():-1}function u(r){var a=document.querySelector(".tp-banner-container"),s=document.createDocumentFragment(),u=document.createElement("div"),l=document.createElement("ul");u.setAttribute("class","tp-banner"),u.appendChild(l),s.appendChild(u),a.appendChild(s),p=_.clone(r),n(),E=!0,m=$(".tp-banner").revolution({hideThumbs:0,hideTimerBar:"on",navigationType:"none",onHoverStop:"off",startwidth:e.width,startheight:e.height}),m.on("revolution.slide.onloaded",function(){f(),E=!1,RiseVision.Image.onSliderReady()}),m.on("revolution.slide.onchange",function(e,n){t(n)}),$("body").on("touchend",".tp-banner",function(){i(),$(".tp-leftarrow, .tp-rightarrow").removeClass("hidearrows")}),$("body").on("touchend",".tp-leftarrow, .tp-rightarrow",function(){i()}),o()}function l(){return!E}function c(){m&&(e.hasOwnProperty("resume")&&!e.resume&&m.revshowslide(0),w||(m.revresume(),w=!0))}function f(){m&&w&&(m.revpause(),w=!1)}function d(e){RiseVision.Common.Utilities.preloadImages(e),h=_.clone(e),b=!0}var g=0,m=null,p=null,h=null,v=null,y=null,R=!1,b=!1,E=!0,w=!1,I=!1,V=3e3;return{getCurrentSlide:s,destroy:a,init:u,isReady:l,play:c,pause:f,refresh:d}};var RiseVision=RiseVision||{};RiseVision.Image=RiseVision.Image||{},RiseVision.Image.StorageFile=function(e){"use strict";function n(){var n=document.querySelector("rise-storage");n.addEventListener("rise-storage-response",function(e){var n;e.detail&&e.detail.url&&(n=e.detail.url.replace("'","\\'"),o?(o=!1,RiseVision.Image.onFileInit(n)):e.detail.hasOwnProperty("changed")&&(e.detail.changed?RiseVision.Image.onFileRefresh(n):RiseVision.Image.hasStorageError()&&RiseVision.Image.onFileRefresh(e.detail.url)))}),n.addEventListener("rise-storage-api-error",function(e){var n={event:"error",event_details:"storage api error",error_details:"Response code: "+e.detail.code+", message: "+e.detail.message};RiseVision.Image.logEvent(n,!0),RiseVision.Image.showError("Sorry, there was a problem communicating with Rise Storage.")}),n.addEventListener("rise-storage-no-file",function(e){var n={event:"error",event_details:"storage file not found",file_url:e.detail},t=document.getElementById("image");t.style.background="",RiseVision.Image.logEvent(n,!0),RiseVision.Image.showError("The selected image does not exist or has been moved to Trash.")
}),n.addEventListener("rise-storage-file-throttled",function(e){var n={event:"error",event_details:"storage file throttled",file_url:e.detail};RiseVision.Image.logEvent(n,!0),RiseVision.Image.showError("The selected image is temporarily unavailable.")}),n.addEventListener("rise-storage-subscription-expired",function(){var e={event:"error",event_details:"storage subscription expired"};RiseVision.Image.logEvent(e,!0),RiseVision.Image.showError("Rise Storage subscription is not active.")}),n.addEventListener("rise-storage-error",function(e){var n=e.detail&&e.detail.request&&e.detail.request.url?e.detail.request.url:null,t={event:"error",event_details:"rise storage error",error_details:"The request failed with status code: "+e.detail.error.currentTarget.status,file_url:n};RiseVision.Image.logEvent(t,!0),RiseVision.Image.showError("Sorry, there was a problem communicating with Rise Storage.",!0)}),n.addEventListener("rise-cache-error",function(e){var n,t=e.detail&&e.detail.request&&e.detail.request.url?e.detail.request.url:null,o={event:"error",event_details:"rise cache error",error_details:e.detail.error.message,file_url:t},a=0;RiseVision.Image.logEvent(o,!0),i.isV2Running()?n=i.getErrorMessage(a):(e.detail.error.message&&(a=+e.detail.error.message.substring(e.detail.error.message.indexOf(":")+2)),n=r.getRiseCacheErrorMessage(a)),RiseVision.Image.showError(n)}),n.addEventListener("rise-cache-not-running",function(e){var n={event:"error",event_details:"rise cache not running",error_details:e.detail&&e.detail.error?e.detail.error.message:""};RiseVision.Image.logEvent(n,!0)}),n.addEventListener("rise-cache-file-unavailable",function(){RiseVision.Image.onFileUnavailable("File is downloading")}),n.setAttribute("folder",e.storage.folder),n.setAttribute("fileName",e.storage.fileName),n.setAttribute("companyId",e.storage.companyId),n.setAttribute("env",config.STORAGE_ENV),n.go()}function t(){var e=document.querySelector("rise-storage");e&&e.go()}var r=RiseVision.Common.Utilities,i=RiseVision.Common.RiseCache,o=!0;return{init:n,retry:t}};var RiseVision=RiseVision||{};RiseVision.Image=RiseVision.Image||{},RiseVision.Image.StorageFolder=function(e){"use strict";function n(e){var n;e.detail&&(e.detail.added&&s.push({name:e.detail.name,url:e.detail.url}),e.detail.changed&&(n=_.find(s,function(n){return n.name===e.detail.name}),n.url=e.detail.url),e.detail.deleted&&(s=_.reject(s,function(n){return n.name===e.detail.name}))),s=_.sortBy(s,function(e){return e.name.toLowerCase()})}function t(e){return n(e),e.detail.added&&a?(s.length>1?(a=!1,clearTimeout(u),RiseVision.Image.onFileInit(s)):u=setTimeout(function(){a=!1,RiseVision.Image.onFileInit(s)},5e3),void 0):((!e.detail.hasOwnProperty("changed")||e.detail.changed||RiseVision.Image.hasStorageError())&&RiseVision.Image.onFileRefresh(s),void 0)}function r(){var n=document.querySelector("rise-storage");n.addEventListener("rise-storage-response",t),n.addEventListener("rise-storage-api-error",function(e){var n={event:"error",event_details:"storage api error",error_details:"Response code: "+e.detail.code+", message: "+e.detail.message};RiseVision.Image.logEvent(n,!0),RiseVision.Image.showError("Sorry, there was a problem communicating with Rise Storage.")}),n.addEventListener("rise-storage-empty-folder",function(){var e={event:"error",event_details:"storage folder empty"};RiseVision.Image.logEvent(e,!0),RiseVision.Image.showError("The selected folder does not contain any images.")}),n.addEventListener("rise-storage-no-folder",function(e){var n={event:"error",event_details:"storage folder doesn't exist",error_details:e.detail};RiseVision.Image.logEvent(n,!0),RiseVision.Image.showError("The selected folder does not exist or has been moved to Trash.")}),n.addEventListener("rise-storage-folder-invalid",function(){var e={event:"error",event_details:"storage folder format(s) invalid"};RiseVision.Image.logEvent(e,!0),RiseVision.Image.showError("The selected folder does not contain any supported image formats.")}),n.addEventListener("rise-storage-subscription-expired",function(){var e={event:"error",event_details:"storage subscription expired"};RiseVision.Image.logEvent(e,!0),RiseVision.Image.showError("Rise Storage subscription is not active.")}),n.addEventListener("rise-storage-error",function(e){var n={event:"rise storage error",event_details:"The request failed with status code: "+e.detail.error.currentTarget.status};RiseVision.Image.logEvent(n,!0),RiseVision.Image.showError("Sorry, there was a problem communicating with Rise Storage.",!0)}),n.addEventListener("rise-cache-error",function(e){var n,t={event:"rise cache error",event_details:e.detail.error.message},r=0;RiseVision.Image.logEvent(t,!0),o.isV2Running()?n=o.getErrorMessage(r):(e.detail.error.message&&(r=+e.detail.error.message.substring(e.detail.error.message.indexOf(":")+2)),n=i.getRiseCacheErrorMessage(r)),RiseVision.Image.showError(n)}),n.addEventListener("rise-cache-not-running",function(e){var n={event:"error",event_details:"rise cache not running",error_details:e.detail&&e.detail.error?e.detail.error.message:""};RiseVision.Image.logEvent(n,!0)}),n.setAttribute("fileType","image"),n.setAttribute("companyId",e.storage.companyId),n.setAttribute("folder",e.storage.folder),n.setAttribute("env",config.STORAGE_ENV),n.go()}var i=RiseVision.Common.Utilities,o=RiseVision.Common.RiseCache,a=!0,s=[],u=null;return{init:r}};var RiseVision=RiseVision||{};RiseVision.Image=RiseVision.Image||{},RiseVision.Image.NonStorage=function(e){"use strict";function n(e){var n;i.getFile(l,function(e,r){var a,s=0;r?r.message&&"File is downloading"===r.message?RiseVision.Image.onFileUnavailable(r.message):(n={event:"error",event_details:"non-storage error",error_details:r.message,file_url:e.url},RiseVision.Image.logEvent(n,!0),i.isV2Running()?a=i.getErrorMessage(s):(r.message&&(s=+r.message.substring(r.message.indexOf(":")+2)),a=o.getRiseCacheErrorMessage(s)),RiseVision.Image.showError(a)):u?(u=!1,RiseVision.Image.onFileInit(e.url),t()):RiseVision.Image.onFileRefresh(e.url)},e)}function t(){null===s&&(s=setInterval(function(){n(!0)},a))}function r(){l=e.url&&""!==e.url?e.url:e.selector.url,l=o.addProtocol(l),n(!0)}var i=RiseVision.Common.RiseCache,o=RiseVision.Common.Utilities,a=3e5,s=null,u=!0,l="";return{init:r}},function(e,n,t){"use strict";function r(e,n){var t,r,i="",o="";Array.isArray(e)&&e.length>0&&Array.isArray(n)&&n.length>0&&("companyId"===e[0]&&(i=n[0]),"displayId"===e[1]&&(o=n[1]?n[1]:"preview"),RiseVision.Common.LoggerUtils.setIds(i,o),"additionalParams"===e[2]&&(t=JSON.parse(n[2]),r=0!==Object.keys(t.storage).length?t.storage.fileName?"file":"folder":"file",RiseVision.Image.setAdditionalParams(t,r)))}function i(){RiseVision.Image.pause()}function o(){RiseVision.Image.play()}function a(){RiseVision.Image.stop()}function s(){u&&""!==u&&(t.rpc.register("rscmd_play_"+u,o),t.rpc.register("rscmd_pause_"+u,i),t.rpc.register("rscmd_stop_"+u,a),t.rpc.register("rsparam_set_"+u,r),t.rpc.call("","rsparam_get",null,u,["companyId","displayId","additionalParams"]))}var u=(new t.Prefs).getString("id");e.oncontextmenu=function(){return!1},n.body.onmousedown=function(){return!1},RiseVision.Common.RiseCache.isV2Running(function(t){function r(){e.removeEventListener("WebComponentsReady",r),d=!0,f&&d&&s()}function i(){c.removeEventListener("rise-storage-ready",i),f=!0,f&&d&&s()}var o=n.createDocumentFragment(),a=n.createElement("link"),u=n.createElement("script"),l=config.COMPONENTS_PATH+(t?"rise-storage-v2":"rise-storage")+"/rise-storage.html",c=n.createElement("rise-storage"),f=!1,d=!1;u.src=config.COMPONENTS_PATH+"webcomponentsjs/webcomponents-lite.min.js",e.addEventListener("WebComponentsReady",r),n.getElementsByTagName("head")[0].appendChild(u),a.setAttribute("rel","import"),a.setAttribute("href",l),n.getElementsByTagName("head")[0].appendChild(a),c.setAttribute("refresh",5),t&&c.setAttribute("usage","widget"),c.addEventListener("rise-storage-ready",i),o.appendChild(c),n.body.appendChild(o)})}(window,document,gadgets);var _gaq=_gaq||[];_gaq.push(["_setAccount","UA-57092159-3"]),_gaq.push(["_trackPageview"]),function(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src=("https:"==document.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(e,n)}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImpzL3dpZGdldC5taW4uanMiXSwibmFtZXMiOlsiY3JlYXRlUmVkdWNlIiwiZGlyIiwiaXRlcmF0b3IiLCJvYmoiLCJpdGVyYXRlZSIsIm1lbW8iLCJrZXlzIiwiaW5kZXgiLCJsZW5ndGgiLCJjdXJyZW50S2V5IiwiY29udGV4dCIsIm9wdGltaXplQ2IiLCJpc0FycmF5TGlrZSIsIl8iLCJhcmd1bWVudHMiLCJjcmVhdGVQcmVkaWNhdGVJbmRleEZpbmRlciIsImFycmF5IiwicHJlZGljYXRlIiwiY2IiLCJnZXRMZW5ndGgiLCJjcmVhdGVJbmRleEZpbmRlciIsInByZWRpY2F0ZUZpbmQiLCJzb3J0ZWRJbmRleCIsIml0ZW0iLCJpZHgiLCJpIiwiTWF0aCIsIm1heCIsIm1pbiIsInNsaWNlIiwiY2FsbCIsImlzTmFOIiwiY29sbGVjdE5vbkVudW1Qcm9wcyIsIm5vbkVudW1JZHgiLCJub25FbnVtZXJhYmxlUHJvcHMiLCJjb25zdHJ1Y3RvciIsInByb3RvIiwiaXNGdW5jdGlvbiIsInByb3RvdHlwZSIsIk9ialByb3RvIiwicHJvcCIsImhhcyIsImNvbnRhaW5zIiwicHVzaCIsInJvb3QiLCJ0aGlzIiwicHJldmlvdXNVbmRlcnNjb3JlIiwiQXJyYXlQcm90byIsIkFycmF5IiwiT2JqZWN0IiwiRnVuY1Byb3RvIiwiRnVuY3Rpb24iLCJ0b1N0cmluZyIsImhhc093blByb3BlcnR5IiwibmF0aXZlSXNBcnJheSIsImlzQXJyYXkiLCJuYXRpdmVLZXlzIiwibmF0aXZlQmluZCIsImJpbmQiLCJuYXRpdmVDcmVhdGUiLCJjcmVhdGUiLCJDdG9yIiwiX3dyYXBwZWQiLCJleHBvcnRzIiwibW9kdWxlIiwiVkVSU0lPTiIsImZ1bmMiLCJhcmdDb3VudCIsInZhbHVlIiwib3RoZXIiLCJjb2xsZWN0aW9uIiwiYWNjdW11bGF0b3IiLCJhcHBseSIsImlkZW50aXR5IiwiaXNPYmplY3QiLCJtYXRjaGVyIiwicHJvcGVydHkiLCJJbmZpbml0eSIsImNyZWF0ZUFzc2lnbmVyIiwia2V5c0Z1bmMiLCJ1bmRlZmluZWRPbmx5Iiwic291cmNlIiwibCIsImtleSIsImJhc2VDcmVhdGUiLCJyZXN1bHQiLCJNQVhfQVJSQVlfSU5ERVgiLCJwb3ciLCJlYWNoIiwiZm9yRWFjaCIsIm1hcCIsImNvbGxlY3QiLCJyZXN1bHRzIiwicmVkdWNlIiwiZm9sZGwiLCJpbmplY3QiLCJyZWR1Y2VSaWdodCIsImZvbGRyIiwiZmluZCIsImRldGVjdCIsImZpbmRJbmRleCIsImZpbmRLZXkiLCJmaWx0ZXIiLCJzZWxlY3QiLCJsaXN0IiwicmVqZWN0IiwibmVnYXRlIiwiZXZlcnkiLCJhbGwiLCJzb21lIiwiYW55IiwiaW5jbHVkZXMiLCJpbmNsdWRlIiwiZnJvbUluZGV4IiwiZ3VhcmQiLCJ2YWx1ZXMiLCJpbmRleE9mIiwiaW52b2tlIiwibWV0aG9kIiwiYXJncyIsImlzRnVuYyIsInBsdWNrIiwid2hlcmUiLCJhdHRycyIsImZpbmRXaGVyZSIsImNvbXB1dGVkIiwibGFzdENvbXB1dGVkIiwic2h1ZmZsZSIsInJhbmQiLCJzZXQiLCJzaHVmZmxlZCIsInJhbmRvbSIsInNhbXBsZSIsIm4iLCJzb3J0QnkiLCJjcml0ZXJpYSIsInNvcnQiLCJsZWZ0IiwicmlnaHQiLCJhIiwiYiIsImdyb3VwIiwiYmVoYXZpb3IiLCJncm91cEJ5IiwiaW5kZXhCeSIsImNvdW50QnkiLCJ0b0FycmF5Iiwic2l6ZSIsInBhcnRpdGlvbiIsInBhc3MiLCJmYWlsIiwiZmlyc3QiLCJoZWFkIiwidGFrZSIsImluaXRpYWwiLCJsYXN0IiwicmVzdCIsInRhaWwiLCJkcm9wIiwiY29tcGFjdCIsImZsYXR0ZW4iLCJpbnB1dCIsInNoYWxsb3ciLCJzdHJpY3QiLCJzdGFydEluZGV4Iiwib3V0cHV0IiwiaXNBcmd1bWVudHMiLCJqIiwibGVuIiwid2l0aG91dCIsImRpZmZlcmVuY2UiLCJ1bmlxIiwidW5pcXVlIiwiaXNTb3J0ZWQiLCJpc0Jvb2xlYW4iLCJzZWVuIiwidW5pb24iLCJpbnRlcnNlY3Rpb24iLCJhcmdzTGVuZ3RoIiwiemlwIiwidW56aXAiLCJvYmplY3QiLCJmaW5kTGFzdEluZGV4IiwibG93IiwiaGlnaCIsIm1pZCIsImZsb29yIiwibGFzdEluZGV4T2YiLCJyYW5nZSIsInN0YXJ0Iiwic3RvcCIsInN0ZXAiLCJjZWlsIiwiZXhlY3V0ZUJvdW5kIiwic291cmNlRnVuYyIsImJvdW5kRnVuYyIsImNhbGxpbmdDb250ZXh0Iiwic2VsZiIsIlR5cGVFcnJvciIsImJvdW5kIiwiY29uY2F0IiwicGFydGlhbCIsImJvdW5kQXJncyIsInBvc2l0aW9uIiwiYmluZEFsbCIsIkVycm9yIiwibWVtb2l6ZSIsImhhc2hlciIsImNhY2hlIiwiYWRkcmVzcyIsImRlbGF5Iiwid2FpdCIsInNldFRpbWVvdXQiLCJkZWZlciIsInRocm90dGxlIiwib3B0aW9ucyIsInRpbWVvdXQiLCJwcmV2aW91cyIsImxhdGVyIiwibGVhZGluZyIsIm5vdyIsInJlbWFpbmluZyIsImNsZWFyVGltZW91dCIsInRyYWlsaW5nIiwiZGVib3VuY2UiLCJpbW1lZGlhdGUiLCJ0aW1lc3RhbXAiLCJjYWxsTm93Iiwid3JhcCIsIndyYXBwZXIiLCJjb21wb3NlIiwiYWZ0ZXIiLCJ0aW1lcyIsImJlZm9yZSIsIm9uY2UiLCJoYXNFbnVtQnVnIiwicHJvcGVydHlJc0VudW1lcmFibGUiLCJhbGxLZXlzIiwibWFwT2JqZWN0IiwicGFpcnMiLCJpbnZlcnQiLCJmdW5jdGlvbnMiLCJtZXRob2RzIiwibmFtZXMiLCJleHRlbmQiLCJleHRlbmRPd24iLCJhc3NpZ24iLCJwaWNrIiwib2l0ZXJhdGVlIiwib21pdCIsIlN0cmluZyIsImRlZmF1bHRzIiwicHJvcHMiLCJjbG9uZSIsInRhcCIsImludGVyY2VwdG9yIiwiaXNNYXRjaCIsImVxIiwiYVN0YWNrIiwiYlN0YWNrIiwiY2xhc3NOYW1lIiwiYXJlQXJyYXlzIiwiYUN0b3IiLCJiQ3RvciIsInBvcCIsImlzRXF1YWwiLCJpc0VtcHR5IiwiaXNTdHJpbmciLCJpc0VsZW1lbnQiLCJub2RlVHlwZSIsInR5cGUiLCJuYW1lIiwiSW50OEFycmF5IiwiaXNGaW5pdGUiLCJwYXJzZUZsb2F0IiwiaXNOdW1iZXIiLCJpc051bGwiLCJpc1VuZGVmaW5lZCIsIm5vQ29uZmxpY3QiLCJjb25zdGFudCIsIm5vb3AiLCJwcm9wZXJ0eU9mIiwibWF0Y2hlcyIsImFjY3VtIiwiRGF0ZSIsImdldFRpbWUiLCJlc2NhcGVNYXAiLCImIiwiPCIsIj4iLCJcIiIsIiciLCJgIiwidW5lc2NhcGVNYXAiLCJjcmVhdGVFc2NhcGVyIiwiZXNjYXBlciIsIm1hdGNoIiwiam9pbiIsInRlc3RSZWdleHAiLCJSZWdFeHAiLCJyZXBsYWNlUmVnZXhwIiwic3RyaW5nIiwidGVzdCIsInJlcGxhY2UiLCJlc2NhcGUiLCJ1bmVzY2FwZSIsImZhbGxiYWNrIiwiaWRDb3VudGVyIiwidW5pcXVlSWQiLCJwcmVmaXgiLCJpZCIsInRlbXBsYXRlU2V0dGluZ3MiLCJldmFsdWF0ZSIsImludGVycG9sYXRlIiwibm9NYXRjaCIsImVzY2FwZXMiLCJcXCIsIlxyIiwiXG4iLCLigKgiLCLigKkiLCJlc2NhcGVDaGFyIiwidGVtcGxhdGUiLCJ0ZXh0Iiwic2V0dGluZ3MiLCJvbGRTZXR0aW5ncyIsIm9mZnNldCIsInZhcmlhYmxlIiwicmVuZGVyIiwiZSIsImRhdGEiLCJhcmd1bWVudCIsImNoYWluIiwiaW5zdGFuY2UiLCJfY2hhaW4iLCJtaXhpbiIsInZhbHVlT2YiLCJ0b0pTT04iLCJkZWZpbmUiLCJhbWQiLCJXSURHRVRfQ09NTU9OX0NPTkZJRyIsIkFVVEhfUEFUSF9VUkwiLCJMT0dHRVJfQ0xJRU5UX0lEIiwiTE9HR0VSX0NMSUVOVF9TRUNSRVQiLCJMT0dHRVJfUkVGUkVTSF9UT0tFTiIsIlNUT1JFX1VSTCIsIlJpc2VWaXNpb24iLCJDb21tb24iLCJMb2dnZXJVdGlscyIsImdldEV2ZW50UGFyYW1zIiwicGFyYW1zIiwianNvbiIsImV2ZW50IiwiZmlsZV91cmwiLCJmaWxlX2Zvcm1hdCIsImdldEZpbGVGb3JtYXQiLCJjb21wYW55X2lkIiwiY29tcGFueUlkIiwiZGlzcGxheV9pZCIsImRpc3BsYXlJZCIsInZlcnNpb24iLCJnZXRTdWZmaXgiLCJkYXRlIiwieWVhciIsImdldFVUQ0Z1bGxZZWFyIiwibW9udGgiLCJnZXRVVENNb250aCIsImRheSIsImdldFVUQ0RhdGUiLCJ1cmwiLCJzdHIiLCJoYXNQYXJhbXMiLCJzdWJzdHIiLCJ0b0xvd2VyQ2FzZSIsImdldEluc2VydERhdGEiLCJCQVNFX0lOU0VSVF9TQ0hFTUEiLCJraW5kIiwic2tpcEludmFsaWRSb3dzIiwiaWdub3JlVW5rbm93blZhbHVlcyIsInRlbXBsYXRlU3VmZml4Iiwicm93cyIsImluc2VydElkIiwiSlNPTiIsInBhcnNlIiwic3RyaW5naWZ5IiwidG9VcHBlckNhc2UiLCJ0cyIsInRvSVNPU3RyaW5nIiwibG9nRXZlbnQiLCJ0YWJsZSIsIkxvZ2dlciIsImxvZyIsInNldElkcyIsImNvbXBhbnkiLCJkaXNwbGF5Iiwic2V0VmVyc2lvbiIsInV0aWxzIiwicmVmcmVzaFRva2VuIiwieGhyIiwiWE1MSHR0cFJlcXVlc3QiLCJyZWZyZXNoRGF0ZSIsIm9wZW4iLCJSRUZSRVNIX1VSTCIsIm9ubG9hZGVuZCIsInJlc3AiLCJyZXNwb25zZSIsInRva2VuIiwiYWNjZXNzX3Rva2VuIiwicmVmcmVzaGVkQXQiLCJzZW5kIiwiaXNUaHJvdHRsZWQiLCJsYXN0RXZlbnQiLCJ0YWJsZU5hbWUiLCJpbnNlcnRXaXRoVG9rZW4iLCJyZWZyZXNoRGF0YSIsImluc2VydERhdGEiLCJzZXJ2aWNlVXJsIiwic2V0UmVxdWVzdEhlYWRlciIsInRocm90dGxlRGVsYXkiLCJSaXNlQ2FjaGUiLCJwaW5nIiwiY2FsbGJhY2siLCJyIiwiX2lzVjJSdW5uaW5nIiwiQkFTRV9DQUNIRV9VUkwiLCJvbnJlYWR5c3RhdGVjaGFuZ2UiLCJyZWFkeVN0YXRlIiwiX3BpbmdSZWNlaXZlZCIsInN0YXR1cyIsIl9pc0NhY2hlUnVubmluZyIsInJlc3BvbnNlVGV4dCIsImNvbnNvbGUiLCJkZWJ1ZyIsImRlc2NyaXB0aW9uIiwiZ2V0RmlsZSIsImZpbGVVcmwiLCJub2NhY2hlYnVzdGVyIiwiZmlsZVJlcXVlc3QiLCJzZXBhcmF0b3IiLCJlbmNvZGVVUklDb21wb25lbnQiLCJzcGxpdCIsIm1ha2VSZXF1ZXN0IiwicmVxdWVzdCIsImFkZEV2ZW50TGlzdGVuZXIiLCJ0b3RhbENhY2hlUmVxdWVzdHMiLCJnZXRFcnJvck1lc3NhZ2UiLCJzdGF0dXNDb2RlIiwiZXJyb3JNZXNzYWdlIiwiaXNSaXNlQ2FjaGVSdW5uaW5nIiwiaXNWMlJ1bm5pbmciLCJVdGlsaXRpZXMiLCJnZXRGb250Q3NzU3R5bGUiLCJmb250T2JqIiwiZmFtaWx5IiwiZGVjb2RlVVJJQ29tcG9uZW50IiwiZm9udCIsImNvbG9yIiwiZm9yZWNvbG9yIiwid2VpZ2h0IiwiYm9sZCIsIml0YWxpYyIsInVuZGVybGluZSIsImhpZ2hsaWdodCIsImhpZ2hsaWdodENvbG9yIiwiYmFja2NvbG9yIiwiYWRkQ1NTUnVsZXMiLCJydWxlcyIsInN0eWxlIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiYXBwZW5kQ2hpbGQiLCJjcmVhdGVUZXh0Tm9kZSIsImxvYWRGb250cyIsIm9uR29vZ2xlRm9udHNMb2FkZWQiLCJmYW1pbGllcyIsImdvb2dsZUZhbWlsaWVzIiwiY3VzdG9tRmFtaWxpZXMiLCJjdXN0b21VcmxzIiwiY2xhc3MiLCJmb250U3R5bGUiLCJsb2FkQ3VzdG9tRm9udCIsImxvYWRHb29nbGVGb250cyIsImNvbnRlbnREb2MiLCJzaGVldCIsInJ1bGUiLCJzdHlsZVNoZWV0cyIsImFkZFJ1bGUiLCJXZWJGb250IiwibG9hZCIsImdvb2dsZSIsImFjdGl2ZSIsImluYWN0aXZlIiwicHJlbG9hZEltYWdlcyIsInVybHMiLCJpbWFnZXMiLCJJbWFnZSIsInNyYyIsImdldFF1ZXJ5UGFyYW1ldGVyIiwicGFyYW0iLCJwYWlyIiwicXVlcnkiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsInNlYXJjaCIsInN1YnN0cmluZyIsInZhcnMiLCJnZXRSaXNlQ2FjaGVFcnJvck1lc3NhZ2UiLCJ1bmVzY2FwZUhUTUwiLCJodG1sIiwiZGl2IiwiaW5uZXJIVE1MIiwidGV4dENvbnRlbnQiLCJoYXNJbnRlcm5ldENvbm5lY3Rpb24iLCJmaWxlUGF0aCIsImlzTGVnYWN5IiwibGVnYWN5VmVyc2lvbiIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsInBhcnNlSW50IiwiYWRkUHJvdG9jb2wiLCJzZWN1cmUiLCJhbmd1bGFyIiwiY29uZmlnIiwiU1RPUkFHRV9FTlYiLCJDT01QT05FTlRTX1BBVEgiLCJnYWRnZXRzIiwiX3JlYWR5IiwicnBjIiwiX3ByZWZzIiwiZ2V0U3RyaW5nIiwiX2RvbmUiLCJfZXJyb3JMb2ciLCJfZ2V0Q3VycmVudEZpbGUiLCJfY2xlYXJFcnJvclRpbWVyIiwiX2Vycm9yVGltZXIiLCJfc3RhcnRFcnJvclRpbWVyIiwic2xpZGVOdW0iLCJfY3VycmVudEZpbGVzIiwiX21vZGUiLCJfc2xpZGVyIiwiaXNSZWFkeSIsImdldEN1cnJlbnRTbGlkZSIsImluaXQiLCJpc1N0b3JhZ2VGaWxlIiwiY29udGFpbmVyIiwiZ2V0RWxlbWVudEJ5SWQiLCJmcmFnbWVudCIsImNyZWF0ZURvY3VtZW50RnJhZ21lbnQiLCJlbCIsIl9tZXNzYWdlIiwiTWVzc2FnZSIsInNob3ciLCJfcGFyYW1zIiwiYmFja2dyb3VuZCIsImJvZHkiLCJfZ2V0SW1hZ2VFbGVtZW50IiwiX2ltZyIsInN0b3JhZ2UiLCJfY29uZmlndXJhdGlvblR5cGUiLCJfc3RvcmFnZSIsIlN0b3JhZ2VGaWxlIiwiX25vblN0b3JhZ2UiLCJOb25TdG9yYWdlIiwiU3RvcmFnZUZvbGRlciIsInNldEF0dHJpYnV0ZSIsInNjYWxlVG9GaXQiLCJzZXRTaW5nbGVJbWFnZSIsIm9ubG9hZCIsImltYWdlIiwicXVlcnlTZWxlY3RvciIsImJhY2tncm91bmRJbWFnZSIsIl9pc0dpZiIsIl92aWV3ZXJQYXVzZWQiLCJ2aXNpYmlsaXR5Iiwib25lcnJvciIsImV2ZW50X2RldGFpbHMiLCJoYXNTdG9yYWdlRXJyb3IiLCJfc3RvcmFnZUVycm9yRmxhZyIsImlzRXJyb3IiLCJnZXRUYWJsZU5hbWUiLCJvbkZpbGVJbml0IiwiX3VuYXZhaWxhYmxlRmxhZyIsImhpZGUiLCJTbGlkZXIiLCJvbkZpbGVSZWZyZXNoIiwicmVmcmVzaCIsIl9lcnJvckZsYWciLCJvbkZpbGVVbmF2YWlsYWJsZSIsIm1lc3NhZ2UiLCJzZXRBZGRpdGlvbmFsUGFyYW1zIiwiYWRkaXRpb25hbFBhcmFtcyIsIm1vZGVUeXBlIiwid2lkdGgiLCJnZXRJbnQiLCJoZWlnaHQiLCJvblNsaWRlclJlYWR5IiwicGxheSIsIm9uU2xpZGVyQ29tcGxldGUiLCJwYXVzZSIsIl9jb25maWd1cmF0aW9uTG9nZ2VkIiwicmV0cnkiLCJzaG93RXJyb3IiLCJpc1N0b3JhZ2VFcnJvciIsImRlc3Ryb3kiLCJQcmVmcyIsIm1haW5Db250YWluZXIiLCJtZXNzYWdlQ29udGFpbmVyIiwiX2luaXQiLCJ3YXJuIiwiX2FjdGl2ZSIsImZpcnN0Q2hpbGQiLCJyZW1vdmVDaGlsZCIsInAiLCJhZGRTbGlkZXMiLCJzbGlkZXMiLCJzbGlkZSIsInRvdGFsU2xpZGVzIiwiY3VycmVudEZpbGVzIiwiZmlsZSIsImR1cmF0aW9uIiwib25TbGlkZUNoYW5nZWQiLCJpc0ludGVyYWN0aW5nIiwiaXNMYXN0U2xpZGUiLCJyZWZyZXNoU2xpZGVyIiwiJGFwaSIsImRlc3Ryb3lTbGlkZXIiLCJuZXdGaWxlcyIsInNsaWRlSW5kZXgiLCIkIiwib2ZmIiwicmV2a2lsbCIsImhhbmRsZVVzZXJBY3Rpdml0eSIsInNsaWRlVGltZXIiLCJyZXZuZXh0IiwicmV2cmVzdW1lIiwiaXNQbGF5aW5nIiwiaGlkZU5hdiIsImF1dG9IaWRlIiwibmF2VGltZXIiLCJhZGRDbGFzcyIsIm5hdlRpbWVvdXQiLCJyZXZjdXJyZW50c2xpZGUiLCJmaWxlcyIsInRwQmFubmVyQ29udGFpbmVyIiwidHBCYW5uZXIiLCJ1bCIsImlzTG9hZGluZyIsInJldm9sdXRpb24iLCJoaWRlVGh1bWJzIiwiaGlkZVRpbWVyQmFyIiwibmF2aWdhdGlvblR5cGUiLCJvbkhvdmVyU3RvcCIsInN0YXJ0d2lkdGgiLCJzdGFydGhlaWdodCIsIm9uIiwicmVtb3ZlQ2xhc3MiLCJyZXN1bWUiLCJyZXZzaG93c2xpZGUiLCJyZXZwYXVzZSIsImRldGFpbCIsIl9pbml0aWFsTG9hZCIsImNoYW5nZWQiLCJlcnJvcl9kZXRhaWxzIiwiY29kZSIsImltZyIsImVycm9yIiwiY3VycmVudFRhcmdldCIsInJpc2VDYWNoZSIsImZvbGRlciIsImZpbGVOYW1lIiwiZ28iLCJwcm9jZXNzVXJsIiwiYWRkZWQiLCJfZmlsZXMiLCJkZWxldGVkIiwiaGFuZGxlUmVzcG9uc2UiLCJfaXNMb2FkaW5nIiwiX3RpbWVyIiwiX2dldEZpbGUiLCJvbWl0Q2FjaGVCdXN0ZXIiLCJfdXJsIiwiX3N0YXJ0UmVmcmVzaEludGVydmFsIiwiX3JlZnJlc2hJbnRlcnZhbElkIiwic2V0SW50ZXJ2YWwiLCJfcmVmcmVzaER1cmF0aW9uIiwic2VsZWN0b3IiLCJjb25maWd1cmUiLCJtb2RlIiwicmVnaXN0ZXIiLCJvbmNvbnRleHRtZW51Iiwib25tb3VzZWRvd24iLCJpc1YyIiwib25Qb2x5bWVyUmVhZHkiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwicG9seW1lclJlYWR5Iiwic3RvcmFnZVJlYWR5Iiwib25TdG9yYWdlUmVhZHkiLCJsaW5rIiwid2ViY29tcG9uZW50cyIsImhyZWYiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsIl9nYXEiLCJnYSIsImFzeW5jIiwicHJvdG9jb2wiLCJzIiwicGFyZW50Tm9kZSIsImluc2VydEJlZm9yZSJdLCJtYXBwaW5ncyI6IkNBS0MsV0E0S0MsUUFBU0EsR0FBYUMsR0FHcEIsUUFBU0MsR0FBU0MsRUFBS0MsRUFBVUMsRUFBTUMsRUFBTUMsRUFBT0MsR0FDbEQsS0FBT0QsR0FBUyxHQUFhQyxFQUFSRCxFQUFnQkEsR0FBU04sRUFBSyxDQUNqRCxHQUFJUSxHQUFhSCxFQUFPQSxFQUFLQyxHQUFTQSxDQUN0Q0YsR0FBT0Qs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RixHQUdyQnpGLEVBQVNzRixLQUFLcEYsWUFBWTRFLE1BRzNCN0MsT0FBUWpDLFNBQVV5RCxRQUdyQixJQUFJZ0wsTUFBT0EsUUFFWEEsTUFBS2xwQixNQUFNLGNBQWUsa0JBQzFCa3BCLEtBQUtscEIsTUFBTSxtQkFFWCxXQUNFLEdBQUltcEIsR0FBSzFPLFNBQVNDLGNBQWMsU0FBV3lPLEdBQUdoYixLQUFPLGtCQUFtQmdiLEVBQUdDLE9BQVEsRUFDbkZELEVBQUc5TSxLQUFPLFVBQVk1QixTQUFTa0MsU0FBUzBNLFNBQVcsY0FBZ0IsY0FBZ0IsNkJBQ25GLElBQUlDLEdBQUk3TyxTQUFTd08scUJBQXFCLFVBQVUsRUFBSUssR0FBRUMsV0FBV0MsYUFBYUwsRUFBSUciLCJmaWxlIjoianMvd2lkZ2V0Lm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vICAgICBVbmRlcnNjb3JlLmpzIDEuOC4zXG4vLyAgICAgaHR0cDovL3VuZGVyc2NvcmVqcy5vcmdcbi8vICAgICAoYykgMjAwOS0yMDE1IEplcmVteSBBc2hrZW5hcywgRG9jdW1lbnRDbG91ZCBhbmQgSW52ZXN0aWdhdGl2ZSBSZXBvcnRlcnMgJiBFZGl0b3JzXG4vLyAgICAgVW5kZXJzY29yZSBtYXkgYmUgZnJlZWx5IGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cblxuKGZ1bmN0aW9uKCkge1xuXG4gIC8vIEJhc2VsaW5lIHNldHVwXG4gIC8vIC0tLS0tLS0tLS0tLS0tXG5cbiAgLy8gRXN0YWJsaXNoIHRoZSByb290IG9iamVjdCwgYHdpbmRvd2AgaW4gdGhlIGJyb3dzZXIsIG9yIGBleHBvcnRzYCBvbiB0aGUgc2VydmVyLlxuICB2YXIgcm9vdCA9IHRoaXM7XG5cbiAgLy8gU2F2ZSB0aGUgcHJldmlvdXMgdmFsdWUgb2YgdGhlIGBfYCB2YXJpYWJsZS5cbiAgdmFyIHByZXZpb3VzVW5kZXJzY29yZSA9IHJvb3QuXztcblxuICAvLyBTYXZlIGJ5dGVzIGluIHRoZSBtaW5pZmllZCAoYnV0IG5vdCBnemlwcGVkKSB2ZXJzaW9uOlxuICB2YXIgQXJyYXlQcm90byA9IEFycmF5LnByb3RvdHlwZSwgT2JqUHJvdG8gPSBPYmplY3QucHJvdG90eXBlLCBGdW5jUHJvdG8gPSBGdW5jdGlvbi5wcm90b3R5cGU7XG5cbiAgLy8gQ3JlYXRlIHF1aWNrIHJlZmVyZW5jZSB2YXJpYWJsZXMgZm9yIHNwZWVkIGFjY2VzcyB0byBjb3JlIHByb3RvdHlwZXMuXG4gIHZhclxuICAgIHB1c2ggICAgICAgICAgICAgPSBBcnJheVByb3RvLnB1c2gsXG4gICAgc2xpY2UgICAgICAgICAgICA9IEFycmF5UHJvdG8uc2xpY2UsXG4gICAgdG9TdHJpbmcgICAgICAgICA9IE9ialByb3RvLnRvU3RyaW5nLFxuICAgIGhhc093blByb3BlcnR5ICAgPSBPYmpQcm90by5oYXNPd25Qcm9wZXJ0eTtcblxuICAvLyBBbGwgKipFQ01BU2NyaXB0IDUqKiBuYXRpdmUgZnVuY3Rpb24gaW1wbGVtZW50YXRpb25zIHRoYXQgd2UgaG9wZSB0byB1c2VcbiAgLy8gYXJlIGRlY2xhcmVkIGhlcmUuXG4gIHZhclxuICAgIG5hdGl2ZUlzQXJyYXkgICAgICA9IEFycmF5LmlzQXJyYXksXG4gICAgbmF0aXZlS2V5cyAgICAgICAgID0gT2JqZWN0LmtleXMsXG4gICAgbmF0aXZlQmluZCAgICAgICAgID0gRnVuY1Byb3RvLmJpbmQsXG4gICAgbmF0aXZlQ3JlYXRlICAgICAgID0gT2JqZWN0LmNyZWF0ZTtcblxuICAvLyBOYWtlZCBmdW5jdGlvbiByZWZlcmVuY2UgZm9yIHN1cnJvZ2F0ZS1wcm90b3R5cGUtc3dhcHBpbmcuXG4gIHZhciBDdG9yID0gZnVuY3Rpb24oKXt9O1xuXG4gIC8vIENyZWF0ZSBhIHNhZmUgcmVmZXJlbmNlIHRvIHRoZSBVbmRlcnNjb3JlIG9iamVjdCBmb3IgdXNlIGJlbG93LlxuICB2YXIgXyA9IGZ1bmN0aW9uKG9iaikge1xuICAgIGlmIChvYmogaW5zdGFuY2VvZiBfKSByZXR1cm4gb2JqO1xuICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBfKSkgcmV0dXJuIG5ldyBfKG9iaik7XG4gICAgdGhpcy5fd3JhcHBlZCA9IG9iajtcbiAgfTtcblxuICAvLyBFeHBvcnQgdGhlIFVuZGVyc2NvcmUgb2JqZWN0IGZvciAqKk5vZGUuanMqKiwgd2l0aFxuICAvLyBiYWNrd2FyZHMtY29tcGF0aWJpbGl0eSBmb3IgdGhlIG9sZCBgcmVxdWlyZSgpYCBBUEkuIElmIHdlJ3JlIGluXG4gIC8vIHRoZSBicm93c2VyLCBhZGQgYF9gIGFzIGEgZ2xvYmFsIG9iamVjdC5cbiAgaWYgKHR5cGVvZiBleHBvcnRzICE9PSAndW5kZWZpbmVkJykge1xuICAgIGlmICh0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyAmJiBtb2R1bGUuZXhwb3J0cykge1xuICAgICAgZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gXztcbiAgICB9XG4gICAgZXhwb3J0cy5fID0gXztcbiAgfSBlbHNlIHtcbiAgICByb290Ll8gPSBfO1xuICB9XG5cbiAgLy8gQ3VycmVudCB2ZXJzaW9uLlxuICBfLlZFUlNJT04gPSAnMS44LjMnO1xuXG4gIC8vIEludGVybmFsIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhbiBlZmZpY2llbnQgKGZvciBjdXJyZW50IGVuZ2luZXMpIHZlcnNpb25cbiAgLy8gb2YgdGhlIHBhc3NlZC1pbiBjYWxsYmFjaywgdG8gYmUgcmVwZWF0ZWRseSBhcHBsaWVkIGluIG90aGVyIFVuZGVyc2NvcmVcbiAgLy8gZnVuY3Rpb25zLlxuICB2YXIgb3B0aW1pemVDYiA9IGZ1bmN0aW9uKGZ1bmMsIGNvbnRleHQsIGFyZ0NvdW50KSB7XG4gICAgaWYgKGNvbnRleHQgPT09IHZvaWQgMCkgcmV0dXJuIGZ1bmM7XG4gICAgc3dpdGNoIChhcmdDb3VudCA9PSBudWxsID8gMyA6IGFyZ0NvdW50KSB7XG4gICAgICBjYXNlIDE6IHJldHVybiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICByZXR1cm4gZnVuYy5jYWxsKGNvbnRleHQsIHZhbHVlKTtcbiAgICAgIH07XG4gICAgICBjYXNlIDI6IHJldHVybiBmdW5jdGlvbih2YWx1ZSwgb3RoZXIpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmMuY2FsbChjb250ZXh0LCB2YWx1ZSwgb3RoZXIpO1xuICAgICAgfTtcbiAgICAgIGNhc2UgMzogcmV0dXJuIGZ1bmN0aW9uKHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbikge1xuICAgICAgICByZXR1cm4gZnVuYy5jYWxsKGNvbnRleHQsIHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbik7XG4gICAgICB9O1xuICAgICAgY2FzZSA0OiByZXR1cm4gZnVuY3Rpb24oYWNjdW11bGF0b3IsIHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbikge1xuICAgICAgICByZXR1cm4gZnVuYy5jYWxsKGNvbnRleHQsIGFjY3VtdWxhdG9yLCB2YWx1ZSwgaW5kZXgsIGNvbGxlY3Rpb24pO1xuICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIGZ1bmMuYXBwbHkoY29udGV4dCwgYXJndW1lbnRzKTtcbiAgICB9O1xuICB9O1xuXG4gIC8vIEEgbW9zdGx5LWludGVybmFsIGZ1bmN0aW9uIHRvIGdlbmVyYXRlIGNhbGxiYWNrcyB0aGF0IGNhbiBiZSBhcHBsaWVkXG4gIC8vIHRvIGVhY2ggZWxlbWVudCBpbiBhIGNvbGxlY3Rpb24sIHJldHVybmluZyB0aGUgZGVzaXJlZCByZXN1bHQg4oCUIGVpdGhlclxuICAvLyBpZGVudGl0eSwgYW4gYXJiaXRyYXJ5IGNhbGxiYWNrLCBhIHByb3BlcnR5IG1hdGNoZXIsIG9yIGEgcHJvcGVydHkgYWNjZXNzb3IuXG4gIHZhciBjYiA9IGZ1bmN0aW9uKHZhbHVlLCBjb250ZXh0LCBhcmdDb3VudCkge1xuICAgIGlmICh2YWx1ZSA9PSBudWxsKSByZXR1cm4gXy5pZGVudGl0eTtcbiAgICBpZiAoXy5pc0Z1bmN0aW9uKHZhbHVlKSkgcmV0dXJuIG9wdGltaXplQ2IodmFsdWUsIGNvbnRleHQsIGFyZ0NvdW50KTtcbiAgICBpZiAoXy5pc09iamVjdCh2YWx1ZSkpIHJldHVybiBfLm1hdGNoZXIodmFsdWUpO1xuICAgIHJldHVybiBfLnByb3BlcnR5KHZhbHVlKTtcbiAgfTtcbiAgXy5pdGVyYXRlZSA9IGZ1bmN0aW9uKHZhbHVlLCBjb250ZXh0KSB7XG4gICAgcmV0dXJuIGNiKHZhbHVlLCBjb250ZXh0LCBJbmZpbml0eSk7XG4gIH07XG5cbiAgLy8gQW4gaW50ZXJuYWwgZnVuY3Rpb24gZm9yIGNyZWF0aW5nIGFzc2lnbmVyIGZ1bmN0aW9ucy5cbiAgdmFyIGNyZWF0ZUFzc2lnbmVyID0gZnVuY3Rpb24oa2V5c0Z1bmMsIHVuZGVmaW5lZE9ubHkpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24ob2JqKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgIGlmIChsZW5ndGggPCAyIHx8IG9iaiA9PSBudWxsKSByZXR1cm4gb2JqO1xuICAgICAgZm9yICh2YXIgaW5kZXggPSAxOyBpbmRleCA8IGxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2luZGV4XSxcbiAgICAgICAgICAgIGtleXMgPSBrZXlzRnVuYyhzb3VyY2UpLFxuICAgICAgICAgICAgbCA9IGtleXMubGVuZ3RoO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGw7IGkrKykge1xuICAgICAgICAgIHZhciBrZXkgPSBrZXlzW2ldO1xuICAgICAgICAgIGlmICghdW5kZWZpbmVkT25seSB8fCBvYmpba2V5XSA9PT0gdm9pZCAwKSBvYmpba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gb2JqO1xuICAgIH07XG4gIH07XG5cbiAgLy8gQW4gaW50ZXJuYWwgZnVuY3Rpb24gZm9yIGNyZWF0aW5nIGEgbmV3IG9iamVjdCB0aGF0IGluaGVyaXRzIGZyb20gYW5vdGhlci5cbiAgdmFyIGJhc2VDcmVhdGUgPSBmdW5jdGlvbihwcm90b3R5cGUpIHtcbiAgICBpZiAoIV8uaXNPYmplY3QocHJvdG90eXBlKSkgcmV0dXJuIHt9O1xuICAgIGlmIChuYXRpdmVDcmVhdGUpIHJldHVybiBuYXRpdmVDcmVhdGUocHJvdG90eXBlKTtcbiAgICBDdG9yLnByb3RvdHlwZSA9IHByb3RvdHlwZTtcbiAgICB2YXIgcmVzdWx0ID0gbmV3IEN0b3I7XG4gICAgQ3Rvci5wcm90b3R5cGUgPSBudWxsO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG5cbiAgdmFyIHByb3BlcnR5ID0gZnVuY3Rpb24oa2V5KSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKG9iaikge1xuICAgICAgcmV0dXJuIG9iaiA9PSBudWxsID8gdm9pZCAwIDogb2JqW2tleV07XG4gICAgfTtcbiAgfTtcblxuICAvLyBIZWxwZXIgZm9yIGNvbGxlY3Rpb24gbWV0aG9kcyB0byBkZXRlcm1pbmUgd2hldGhlciBhIGNvbGxlY3Rpb25cbiAgLy8gc2hvdWxkIGJlIGl0ZXJhdGVkIGFzIGFuIGFycmF5IG9yIGFzIGFuIG9iamVjdFxuICAvLyBSZWxhdGVkOiBodHRwOi8vcGVvcGxlLm1vemlsbGEub3JnL35qb3JlbmRvcmZmL2VzNi1kcmFmdC5odG1sI3NlYy10b2xlbmd0aFxuICAvLyBBdm9pZHMgYSB2ZXJ5IG5hc3R5IGlPUyA4IEpJVCBidWcgb24gQVJNLTY0LiAjMjA5NFxuICB2YXIgTUFYX0FSUkFZX0lOREVYID0gTWF0aC5wb3coMiwgNTMpIC0gMTtcbiAgdmFyIGdldExlbmd0aCA9IHByb3BlcnR5KCdsZW5ndGgnKTtcbiAgdmFyIGlzQXJyYXlMaWtlID0gZnVuY3Rpb24oY29sbGVjdGlvbikge1xuICAgIHZhciBsZW5ndGggPSBnZXRMZW5ndGgoY29sbGVjdGlvbik7XG4gICAgcmV0dXJuIHR5cGVvZiBsZW5ndGggPT0gJ251bWJlcicgJiYgbGVuZ3RoID49IDAgJiYgbGVuZ3RoIDw9IE1BWF9BUlJBWV9JTkRFWDtcbiAgfTtcblxuICAvLyBDb2xsZWN0aW9uIEZ1bmN0aW9uc1xuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gIC8vIFRoZSBjb3JuZXJzdG9uZSwgYW4gYGVhY2hgIGltcGxlbWVudGF0aW9uLCBha2EgYGZvckVhY2hgLlxuICAvLyBIYW5kbGVzIHJhdyBvYmplY3RzIGluIGFkZGl0aW9uIHRvIGFycmF5LWxpa2VzLiBUcmVhdHMgYWxsXG4gIC8vIHNwYXJzZSBhcnJheS1saWtlcyBhcyBpZiB0aGV5IHdlcmUgZGVuc2UuXG4gIF8uZWFjaCA9IF8uZm9yRWFjaCA9IGZ1bmN0aW9uKG9iaiwgaXRlcmF0ZWUsIGNvbnRleHQpIHtcbiAgICBpdGVyYXRlZSA9IG9wdGltaXplQ2IoaXRlcmF0ZWUsIGNvbnRleHQpO1xuICAgIHZhciBpLCBsZW5ndGg7XG4gICAgaWYgKGlzQXJyYXlMaWtlKG9iaikpIHtcbiAgICAgIGZvciAoaSA9IDAsIGxlbmd0aCA9IG9iai5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICBpdGVyYXRlZShvYmpbaV0sIGksIG9iaik7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBrZXlzID0gXy5rZXlzKG9iaik7XG4gICAgICBmb3IgKGkgPSAwLCBsZW5ndGggPSBrZXlzLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGl0ZXJhdGVlKG9ialtrZXlzW2ldXSwga2V5c1tpXSwgb2JqKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG9iajtcbiAgfTtcblxuICAvLyBSZXR1cm4gdGhlIHJlc3VsdHMgb2YgYXBwbHlpbmcgdGhlIGl0ZXJhdGVlIHRvIGVhY2ggZWxlbWVudC5cbiAgXy5tYXAgPSBfLmNvbGxlY3QgPSBmdW5jdGlvbihvYmosIGl0ZXJhdGVlLCBjb250ZXh0KSB7XG4gICAgaXRlcmF0ZWUgPSBjYihpdGVyYXRlZSwgY29udGV4dCk7XG4gICAgdmFyIGtleXMgPSAhaXNBcnJheUxpa2Uob2JqKSAmJiBfLmtleXMob2JqKSxcbiAgICAgICAgbGVuZ3RoID0gKGtleXMgfHwgb2JqKS5sZW5ndGgsXG4gICAgICAgIHJlc3VsdHMgPSBBcnJheShsZW5ndGgpO1xuICAgIGZvciAodmFyIGluZGV4ID0gMDsgaW5kZXggPCBsZW5ndGg7IGluZGV4KyspIHtcbiAgICAgIHZhciBjdXJyZW50S2V5ID0ga2V5cyA/IGtleXNbaW5kZXhdIDogaW5kZXg7XG4gICAgICByZXN1bHRzW2luZGV4XSA9IGl0ZXJhdGVlKG9ialtjdXJyZW50S2V5XSwgY3VycmVudEtleSwgb2JqKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdHM7XG4gIH07XG5cbiAgLy8gQ3JlYXRlIGEgcmVkdWNpbmcgZnVuY3Rpb24gaXRlcmF0aW5nIGxlZnQgb3IgcmlnaHQuXG4gIGZ1bmN0aW9uIGNyZWF0ZVJlZHVjZShkaXIpIHtcbiAgICAvLyBPcHRpbWl6ZWQgaXRlcmF0b3IgZnVuY3Rpb24gYXMgdXNpbmcgYXJndW1lbnRzLmxlbmd0aFxuICAgIC8vIGluIHRoZSBtYWluIGZ1bmN0aW9uIHdpbGwgZGVvcHRpbWl6ZSB0aGUsIHNlZSAjMTk5MS5cbiAgICBmdW5jdGlvbiBpdGVyYXRvcihvYmosIGl0ZXJhdGVlLCBtZW1vLCBrZXlzLCBpbmRleCwgbGVuZ3RoKSB7XG4gICAgICBmb3IgKDsgaW5kZXggPj0gMCAmJiBpbmRleCA8IGxlbmd0aDsgaW5kZXggKz0gZGlyKSB7XG4gICAgICAgIHZhciBjdXJyZW50S2V5ID0ga2V5cyA/IGtleXNbaW5kZXhdIDogaW5kZXg7XG4gICAgICAgIG1lbW8gPSBpdGVyYXRlZShtZW1vLCBvYmpbY3VycmVudEtleV0sIGN1cnJlbnRLZXksIG9iaik7XG4gICAgICB9XG4gICAgICByZXR1cm4gbWVtbztcbiAgICB9XG5cbiAgICByZXR1cm4gZnVuY3Rpb24ob2JqLCBpdGVyYXRlZSwgbWVtbywgY29udGV4dCkge1xuICAgICAgaXRlcmF0ZWUgPSBvcHRpbWl6ZUNiKGl0ZXJhdGVlLCBjb250ZXh0LCA0KTtcbiAgICAgIHZhciBrZXlzID0gIWlzQXJyYXlMaWtlKG9iaikgJiYgXy5rZXlzKG9iaiksXG4gICAgICAgICAgbGVuZ3RoID0gKGtleXMgfHwgb2JqKS5sZW5ndGgsXG4gICAgICAgICAgaW5kZXggPSBkaXIgPiAwID8gMCA6IGxlbmd0aCAtIDE7XG4gICAgICAvLyBEZXRlcm1pbmUgdGhlIGluaXRpYWwgdmFsdWUgaWYgbm9uZSBpcyBwcm92aWRlZC5cbiAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoIDwgMykge1xuICAgICAgICBtZW1vID0gb2JqW2tleXMgPyBrZXlzW2luZGV4XSA6IGluZGV4XTtcbiAgICAgICAgaW5kZXggKz0gZGlyO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGl0ZXJhdG9yKG9iaiwgaXRlcmF0ZWUsIG1lbW8sIGtleXMsIGluZGV4LCBsZW5ndGgpO1xuICAgIH07XG4gIH1cblxuICAvLyAqKlJlZHVjZSoqIGJ1aWxkcyB1cCBhIHNpbmdsZSByZXN1bHQgZnJvbSBhIGxpc3Qgb2YgdmFsdWVzLCBha2EgYGluamVjdGAsXG4gIC8vIG9yIGBmb2xkbGAuXG4gIF8ucmVkdWNlID0gXy5mb2xkbCA9IF8uaW5qZWN0ID0gY3JlYXRlUmVkdWNlKDEpO1xuXG4gIC8vIFRoZSByaWdodC1hc3NvY2lhdGl2ZSB2ZXJzaW9uIG9mIHJlZHVjZSwgYWxzbyBrbm93biBhcyBgZm9sZHJgLlxuICBfLnJlZHVjZVJpZ2h0ID0gXy5mb2xkciA9IGNyZWF0ZVJlZHVjZSgtMSk7XG5cbiAgLy8gUmV0dXJuIHRoZSBmaXJzdCB2YWx1ZSB3aGljaCBwYXNzZXMgYSB0cnV0aCB0ZXN0LiBBbGlhc2VkIGFzIGBkZXRlY3RgLlxuICBfLmZpbmQgPSBfLmRldGVjdCA9IGZ1bmN0aW9uKG9iaiwgcHJlZGljYXRlLCBjb250ZXh0KSB7XG4gICAgdmFyIGtleTtcbiAgICBpZiAoaXNBcnJheUxpa2Uob2JqKSkge1xuICAgICAga2V5ID0gXy5maW5kSW5kZXgob2JqLCBwcmVkaWNhdGUsIGNvbnRleHQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBrZXkgPSBfLmZpbmRLZXkob2JqLCBwcmVkaWNhdGUsIGNvbnRleHQpO1xuICAgIH1cbiAgICBpZiAoa2V5ICE9PSB2b2lkIDAgJiYga2V5ICE9PSAtMSkgcmV0dXJuIG9ialtrZXldO1xuICB9O1xuXG4gIC8vIFJldHVybiBhbGwgdGhlIGVsZW1lbnRzIHRoYXQgcGFzcyBhIHRydXRoIHRlc3QuXG4gIC8vIEFsaWFzZWQgYXMgYHNlbGVjdGAuXG4gIF8uZmlsdGVyID0gXy5zZWxlY3QgPSBmdW5jdGlvbihvYmosIHByZWRpY2F0ZSwgY29udGV4dCkge1xuICAgIHZhciByZXN1bHRzID0gW107XG4gICAgcHJlZGljYXRlID0gY2IocHJlZGljYXRlLCBjb250ZXh0KTtcbiAgICBfLmVhY2gob2JqLCBmdW5jdGlvbih2YWx1ZSwgaW5kZXgsIGxpc3QpIHtcbiAgICAgIGlmIChwcmVkaWNhdGUodmFsdWUsIGluZGV4LCBsaXN0KSkgcmVzdWx0cy5wdXNoKHZhbHVlKTtcbiAgICB9KTtcbiAgICByZXR1cm4gcmVzdWx0cztcbiAgfTtcblxuICAvLyBSZXR1cm4gYWxsIHRoZSBlbGVtZW50cyBmb3Igd2hpY2ggYSB0cnV0aCB0ZXN0IGZhaWxzLlxuICBfLnJlamVjdCA9IGZ1bmN0aW9uKG9iaiwgcHJlZGljYXRlLCBjb250ZXh0KSB7XG4gICAgcmV0dXJuIF8uZmlsdGVyKG9iaiwgXy5uZWdhdGUoY2IocHJlZGljYXRlKSksIGNvbnRleHQpO1xuICB9O1xuXG4gIC8vIERldGVybWluZSB3aGV0aGVyIGFsbCBvZiB0aGUgZWxlbWVudHMgbWF0Y2ggYSB0cnV0aCB0ZXN0LlxuICAvLyBBbGlhc2VkIGFzIGBhbGxgLlxuICBfLmV2ZXJ5ID0gXy5hbGwgPSBmdW5jdGlvbihvYmosIHByZWRpY2F0ZSwgY29udGV4dCkge1xuICAgIHByZWRpY2F0ZSA9IGNiKHByZWRpY2F0ZSwgY29udGV4dCk7XG4gICAgdmFyIGtleXMgPSAhaXNBcnJheUxpa2Uob2JqKSAmJiBfLmtleXMob2JqKSxcbiAgICAgICAgbGVuZ3RoID0gKGtleXMgfHwgb2JqKS5sZW5ndGg7XG4gICAgZm9yICh2YXIgaW5kZXggPSAwOyBpbmRleCA8IGxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgdmFyIGN1cnJlbnRLZXkgPSBrZXlzID8ga2V5c1tpbmRleF0gOiBpbmRleDtcbiAgICAgIGlmICghcHJlZGljYXRlKG9ialtjdXJyZW50S2V5XSwgY3VycmVudEtleSwgb2JqKSkgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfTtcblxuICAvLyBEZXRlcm1pbmUgaWYgYXQgbGVhc3Qgb25lIGVsZW1lbnQgaW4gdGhlIG9iamVjdCBtYXRjaGVzIGEgdHJ1dGggdGVzdC5cbiAgLy8gQWxpYXNlZCBhcyBgYW55YC5cbiAgXy5zb21lID0gXy5hbnkgPSBmdW5jdGlvbihvYmosIHByZWRpY2F0ZSwgY29udGV4dCkge1xuICAgIHByZWRpY2F0ZSA9IGNiKHByZWRpY2F0ZSwgY29udGV4dCk7XG4gICAgdmFyIGtleXMgPSAhaXNBcnJheUxpa2Uob2JqKSAmJiBfLmtleXMob2JqKSxcbiAgICAgICAgbGVuZ3RoID0gKGtleXMgfHwgb2JqKS5sZW5ndGg7XG4gICAgZm9yICh2YXIgaW5kZXggPSAwOyBpbmRleCA8IGxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgdmFyIGN1cnJlbnRLZXkgPSBrZXlzID8ga2V5c1tpbmRleF0gOiBpbmRleDtcbiAgICAgIGlmIChwcmVkaWNhdGUob2JqW2N1cnJlbnRLZXldLCBjdXJyZW50S2V5LCBvYmopKSByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9O1xuXG4gIC8vIERldGVybWluZSBpZiB0aGUgYXJyYXkgb3Igb2JqZWN0IGNvbnRhaW5zIGEgZ2l2ZW4gaXRlbSAodXNpbmcgYD09PWApLlxuICAvLyBBbGlhc2VkIGFzIGBpbmNsdWRlc2AgYW5kIGBpbmNsdWRlYC5cbiAgXy5jb250YWlucyA9IF8uaW5jbHVkZXMgPSBfLmluY2x1ZGUgPSBmdW5jdGlvbihvYmosIGl0ZW0sIGZyb21JbmRleCwgZ3VhcmQpIHtcbiAgICBpZiAoIWlzQXJyYXlMaWtlKG9iaikpIG9iaiA9IF8udmFsdWVzKG9iaik7XG4gICAgaWYgKHR5cGVvZiBmcm9tSW5kZXggIT0gJ251bWJlcicgfHwgZ3VhcmQpIGZyb21JbmRleCA9IDA7XG4gICAgcmV0dXJuIF8uaW5kZXhPZihvYmosIGl0ZW0sIGZyb21JbmRleCkgPj0gMDtcbiAgfTtcblxuICAvLyBJbnZva2UgYSBtZXRob2QgKHdpdGggYXJndW1lbnRzKSBvbiBldmVyeSBpdGVtIGluIGEgY29sbGVjdGlvbi5cbiAgXy5pbnZva2UgPSBmdW5jdGlvbihvYmosIG1ldGhvZCkge1xuICAgIHZhciBhcmdzID0gc2xpY2UuY2FsbChhcmd1bWVudHMsIDIpO1xuICAgIHZhciBpc0Z1bmMgPSBfLmlzRnVuY3Rpb24obWV0aG9kKTtcbiAgICByZXR1cm4gXy5tYXAob2JqLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgdmFyIGZ1bmMgPSBpc0Z1bmMgPyBtZXRob2QgOiB2YWx1ZVttZXRob2RdO1xuICAgICAgcmV0dXJuIGZ1bmMgPT0gbnVsbCA/IGZ1bmMgOiBmdW5jLmFwcGx5KHZhbHVlLCBhcmdzKTtcbiAgICB9KTtcbiAgfTtcblxuICAvLyBDb252ZW5pZW5jZSB2ZXJzaW9uIG9mIGEgY29tbW9uIHVzZSBjYXNlIG9mIGBtYXBgOiBmZXRjaGluZyBhIHByb3BlcnR5LlxuICBfLnBsdWNrID0gZnVuY3Rpb24ob2JqLCBrZXkpIHtcbiAgICByZXR1cm4gXy5tYXAob2JqLCBfLnByb3BlcnR5KGtleSkpO1xuICB9O1xuXG4gIC8vIENvbnZlbmllbmNlIHZlcnNpb24gb2YgYSBjb21tb24gdXNlIGNhc2Ugb2YgYGZpbHRlcmA6IHNlbGVjdGluZyBvbmx5IG9iamVjdHNcbiAgLy8gY29udGFpbmluZyBzcGVjaWZpYyBga2V5OnZhbHVlYCBwYWlycy5cbiAgXy53aGVyZSA9IGZ1bmN0aW9uKG9iaiwgYXR0cnMpIHtcbiAgICByZXR1cm4gXy5maWx0ZXIob2JqLCBfLm1hdGNoZXIoYXR0cnMpKTtcbiAgfTtcblxuICAvLyBDb252ZW5pZW5jZSB2ZXJzaW9uIG9mIGEgY29tbW9uIHVzZSBjYXNlIG9mIGBmaW5kYDogZ2V0dGluZyB0aGUgZmlyc3Qgb2JqZWN0XG4gIC8vIGNvbnRhaW5pbmcgc3BlY2lmaWMgYGtleTp2YWx1ZWAgcGFpcnMuXG4gIF8uZmluZFdoZXJlID0gZnVuY3Rpb24ob2JqLCBhdHRycykge1xuICAgIHJldHVybiBfLmZpbmQob2JqLCBfLm1hdGNoZXIoYXR0cnMpKTtcbiAgfTtcblxuICAvLyBSZXR1cm4gdGhlIG1heGltdW0gZWxlbWVudCAob3IgZWxlbWVudC1iYXNlZCBjb21wdXRhdGlvbikuXG4gIF8ubWF4ID0gZnVuY3Rpb24ob2JqLCBpdGVyYXRlZSwgY29udGV4dCkge1xuICAgIHZhciByZXN1bHQgPSAtSW5maW5pdHksIGxhc3RDb21wdXRlZCA9IC1JbmZpbml0eSxcbiAgICAgICAgdmFsdWUsIGNvbXB1dGVkO1xuICAgIGlmIChpdGVyYXRlZSA9PSBudWxsICYmIG9iaiAhPSBudWxsKSB7XG4gICAgICBvYmogPSBpc0FycmF5TGlrZShvYmopID8gb2JqIDogXy52YWx1ZXMob2JqKTtcbiAgICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGggPSBvYmoubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFsdWUgPSBvYmpbaV07XG4gICAgICAgIGlmICh2YWx1ZSA+IHJlc3VsdCkge1xuICAgICAgICAgIHJlc3VsdCA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGl0ZXJhdGVlID0gY2IoaXRlcmF0ZWUsIGNvbnRleHQpO1xuICAgICAgXy5lYWNoKG9iaiwgZnVuY3Rpb24odmFsdWUsIGluZGV4LCBsaXN0KSB7XG4gICAgICAgIGNvbXB1dGVkID0gaXRlcmF0ZWUodmFsdWUsIGluZGV4LCBsaXN0KTtcbiAgICAgICAgaWYgKGNvbXB1dGVkID4gbGFzdENvbXB1dGVkIHx8IGNvbXB1dGVkID09PSAtSW5maW5pdHkgJiYgcmVzdWx0ID09PSAtSW5maW5pdHkpIHtcbiAgICAgICAgICByZXN1bHQgPSB2YWx1ZTtcbiAgICAgICAgICBsYXN0Q29tcHV0ZWQgPSBjb21wdXRlZDtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG5cbiAgLy8gUmV0dXJuIHRoZSBtaW5pbXVtIGVsZW1lbnQgKG9yIGVsZW1lbnQtYmFzZWQgY29tcHV0YXRpb24pLlxuICBfLm1pbiA9IGZ1bmN0aW9uKG9iaiwgaXRlcmF0ZWUsIGNvbnRleHQpIHtcbiAgICB2YXIgcmVzdWx0ID0gSW5maW5pdHksIGxhc3RDb21wdXRlZCA9IEluZmluaXR5LFxuICAgICAgICB2YWx1ZSwgY29tcHV0ZWQ7XG4gICAgaWYgKGl0ZXJhdGVlID09IG51bGwgJiYgb2JqICE9IG51bGwpIHtcbiAgICAgIG9iaiA9IGlzQXJyYXlMaWtlKG9iaikgPyBvYmogOiBfLnZhbHVlcyhvYmopO1xuICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aCA9IG9iai5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICB2YWx1ZSA9IG9ialtpXTtcbiAgICAgICAgaWYgKHZhbHVlIDwgcmVzdWx0KSB7XG4gICAgICAgICAgcmVzdWx0ID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaXRlcmF0ZWUgPSBjYihpdGVyYXRlZSwgY29udGV4dCk7XG4gICAgICBfLmVhY2gob2JqLCBmdW5jdGlvbih2YWx1ZSwgaW5kZXgsIGxpc3QpIHtcbiAgICAgICAgY29tcHV0ZWQgPSBpdGVyYXRlZSh2YWx1ZSwgaW5kZXgsIGxpc3QpO1xuICAgICAgICBpZiAoY29tcHV0ZWQgPCBsYXN0Q29tcHV0ZWQgfHwgY29tcHV0ZWQgPT09IEluZmluaXR5ICYmIHJlc3VsdCA9PT0gSW5maW5pdHkpIHtcbiAgICAgICAgICByZXN1bHQgPSB2YWx1ZTtcbiAgICAgICAgICBsYXN0Q29tcHV0ZWQgPSBjb21wdXRlZDtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG5cbiAgLy8gU2h1ZmZsZSBhIGNvbGxlY3Rpb24sIHVzaW5nIHRoZSBtb2Rlcm4gdmVyc2lvbiBvZiB0aGVcbiAgLy8gW0Zpc2hlci1ZYXRlcyBzaHVmZmxlXShodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0Zpc2hlcuKAk1lhdGVzX3NodWZmbGUpLlxuICBfLnNodWZmbGUgPSBmdW5jdGlvbihvYmopIHtcbiAgICB2YXIgc2V0ID0gaXNBcnJheUxpa2Uob2JqKSA/IG9iaiA6IF8udmFsdWVzKG9iaik7XG4gICAgdmFyIGxlbmd0aCA9IHNldC5sZW5ndGg7XG4gICAgdmFyIHNodWZmbGVkID0gQXJyYXkobGVuZ3RoKTtcbiAgICBmb3IgKHZhciBpbmRleCA9IDAsIHJhbmQ7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICByYW5kID0gXy5yYW5kb20oMCwgaW5kZXgpO1xuICAgICAgaWYgKHJhbmQgIT09IGluZGV4KSBzaHVmZmxlZFtpbmRleF0gPSBzaHVmZmxlZFtyYW5kXTtcbiAgICAgIHNodWZmbGVkW3JhbmRdID0gc2V0W2luZGV4XTtcbiAgICB9XG4gICAgcmV0dXJuIHNodWZmbGVkO1xuICB9O1xuXG4gIC8vIFNhbXBsZSAqKm4qKiByYW5kb20gdmFsdWVzIGZyb20gYSBjb2xsZWN0aW9uLlxuICAvLyBJZiAqKm4qKiBpcyBub3Qgc3BlY2lmaWVkLCByZXR1cm5zIGEgc2luZ2xlIHJhbmRvbSBlbGVtZW50LlxuICAvLyBUaGUgaW50ZXJuYWwgYGd1YXJkYCBhcmd1bWVudCBhbGxvd3MgaXQgdG8gd29yayB3aXRoIGBtYXBgLlxuICBfLnNhbXBsZSA9IGZ1bmN0aW9uKG9iaiwgbiwgZ3VhcmQpIHtcbiAgICBpZiAobiA9PSBudWxsIHx8IGd1YXJkKSB7XG4gICAgICBpZiAoIWlzQXJyYXlMaWtlKG9iaikpIG9iaiA9IF8udmFsdWVzKG9iaik7XG4gICAgICByZXR1cm4gb2JqW18ucmFuZG9tKG9iai5sZW5ndGggLSAxKV07XG4gICAgfVxuICAgIHJldHVybiBfLnNodWZmbGUob2JqKS5zbGljZSgwLCBNYXRoLm1heCgwLCBuKSk7XG4gIH07XG5cbiAgLy8gU29ydCB0aGUgb2JqZWN0J3MgdmFsdWVzIGJ5IGEgY3JpdGVyaW9uIHByb2R1Y2VkIGJ5IGFuIGl0ZXJhdGVlLlxuICBfLnNvcnRCeSA9IGZ1bmN0aW9uKG9iaiwgaXRlcmF0ZWUsIGNvbnRleHQpIHtcbiAgICBpdGVyYXRlZSA9IGNiKGl0ZXJhdGVlLCBjb250ZXh0KTtcbiAgICByZXR1cm4gXy5wbHVjayhfLm1hcChvYmosIGZ1bmN0aW9uKHZhbHVlLCBpbmRleCwgbGlzdCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICBpbmRleDogaW5kZXgsXG4gICAgICAgIGNyaXRlcmlhOiBpdGVyYXRlZSh2YWx1ZSwgaW5kZXgsIGxpc3QpXG4gICAgICB9O1xuICAgIH0pLnNvcnQoZnVuY3Rpb24obGVmdCwgcmlnaHQpIHtcbiAgICAgIHZhciBhID0gbGVmdC5jcml0ZXJpYTtcbiAgICAgIHZhciBiID0gcmlnaHQuY3JpdGVyaWE7XG4gICAgICBpZiAoYSAhPT0gYikge1xuICAgICAgICBpZiAoYSA+IGIgfHwgYSA9PT0gdm9pZCAwKSByZXR1cm4gMTtcbiAgICAgICAgaWYgKGEgPCBiIHx8IGIgPT09IHZvaWQgMCkgcmV0dXJuIC0xO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGxlZnQuaW5kZXggLSByaWdodC5pbmRleDtcbiAgICB9KSwgJ3ZhbHVlJyk7XG4gIH07XG5cbiAgLy8gQW4gaW50ZXJuYWwgZnVuY3Rpb24gdXNlZCBmb3IgYWdncmVnYXRlIFwiZ3JvdXAgYnlcIiBvcGVyYXRpb25zLlxuICB2YXIgZ3JvdXAgPSBmdW5jdGlvbihiZWhhdmlvcikge1xuICAgIHJldHVybiBmdW5jdGlvbihvYmosIGl0ZXJhdGVlLCBjb250ZXh0KSB7XG4gICAgICB2YXIgcmVzdWx0ID0ge307XG4gICAgICBpdGVyYXRlZSA9IGNiKGl0ZXJhdGVlLCBjb250ZXh0KTtcbiAgICAgIF8uZWFjaChvYmosIGZ1bmN0aW9uKHZhbHVlLCBpbmRleCkge1xuICAgICAgICB2YXIga2V5ID0gaXRlcmF0ZWUodmFsdWUsIGluZGV4LCBvYmopO1xuICAgICAgICBiZWhhdmlvcihyZXN1bHQsIHZhbHVlLCBrZXkpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG4gIH07XG5cbiAgLy8gR3JvdXBzIHRoZSBvYmplY3QncyB2YWx1ZXMgYnkgYSBjcml0ZXJpb24uIFBhc3MgZWl0aGVyIGEgc3RyaW5nIGF0dHJpYnV0ZVxuICAvLyB0byBncm91cCBieSwgb3IgYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgdGhlIGNyaXRlcmlvbi5cbiAgXy5ncm91cEJ5ID0gZ3JvdXAoZnVuY3Rpb24ocmVzdWx0LCB2YWx1ZSwga2V5KSB7XG4gICAgaWYgKF8uaGFzKHJlc3VsdCwga2V5KSkgcmVzdWx0W2tleV0ucHVzaCh2YWx1ZSk7IGVsc2UgcmVzdWx0W2tleV0gPSBbdmFsdWVdO1xuICB9KTtcblxuICAvLyBJbmRleGVzIHRoZSBvYmplY3QncyB2YWx1ZXMgYnkgYSBjcml0ZXJpb24sIHNpbWlsYXIgdG8gYGdyb3VwQnlgLCBidXQgZm9yXG4gIC8vIHdoZW4geW91IGtub3cgdGhhdCB5b3VyIGluZGV4IHZhbHVlcyB3aWxsIGJlIHVuaXF1ZS5cbiAgXy5pbmRleEJ5ID0gZ3JvdXAoZnVuY3Rpb24ocmVzdWx0LCB2YWx1ZSwga2V5KSB7XG4gICAgcmVzdWx0W2tleV0gPSB2YWx1ZTtcbiAgfSk7XG5cbiAgLy8gQ291bnRzIGluc3RhbmNlcyBvZiBhbiBvYmplY3QgdGhhdCBncm91cCBieSBhIGNlcnRhaW4gY3JpdGVyaW9uLiBQYXNzXG4gIC8vIGVpdGhlciBhIHN0cmluZyBhdHRyaWJ1dGUgdG8gY291bnQgYnksIG9yIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHRoZVxuICAvLyBjcml0ZXJpb24uXG4gIF8uY291bnRCeSA9IGdyb3VwKGZ1bmN0aW9uKHJlc3VsdCwgdmFsdWUsIGtleSkge1xuICAgIGlmIChfLmhhcyhyZXN1bHQsIGtleSkpIHJlc3VsdFtrZXldKys7IGVsc2UgcmVzdWx0W2tleV0gPSAxO1xuICB9KTtcblxuICAvLyBTYWZlbHkgY3JlYXRlIGEgcmVhbCwgbGl2ZSBhcnJheSBmcm9tIGFueXRoaW5nIGl0ZXJhYmxlLlxuICBfLnRvQXJyYXkgPSBmdW5jdGlvbihvYmopIHtcbiAgICBpZiAoIW9iaikgcmV0dXJuIFtdO1xuICAgIGlmIChfLmlzQXJyYXkob2JqKSkgcmV0dXJuIHNsaWNlLmNhbGwob2JqKTtcbiAgICBpZiAoaXNBcnJheUxpa2Uob2JqKSkgcmV0dXJuIF8ubWFwKG9iaiwgXy5pZGVudGl0eSk7XG4gICAgcmV0dXJuIF8udmFsdWVzKG9iaik7XG4gIH07XG5cbiAgLy8gUmV0dXJuIHRoZSBudW1iZXIgb2YgZWxlbWVudHMgaW4gYW4gb2JqZWN0LlxuICBfLnNpemUgPSBmdW5jdGlvbihvYmopIHtcbiAgICBpZiAob2JqID09IG51bGwpIHJldHVybiAwO1xuICAgIHJldHVybiBpc0FycmF5TGlrZShvYmopID8gb2JqLmxlbmd0aCA6IF8ua2V5cyhvYmopLmxlbmd0aDtcbiAgfTtcblxuICAvLyBTcGxpdCBhIGNvbGxlY3Rpb24gaW50byB0d28gYXJyYXlzOiBvbmUgd2hvc2UgZWxlbWVudHMgYWxsIHNhdGlzZnkgdGhlIGdpdmVuXG4gIC8vIHByZWRpY2F0ZSwgYW5kIG9uZSB3aG9zZSBlbGVtZW50cyBhbGwgZG8gbm90IHNhdGlzZnkgdGhlIHByZWRpY2F0ZS5cbiAgXy5wYXJ0aXRpb24gPSBmdW5jdGlvbihvYmosIHByZWRpY2F0ZSwgY29udGV4dCkge1xuICAgIHByZWRpY2F0ZSA9IGNiKHByZWRpY2F0ZSwgY29udGV4dCk7XG4gICAgdmFyIHBhc3MgPSBbXSwgZmFpbCA9IFtdO1xuICAgIF8uZWFjaChvYmosIGZ1bmN0aW9uKHZhbHVlLCBrZXksIG9iaikge1xuICAgICAgKHByZWRpY2F0ZSh2YWx1ZSwga2V5LCBvYmopID8gcGFzcyA6IGZhaWwpLnB1c2godmFsdWUpO1xuICAgIH0pO1xuICAgIHJldHVybiBbcGFzcywgZmFpbF07XG4gIH07XG5cbiAgLy8gQXJyYXkgRnVuY3Rpb25zXG4gIC8vIC0tLS0tLS0tLS0tLS0tLVxuXG4gIC8vIEdldCB0aGUgZmlyc3QgZWxlbWVudCBvZiBhbiBhcnJheS4gUGFzc2luZyAqKm4qKiB3aWxsIHJldHVybiB0aGUgZmlyc3QgTlxuICAvLyB2YWx1ZXMgaW4gdGhlIGFycmF5LiBBbGlhc2VkIGFzIGBoZWFkYCBhbmQgYHRha2VgLiBUaGUgKipndWFyZCoqIGNoZWNrXG4gIC8vIGFsbG93cyBpdCB0byB3b3JrIHdpdGggYF8ubWFwYC5cbiAgXy5maXJzdCA9IF8uaGVhZCA9IF8udGFrZSA9IGZ1bmN0aW9uKGFycmF5LCBuLCBndWFyZCkge1xuICAgIGlmIChhcnJheSA9PSBudWxsKSByZXR1cm4gdm9pZCAwO1xuICAgIGlmIChuID09IG51bGwgfHwgZ3VhcmQpIHJldHVybiBhcnJheVswXTtcbiAgICByZXR1cm4gXy5pbml0aWFsKGFycmF5LCBhcnJheS5sZW5ndGggLSBuKTtcbiAgfTtcblxuICAvLyBSZXR1cm5zIGV2ZXJ5dGhpbmcgYnV0IHRoZSBsYXN0IGVudHJ5IG9mIHRoZSBhcnJheS4gRXNwZWNpYWxseSB1c2VmdWwgb25cbiAgLy8gdGhlIGFyZ3VtZW50cyBvYmplY3QuIFBhc3NpbmcgKipuKiogd2lsbCByZXR1cm4gYWxsIHRoZSB2YWx1ZXMgaW5cbiAgLy8gdGhlIGFycmF5LCBleGNsdWRpbmcgdGhlIGxhc3QgTi5cbiAgXy5pbml0aWFsID0gZnVuY3Rpb24oYXJyYXksIG4sIGd1YXJkKSB7XG4gICAgcmV0dXJuIHNsaWNlLmNhbGwoYXJyYXksIDAsIE1hdGgubWF4KDAsIGFycmF5Lmxlbmd0aCAtIChuID09IG51bGwgfHwgZ3VhcmQgPyAxIDogbikpKTtcbiAgfTtcblxuICAvLyBHZXQgdGhlIGxhc3QgZWxlbWVudCBvZiBhbiBhcnJheS4gUGFzc2luZyAqKm4qKiB3aWxsIHJldHVybiB0aGUgbGFzdCBOXG4gIC8vIHZhbHVlcyBpbiB0aGUgYXJyYXkuXG4gIF8ubGFzdCA9IGZ1bmN0aW9uKGFycmF5LCBuLCBndWFyZCkge1xuICAgIGlmIChhcnJheSA9PSBudWxsKSByZXR1cm4gdm9pZCAwO1xuICAgIGlmIChuID09IG51bGwgfHwgZ3VhcmQpIHJldHVybiBhcnJheVthcnJheS5sZW5ndGggLSAxXTtcbiAgICByZXR1cm4gXy5yZXN0KGFycmF5LCBNYXRoLm1heCgwLCBhcnJheS5sZW5ndGggLSBuKSk7XG4gIH07XG5cbiAgLy8gUmV0dXJucyBldmVyeXRoaW5nIGJ1dCB0aGUgZmlyc3QgZW50cnkgb2YgdGhlIGFycmF5LiBBbGlhc2VkIGFzIGB0YWlsYCBhbmQgYGRyb3BgLlxuICAvLyBFc3BlY2lhbGx5IHVzZWZ1bCBvbiB0aGUgYXJndW1lbnRzIG9iamVjdC4gUGFzc2luZyBhbiAqKm4qKiB3aWxsIHJldHVyblxuICAvLyB0aGUgcmVzdCBOIHZhbHVlcyBpbiB0aGUgYXJyYXkuXG4gIF8ucmVzdCA9IF8udGFpbCA9IF8uZHJvcCA9IGZ1bmN0aW9uKGFycmF5LCBuLCBndWFyZCkge1xuICAgIHJldHVybiBzbGljZS5jYWxsKGFycmF5LCBuID09IG51bGwgfHwgZ3VhcmQgPyAxIDogbik7XG4gIH07XG5cbiAgLy8gVHJpbSBvdXQgYWxsIGZhbHN5IHZhbHVlcyBmcm9tIGFuIGFycmF5LlxuICBfLmNvbXBhY3QgPSBmdW5jdGlvbihhcnJheSkge1xuICAgIHJldHVybiBfLmZpbHRlcihhcnJheSwgXy5pZGVudGl0eSk7XG4gIH07XG5cbiAgLy8gSW50ZXJuYWwgaW1wbGVtZW50YXRpb24gb2YgYSByZWN1cnNpdmUgYGZsYXR0ZW5gIGZ1bmN0aW9uLlxuICB2YXIgZmxhdHRlbiA9IGZ1bmN0aW9uKGlucHV0LCBzaGFsbG93LCBzdHJpY3QsIHN0YXJ0SW5kZXgpIHtcbiAgICB2YXIgb3V0cHV0ID0gW10sIGlkeCA9IDA7XG4gICAgZm9yICh2YXIgaSA9IHN0YXJ0SW5kZXggfHwgMCwgbGVuZ3RoID0gZ2V0TGVuZ3RoKGlucHV0KTsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgdmFsdWUgPSBpbnB1dFtpXTtcbiAgICAgIGlmIChpc0FycmF5TGlrZSh2YWx1ZSkgJiYgKF8uaXNBcnJheSh2YWx1ZSkgfHwgXy5pc0FyZ3VtZW50cyh2YWx1ZSkpKSB7XG4gICAgICAgIC8vZmxhdHRlbiBjdXJyZW50IGxldmVsIG9mIGFycmF5IG9yIGFyZ3VtZW50cyBvYmplY3RcbiAgICAgICAgaWYgKCFzaGFsbG93KSB2YWx1ZSA9IGZsYXR0ZW4odmFsdWUsIHNoYWxsb3csIHN0cmljdCk7XG4gICAgICAgIHZhciBqID0gMCwgbGVuID0gdmFsdWUubGVuZ3RoO1xuICAgICAgICBvdXRwdXQubGVuZ3RoICs9IGxlbjtcbiAgICAgICAgd2hpbGUgKGogPCBsZW4pIHtcbiAgICAgICAgICBvdXRwdXRbaWR4KytdID0gdmFsdWVbaisrXTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICghc3RyaWN0KSB7XG4gICAgICAgIG91dHB1dFtpZHgrK10gPSB2YWx1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG91dHB1dDtcbiAgfTtcblxuICAvLyBGbGF0dGVuIG91dCBhbiBhcnJheSwgZWl0aGVyIHJlY3Vyc2l2ZWx5IChieSBkZWZhdWx0KSwgb3IganVzdCBvbmUgbGV2ZWwuXG4gIF8uZmxhdHRlbiA9IGZ1bmN0aW9uKGFycmF5LCBzaGFsbG93KSB7XG4gICAgcmV0dXJuIGZsYXR0ZW4oYXJyYXksIHNoYWxsb3csIGZhbHNlKTtcbiAgfTtcblxuICAvLyBSZXR1cm4gYSB2ZXJzaW9uIG9mIHRoZSBhcnJheSB0aGF0IGRvZXMgbm90IGNvbnRhaW4gdGhlIHNwZWNpZmllZCB2YWx1ZShzKS5cbiAgXy53aXRob3V0ID0gZnVuY3Rpb24oYXJyYXkpIHtcbiAgICByZXR1cm4gXy5kaWZmZXJlbmNlKGFycmF5LCBzbGljZS5jYWxsKGFyZ3VtZW50cywgMSkpO1xuICB9O1xuXG4gIC8vIFByb2R1Y2UgYSBkdXBsaWNhdGUtZnJlZSB2ZXJzaW9uIG9mIHRoZSBhcnJheS4gSWYgdGhlIGFycmF5IGhhcyBhbHJlYWR5XG4gIC8vIGJlZW4gc29ydGVkLCB5b3UgaGF2ZSB0aGUgb3B0aW9uIG9mIHVzaW5nIGEgZmFzdGVyIGFsZ29yaXRobS5cbiAgLy8gQWxpYXNlZCBhcyBgdW5pcXVlYC5cbiAgXy51bmlxID0gXy51bmlxdWUgPSBmdW5jdGlvbihhcnJheSwgaXNTb3J0ZWQsIGl0ZXJhdGVlLCBjb250ZXh0KSB7XG4gICAgaWYgKCFfLmlzQm9vbGVhbihpc1NvcnRlZCkpIHtcbiAgICAgIGNvbnRleHQgPSBpdGVyYXRlZTtcbiAgICAgIGl0ZXJhdGVlID0gaXNTb3J0ZWQ7XG4gICAgICBpc1NvcnRlZCA9IGZhbHNlO1xuICAgIH1cbiAgICBpZiAoaXRlcmF0ZWUgIT0gbnVsbCkgaXRlcmF0ZWUgPSBjYihpdGVyYXRlZSwgY29udGV4dCk7XG4gICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgIHZhciBzZWVuID0gW107XG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aCA9IGdldExlbmd0aChhcnJheSk7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHZhbHVlID0gYXJyYXlbaV0sXG4gICAgICAgICAgY29tcHV0ZWQgPSBpdGVyYXRlZSA/IGl0ZXJhdGVlKHZhbHVlLCBpLCBhcnJheSkgOiB2YWx1ZTtcbiAgICAgIGlmIChpc1NvcnRlZCkge1xuICAgICAgICBpZiAoIWkgfHwgc2VlbiAhPT0gY29tcHV0ZWQpIHJlc3VsdC5wdXNoKHZhbHVlKTtcbiAgICAgICAgc2VlbiA9IGNvbXB1dGVkO1xuICAgICAgfSBlbHNlIGlmIChpdGVyYXRlZSkge1xuICAgICAgICBpZiAoIV8uY29udGFpbnMoc2VlbiwgY29tcHV0ZWQpKSB7XG4gICAgICAgICAgc2Vlbi5wdXNoKGNvbXB1dGVkKTtcbiAgICAgICAgICByZXN1bHQucHVzaCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoIV8uY29udGFpbnMocmVzdWx0LCB2YWx1ZSkpIHtcbiAgICAgICAgcmVzdWx0LnB1c2godmFsdWUpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuXG4gIC8vIFByb2R1Y2UgYW4gYXJyYXkgdGhhdCBjb250YWlucyB0aGUgdW5pb246IGVhY2ggZGlzdGluY3QgZWxlbWVudCBmcm9tIGFsbCBvZlxuICAvLyB0aGUgcGFzc2VkLWluIGFycmF5cy5cbiAgXy51bmlvbiA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBfLnVuaXEoZmxhdHRlbihhcmd1bWVudHMsIHRydWUsIHRydWUpKTtcbiAgfTtcblxuICAvLyBQcm9kdWNlIGFuIGFycmF5IHRoYXQgY29udGFpbnMgZXZlcnkgaXRlbSBzaGFyZWQgYmV0d2VlbiBhbGwgdGhlXG4gIC8vIHBhc3NlZC1pbiBhcnJheXMuXG4gIF8uaW50ZXJzZWN0aW9uID0gZnVuY3Rpb24oYXJyYXkpIHtcbiAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgdmFyIGFyZ3NMZW5ndGggPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGggPSBnZXRMZW5ndGgoYXJyYXkpOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBpdGVtID0gYXJyYXlbaV07XG4gICAgICBpZiAoXy5jb250YWlucyhyZXN1bHQsIGl0ZW0pKSBjb250aW51ZTtcbiAgICAgIGZvciAodmFyIGogPSAxOyBqIDwgYXJnc0xlbmd0aDsgaisrKSB7XG4gICAgICAgIGlmICghXy5jb250YWlucyhhcmd1bWVudHNbal0sIGl0ZW0pKSBicmVhaztcbiAgICAgIH1cbiAgICAgIGlmIChqID09PSBhcmdzTGVuZ3RoKSByZXN1bHQucHVzaChpdGVtKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcblxuICAvLyBUYWtlIHRoZSBkaWZmZXJlbmNlIGJldHdlZW4gb25lIGFycmF5IGFuZCBhIG51bWJlciBvZiBvdGhlciBhcnJheXMuXG4gIC8vIE9ubHkgdGhlIGVsZW1lbnRzIHByZXNlbnQgaW4ganVzdCB0aGUgZmlyc3QgYXJyYXkgd2lsbCByZW1haW4uXG4gIF8uZGlmZmVyZW5jZSA9IGZ1bmN0aW9uKGFycmF5KSB7XG4gICAgdmFyIHJlc3QgPSBmbGF0dGVuKGFyZ3VtZW50cywgdHJ1ZSwgdHJ1ZSwgMSk7XG4gICAgcmV0dXJuIF8uZmlsdGVyKGFycmF5LCBmdW5jdGlvbih2YWx1ZSl7XG4gICAgICByZXR1cm4gIV8uY29udGFpbnMocmVzdCwgdmFsdWUpO1xuICAgIH0pO1xuICB9O1xuXG4gIC8vIFppcCB0b2dldGhlciBtdWx0aXBsZSBsaXN0cyBpbnRvIGEgc2luZ2xlIGFycmF5IC0tIGVsZW1lbnRzIHRoYXQgc2hhcmVcbiAgLy8gYW4gaW5kZXggZ28gdG9nZXRoZXIuXG4gIF8uemlwID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIF8udW56aXAoYXJndW1lbnRzKTtcbiAgfTtcblxuICAvLyBDb21wbGVtZW50IG9mIF8uemlwLiBVbnppcCBhY2NlcHRzIGFuIGFycmF5IG9mIGFycmF5cyBhbmQgZ3JvdXBzXG4gIC8vIGVhY2ggYXJyYXkncyBlbGVtZW50cyBvbiBzaGFyZWQgaW5kaWNlc1xuICBfLnVuemlwID0gZnVuY3Rpb24oYXJyYXkpIHtcbiAgICB2YXIgbGVuZ3RoID0gYXJyYXkgJiYgXy5tYXgoYXJyYXksIGdldExlbmd0aCkubGVuZ3RoIHx8IDA7XG4gICAgdmFyIHJlc3VsdCA9IEFycmF5KGxlbmd0aCk7XG5cbiAgICBmb3IgKHZhciBpbmRleCA9IDA7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICByZXN1bHRbaW5kZXhdID0gXy5wbHVjayhhcnJheSwgaW5kZXgpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuXG4gIC8vIENvbnZlcnRzIGxpc3RzIGludG8gb2JqZWN0cy4gUGFzcyBlaXRoZXIgYSBzaW5nbGUgYXJyYXkgb2YgYFtrZXksIHZhbHVlXWBcbiAgLy8gcGFpcnMsIG9yIHR3byBwYXJhbGxlbCBhcnJheXMgb2YgdGhlIHNhbWUgbGVuZ3RoIC0tIG9uZSBvZiBrZXlzLCBhbmQgb25lIG9mXG4gIC8vIHRoZSBjb3JyZXNwb25kaW5nIHZhbHVlcy5cbiAgXy5vYmplY3QgPSBmdW5jdGlvbihsaXN0LCB2YWx1ZXMpIHtcbiAgICB2YXIgcmVzdWx0ID0ge307XG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aCA9IGdldExlbmd0aChsaXN0KTsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAodmFsdWVzKSB7XG4gICAgICAgIHJlc3VsdFtsaXN0W2ldXSA9IHZhbHVlc1tpXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc3VsdFtsaXN0W2ldWzBdXSA9IGxpc3RbaV1bMV07XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG5cbiAgLy8gR2VuZXJhdG9yIGZ1bmN0aW9uIHRvIGNyZWF0ZSB0aGUgZmluZEluZGV4IGFuZCBmaW5kTGFzdEluZGV4IGZ1bmN0aW9uc1xuICBmdW5jdGlvbiBjcmVhdGVQcmVkaWNhdGVJbmRleEZpbmRlcihkaXIpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oYXJyYXksIHByZWRpY2F0ZSwgY29udGV4dCkge1xuICAgICAgcHJlZGljYXRlID0gY2IocHJlZGljYXRlLCBjb250ZXh0KTtcbiAgICAgIHZhciBsZW5ndGggPSBnZXRMZW5ndGgoYXJyYXkpO1xuICAgICAgdmFyIGluZGV4ID0gZGlyID4gMCA/IDAgOiBsZW5ndGggLSAxO1xuICAgICAgZm9yICg7IGluZGV4ID49IDAgJiYgaW5kZXggPCBsZW5ndGg7IGluZGV4ICs9IGRpcikge1xuICAgICAgICBpZiAocHJlZGljYXRlKGFycmF5W2luZGV4XSwgaW5kZXgsIGFycmF5KSkgcmV0dXJuIGluZGV4O1xuICAgICAgfVxuICAgICAgcmV0dXJuIC0xO1xuICAgIH07XG4gIH1cblxuICAvLyBSZXR1cm5zIHRoZSBmaXJzdCBpbmRleCBvbiBhbiBhcnJheS1saWtlIHRoYXQgcGFzc2VzIGEgcHJlZGljYXRlIHRlc3RcbiAgXy5maW5kSW5kZXggPSBjcmVhdGVQcmVkaWNhdGVJbmRleEZpbmRlcigxKTtcbiAgXy5maW5kTGFzdEluZGV4ID0gY3JlYXRlUHJlZGljYXRlSW5kZXhGaW5kZXIoLTEpO1xuXG4gIC8vIFVzZSBhIGNvbXBhcmF0b3IgZnVuY3Rpb24gdG8gZmlndXJlIG91dCB0aGUgc21hbGxlc3QgaW5kZXggYXQgd2hpY2hcbiAgLy8gYW4gb2JqZWN0IHNob3VsZCBiZSBpbnNlcnRlZCBzbyBhcyB0byBtYWludGFpbiBvcmRlci4gVXNlcyBiaW5hcnkgc2VhcmNoLlxuICBfLnNvcnRlZEluZGV4ID0gZnVuY3Rpb24oYXJyYXksIG9iaiwgaXRlcmF0ZWUsIGNvbnRleHQpIHtcbiAgICBpdGVyYXRlZSA9IGNiKGl0ZXJhdGVlLCBjb250ZXh0LCAxKTtcbiAgICB2YXIgdmFsdWUgPSBpdGVyYXRlZShvYmopO1xuICAgIHZhciBsb3cgPSAwLCBoaWdoID0gZ2V0TGVuZ3RoKGFycmF5KTtcbiAgICB3aGlsZSAobG93IDwgaGlnaCkge1xuICAgICAgdmFyIG1pZCA9IE1hdGguZmxvb3IoKGxvdyArIGhpZ2gpIC8gMik7XG4gICAgICBpZiAoaXRlcmF0ZWUoYXJyYXlbbWlkXSkgPCB2YWx1ZSkgbG93ID0gbWlkICsgMTsgZWxzZSBoaWdoID0gbWlkO1xuICAgIH1cbiAgICByZXR1cm4gbG93O1xuICB9O1xuXG4gIC8vIEdlbmVyYXRvciBmdW5jdGlvbiB0byBjcmVhdGUgdGhlIGluZGV4T2YgYW5kIGxhc3RJbmRleE9mIGZ1bmN0aW9uc1xuICBmdW5jdGlvbiBjcmVhdGVJbmRleEZpbmRlcihkaXIsIHByZWRpY2F0ZUZpbmQsIHNvcnRlZEluZGV4KSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKGFycmF5LCBpdGVtLCBpZHgpIHtcbiAgICAgIHZhciBpID0gMCwgbGVuZ3RoID0gZ2V0TGVuZ3RoKGFycmF5KTtcbiAgICAgIGlmICh0eXBlb2YgaWR4ID09ICdudW1iZXInKSB7XG4gICAgICAgIGlmIChkaXIgPiAwKSB7XG4gICAgICAgICAgICBpID0gaWR4ID49IDAgPyBpZHggOiBNYXRoLm1heChpZHggKyBsZW5ndGgsIGkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbGVuZ3RoID0gaWR4ID49IDAgPyBNYXRoLm1pbihpZHggKyAxLCBsZW5ndGgpIDogaWR4ICsgbGVuZ3RoICsgMTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChzb3J0ZWRJbmRleCAmJiBpZHggJiYgbGVuZ3RoKSB7XG4gICAgICAgIGlkeCA9IHNvcnRlZEluZGV4KGFycmF5LCBpdGVtKTtcbiAgICAgICAgcmV0dXJuIGFycmF5W2lkeF0gPT09IGl0ZW0gPyBpZHggOiAtMTtcbiAgICAgIH1cbiAgICAgIGlmIChpdGVtICE9PSBpdGVtKSB7XG4gICAgICAgIGlkeCA9IHByZWRpY2F0ZUZpbmQoc2xpY2UuY2FsbChhcnJheSwgaSwgbGVuZ3RoKSwgXy5pc05hTik7XG4gICAgICAgIHJldHVybiBpZHggPj0gMCA/IGlkeCArIGkgOiAtMTtcbiAgICAgIH1cbiAgICAgIGZvciAoaWR4ID0gZGlyID4gMCA/IGkgOiBsZW5ndGggLSAxOyBpZHggPj0gMCAmJiBpZHggPCBsZW5ndGg7IGlkeCArPSBkaXIpIHtcbiAgICAgICAgaWYgKGFycmF5W2lkeF0gPT09IGl0ZW0pIHJldHVybiBpZHg7XG4gICAgICB9XG4gICAgICByZXR1cm4gLTE7XG4gICAgfTtcbiAgfVxuXG4gIC8vIFJldHVybiB0aGUgcG9zaXRpb24gb2YgdGhlIGZpcnN0IG9jY3VycmVuY2Ugb2YgYW4gaXRlbSBpbiBhbiBhcnJheSxcbiAgLy8gb3IgLTEgaWYgdGhlIGl0ZW0gaXMgbm90IGluY2x1ZGVkIGluIHRoZSBhcnJheS5cbiAgLy8gSWYgdGhlIGFycmF5IGlzIGxhcmdlIGFuZCBhbHJlYWR5IGluIHNvcnQgb3JkZXIsIHBhc3MgYHRydWVgXG4gIC8vIGZvciAqKmlzU29ydGVkKiogdG8gdXNlIGJpbmFyeSBzZWFyY2guXG4gIF8uaW5kZXhPZiA9IGNyZWF0ZUluZGV4RmluZGVyKDEsIF8uZmluZEluZGV4LCBfLnNvcnRlZEluZGV4KTtcbiAgXy5sYXN0SW5kZXhPZiA9IGNyZWF0ZUluZGV4RmluZGVyKC0xLCBfLmZpbmRMYXN0SW5kZXgpO1xuXG4gIC8vIEdlbmVyYXRlIGFuIGludGVnZXIgQXJyYXkgY29udGFpbmluZyBhbiBhcml0aG1ldGljIHByb2dyZXNzaW9uLiBBIHBvcnQgb2ZcbiAgLy8gdGhlIG5hdGl2ZSBQeXRob24gYHJhbmdlKClgIGZ1bmN0aW9uLiBTZWVcbiAgLy8gW3RoZSBQeXRob24gZG9jdW1lbnRhdGlvbl0oaHR0cDovL2RvY3MucHl0aG9uLm9yZy9saWJyYXJ5L2Z1bmN0aW9ucy5odG1sI3JhbmdlKS5cbiAgXy5yYW5nZSA9IGZ1bmN0aW9uKHN0YXJ0LCBzdG9wLCBzdGVwKSB7XG4gICAgaWYgKHN0b3AgPT0gbnVsbCkge1xuICAgICAgc3RvcCA9IHN0YXJ0IHx8IDA7XG4gICAgICBzdGFydCA9IDA7XG4gICAgfVxuICAgIHN0ZXAgPSBzdGVwIHx8IDE7XG5cbiAgICB2YXIgbGVuZ3RoID0gTWF0aC5tYXgoTWF0aC5jZWlsKChzdG9wIC0gc3RhcnQpIC8gc3RlcCksIDApO1xuICAgIHZhciByYW5nZSA9IEFycmF5KGxlbmd0aCk7XG5cbiAgICBmb3IgKHZhciBpZHggPSAwOyBpZHggPCBsZW5ndGg7IGlkeCsrLCBzdGFydCArPSBzdGVwKSB7XG4gICAgICByYW5nZVtpZHhdID0gc3RhcnQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJhbmdlO1xuICB9O1xuXG4gIC8vIEZ1bmN0aW9uIChhaGVtKSBGdW5jdGlvbnNcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgLy8gRGV0ZXJtaW5lcyB3aGV0aGVyIHRvIGV4ZWN1dGUgYSBmdW5jdGlvbiBhcyBhIGNvbnN0cnVjdG9yXG4gIC8vIG9yIGEgbm9ybWFsIGZ1bmN0aW9uIHdpdGggdGhlIHByb3ZpZGVkIGFyZ3VtZW50c1xuICB2YXIgZXhlY3V0ZUJvdW5kID0gZnVuY3Rpb24oc291cmNlRnVuYywgYm91bmRGdW5jLCBjb250ZXh0LCBjYWxsaW5nQ29udGV4dCwgYXJncykge1xuICAgIGlmICghKGNhbGxpbmdDb250ZXh0IGluc3RhbmNlb2YgYm91bmRGdW5jKSkgcmV0dXJuIHNvdXJjZUZ1bmMuYXBwbHkoY29udGV4dCwgYXJncyk7XG4gICAgdmFyIHNlbGYgPSBiYXNlQ3JlYXRlKHNvdXJjZUZ1bmMucHJvdG90eXBlKTtcbiAgICB2YXIgcmVzdWx0ID0gc291cmNlRnVuYy5hcHBseShzZWxmLCBhcmdzKTtcbiAgICBpZiAoXy5pc09iamVjdChyZXN1bHQpKSByZXR1cm4gcmVzdWx0O1xuICAgIHJldHVybiBzZWxmO1xuICB9O1xuXG4gIC8vIENyZWF0ZSBhIGZ1bmN0aW9uIGJvdW5kIHRvIGEgZ2l2ZW4gb2JqZWN0IChhc3NpZ25pbmcgYHRoaXNgLCBhbmQgYXJndW1lbnRzLFxuICAvLyBvcHRpb25hbGx5KS4gRGVsZWdhdGVzIHRvICoqRUNNQVNjcmlwdCA1KioncyBuYXRpdmUgYEZ1bmN0aW9uLmJpbmRgIGlmXG4gIC8vIGF2YWlsYWJsZS5cbiAgXy5iaW5kID0gZnVuY3Rpb24oZnVuYywgY29udGV4dCkge1xuICAgIGlmIChuYXRpdmVCaW5kICYmIGZ1bmMuYmluZCA9PT0gbmF0aXZlQmluZCkgcmV0dXJuIG5hdGl2ZUJpbmQuYXBwbHkoZnVuYywgc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpKTtcbiAgICBpZiAoIV8uaXNGdW5jdGlvbihmdW5jKSkgdGhyb3cgbmV3IFR5cGVFcnJvcignQmluZCBtdXN0IGJlIGNhbGxlZCBvbiBhIGZ1bmN0aW9uJyk7XG4gICAgdmFyIGFyZ3MgPSBzbGljZS5jYWxsKGFyZ3VtZW50cywgMik7XG4gICAgdmFyIGJvdW5kID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gZXhlY3V0ZUJvdW5kKGZ1bmMsIGJvdW5kLCBjb250ZXh0LCB0aGlzLCBhcmdzLmNvbmNhdChzbGljZS5jYWxsKGFyZ3VtZW50cykpKTtcbiAgICB9O1xuICAgIHJldHVybiBib3VuZDtcbiAgfTtcblxuICAvLyBQYXJ0aWFsbHkgYXBwbHkgYSBmdW5jdGlvbiBieSBjcmVhdGluZyBhIHZlcnNpb24gdGhhdCBoYXMgaGFkIHNvbWUgb2YgaXRzXG4gIC8vIGFyZ3VtZW50cyBwcmUtZmlsbGVkLCB3aXRob3V0IGNoYW5naW5nIGl0cyBkeW5hbWljIGB0aGlzYCBjb250ZXh0LiBfIGFjdHNcbiAgLy8gYXMgYSBwbGFjZWhvbGRlciwgYWxsb3dpbmcgYW55IGNvbWJpbmF0aW9uIG9mIGFyZ3VtZW50cyB0byBiZSBwcmUtZmlsbGVkLlxuICBfLnBhcnRpYWwgPSBmdW5jdGlvbihmdW5jKSB7XG4gICAgdmFyIGJvdW5kQXJncyA9IHNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTtcbiAgICB2YXIgYm91bmQgPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBwb3NpdGlvbiA9IDAsIGxlbmd0aCA9IGJvdW5kQXJncy5sZW5ndGg7XG4gICAgICB2YXIgYXJncyA9IEFycmF5KGxlbmd0aCk7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGFyZ3NbaV0gPSBib3VuZEFyZ3NbaV0gPT09IF8gPyBhcmd1bWVudHNbcG9zaXRpb24rK10gOiBib3VuZEFyZ3NbaV07XG4gICAgICB9XG4gICAgICB3aGlsZSAocG9zaXRpb24gPCBhcmd1bWVudHMubGVuZ3RoKSBhcmdzLnB1c2goYXJndW1lbnRzW3Bvc2l0aW9uKytdKTtcbiAgICAgIHJldHVybiBleGVjdXRlQm91bmQoZnVuYywgYm91bmQsIHRoaXMsIHRoaXMsIGFyZ3MpO1xuICAgIH07XG4gICAgcmV0dXJuIGJvdW5kO1xuICB9O1xuXG4gIC8vIEJpbmQgYSBudW1iZXIgb2YgYW4gb2JqZWN0J3MgbWV0aG9kcyB0byB0aGF0IG9iamVjdC4gUmVtYWluaW5nIGFyZ3VtZW50c1xuICAvLyBhcmUgdGhlIG1ldGhvZCBuYW1lcyB0byBiZSBib3VuZC4gVXNlZnVsIGZvciBlbnN1cmluZyB0aGF0IGFsbCBjYWxsYmFja3NcbiAgLy8gZGVmaW5lZCBvbiBhbiBvYmplY3QgYmVsb25nIHRvIGl0LlxuICBfLmJpbmRBbGwgPSBmdW5jdGlvbihvYmopIHtcbiAgICB2YXIgaSwgbGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aCwga2V5O1xuICAgIGlmIChsZW5ndGggPD0gMSkgdGhyb3cgbmV3IEVycm9yKCdiaW5kQWxsIG11c3QgYmUgcGFzc2VkIGZ1bmN0aW9uIG5hbWVzJyk7XG4gICAgZm9yIChpID0gMTsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICBrZXkgPSBhcmd1bWVudHNbaV07XG4gICAgICBvYmpba2V5XSA9IF8uYmluZChvYmpba2V5XSwgb2JqKTtcbiAgICB9XG4gICAgcmV0dXJuIG9iajtcbiAgfTtcblxuICAvLyBNZW1vaXplIGFuIGV4cGVuc2l2ZSBmdW5jdGlvbiBieSBzdG9yaW5nIGl0cyByZXN1bHRzLlxuICBfLm1lbW9pemUgPSBmdW5jdGlvbihmdW5jLCBoYXNoZXIpIHtcbiAgICB2YXIgbWVtb2l6ZSA9IGZ1bmN0aW9uKGtleSkge1xuICAgICAgdmFyIGNhY2hlID0gbWVtb2l6ZS5jYWNoZTtcbiAgICAgIHZhciBhZGRyZXNzID0gJycgKyAoaGFzaGVyID8gaGFzaGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgOiBrZXkpO1xuICAgICAgaWYgKCFfLmhhcyhjYWNoZSwgYWRkcmVzcykpIGNhY2hlW2FkZHJlc3NdID0gZnVuYy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgcmV0dXJuIGNhY2hlW2FkZHJlc3NdO1xuICAgIH07XG4gICAgbWVtb2l6ZS5jYWNoZSA9IHt9O1xuICAgIHJldHVybiBtZW1vaXplO1xuICB9O1xuXG4gIC8vIERlbGF5cyBhIGZ1bmN0aW9uIGZvciB0aGUgZ2l2ZW4gbnVtYmVyIG9mIG1pbGxpc2Vjb25kcywgYW5kIHRoZW4gY2FsbHNcbiAgLy8gaXQgd2l0aCB0aGUgYXJndW1lbnRzIHN1cHBsaWVkLlxuICBfLmRlbGF5ID0gZnVuY3Rpb24oZnVuYywgd2FpdCkge1xuICAgIHZhciBhcmdzID0gc2xpY2UuY2FsbChhcmd1bWVudHMsIDIpO1xuICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgICByZXR1cm4gZnVuYy5hcHBseShudWxsLCBhcmdzKTtcbiAgICB9LCB3YWl0KTtcbiAgfTtcblxuICAvLyBEZWZlcnMgYSBmdW5jdGlvbiwgc2NoZWR1bGluZyBpdCB0byBydW4gYWZ0ZXIgdGhlIGN1cnJlbnQgY2FsbCBzdGFjayBoYXNcbiAgLy8gY2xlYXJlZC5cbiAgXy5kZWZlciA9IF8ucGFydGlhbChfLmRlbGF5LCBfLCAxKTtcblxuICAvLyBSZXR1cm5zIGEgZnVuY3Rpb24sIHRoYXQsIHdoZW4gaW52b2tlZCwgd2lsbCBvbmx5IGJlIHRyaWdnZXJlZCBhdCBtb3N0IG9uY2VcbiAgLy8gZHVyaW5nIGEgZ2l2ZW4gd2luZG93IG9mIHRpbWUuIE5vcm1hbGx5LCB0aGUgdGhyb3R0bGVkIGZ1bmN0aW9uIHdpbGwgcnVuXG4gIC8vIGFzIG11Y2ggYXMgaXQgY2FuLCB3aXRob3V0IGV2ZXIgZ29pbmcgbW9yZSB0aGFuIG9uY2UgcGVyIGB3YWl0YCBkdXJhdGlvbjtcbiAgLy8gYnV0IGlmIHlvdSdkIGxpa2UgdG8gZGlzYWJsZSB0aGUgZXhlY3V0aW9uIG9uIHRoZSBsZWFkaW5nIGVkZ2UsIHBhc3NcbiAgLy8gYHtsZWFkaW5nOiBmYWxzZX1gLiBUbyBkaXNhYmxlIGV4ZWN1dGlvbiBvbiB0aGUgdHJhaWxpbmcgZWRnZSwgZGl0dG8uXG4gIF8udGhyb3R0bGUgPSBmdW5jdGlvbihmdW5jLCB3YWl0LCBvcHRpb25zKSB7XG4gICAgdmFyIGNvbnRleHQsIGFyZ3MsIHJlc3VsdDtcbiAgICB2YXIgdGltZW91dCA9IG51bGw7XG4gICAgdmFyIHByZXZpb3VzID0gMDtcbiAgICBpZiAoIW9wdGlvbnMpIG9wdGlvbnMgPSB7fTtcbiAgICB2YXIgbGF0ZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgIHByZXZpb3VzID0gb3B0aW9ucy5sZWFkaW5nID09PSBmYWxzZSA/IDAgOiBfLm5vdygpO1xuICAgICAgdGltZW91dCA9IG51bGw7XG4gICAgICByZXN1bHQgPSBmdW5jLmFwcGx5KGNvbnRleHQsIGFyZ3MpO1xuICAgICAgaWYgKCF0aW1lb3V0KSBjb250ZXh0ID0gYXJncyA9IG51bGw7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgbm93ID0gXy5ub3coKTtcbiAgICAgIGlmICghcHJldmlvdXMgJiYgb3B0aW9ucy5sZWFkaW5nID09PSBmYWxzZSkgcHJldmlvdXMgPSBub3c7XG4gICAgICB2YXIgcmVtYWluaW5nID0gd2FpdCAtIChub3cgLSBwcmV2aW91cyk7XG4gICAgICBjb250ZXh0ID0gdGhpcztcbiAgICAgIGFyZ3MgPSBhcmd1bWVudHM7XG4gICAgICBpZiAocmVtYWluaW5nIDw9IDAgfHwgcmVtYWluaW5nID4gd2FpdCkge1xuICAgICAgICBpZiAodGltZW91dCkge1xuICAgICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcbiAgICAgICAgICB0aW1lb3V0ID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBwcmV2aW91cyA9IG5vdztcbiAgICAgICAgcmVzdWx0ID0gZnVuYy5hcHBseShjb250ZXh0LCBhcmdzKTtcbiAgICAgICAgaWYgKCF0aW1lb3V0KSBjb250ZXh0ID0gYXJncyA9IG51bGw7XG4gICAgICB9IGVsc2UgaWYgKCF0aW1lb3V0ICYmIG9wdGlvbnMudHJhaWxpbmcgIT09IGZhbHNlKSB7XG4gICAgICAgIHRpbWVvdXQgPSBzZXRUaW1lb3V0KGxhdGVyLCByZW1haW5pbmcpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuICB9O1xuXG4gIC8vIFJldHVybnMgYSBmdW5jdGlvbiwgdGhhdCwgYXMgbG9uZyBhcyBpdCBjb250aW51ZXMgdG8gYmUgaW52b2tlZCwgd2lsbCBub3RcbiAgLy8gYmUgdHJpZ2dlcmVkLiBUaGUgZnVuY3Rpb24gd2lsbCBiZSBjYWxsZWQgYWZ0ZXIgaXQgc3RvcHMgYmVpbmcgY2FsbGVkIGZvclxuICAvLyBOIG1pbGxpc2Vjb25kcy4gSWYgYGltbWVkaWF0ZWAgaXMgcGFzc2VkLCB0cmlnZ2VyIHRoZSBmdW5jdGlvbiBvbiB0aGVcbiAgLy8gbGVhZGluZyBlZGdlLCBpbnN0ZWFkIG9mIHRoZSB0cmFpbGluZy5cbiAgXy5kZWJvdW5jZSA9IGZ1bmN0aW9uKGZ1bmMsIHdhaXQsIGltbWVkaWF0ZSkge1xuICAgIHZhciB0aW1lb3V0LCBhcmdzLCBjb250ZXh0LCB0aW1lc3RhbXAsIHJlc3VsdDtcblxuICAgIHZhciBsYXRlciA9IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGxhc3QgPSBfLm5vdygpIC0gdGltZXN0YW1wO1xuXG4gICAgICBpZiAobGFzdCA8IHdhaXQgJiYgbGFzdCA+PSAwKSB7XG4gICAgICAgIHRpbWVvdXQgPSBzZXRUaW1lb3V0KGxhdGVyLCB3YWl0IC0gbGFzdCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aW1lb3V0ID0gbnVsbDtcbiAgICAgICAgaWYgKCFpbW1lZGlhdGUpIHtcbiAgICAgICAgICByZXN1bHQgPSBmdW5jLmFwcGx5KGNvbnRleHQsIGFyZ3MpO1xuICAgICAgICAgIGlmICghdGltZW91dCkgY29udGV4dCA9IGFyZ3MgPSBudWxsO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcblxuICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgIGNvbnRleHQgPSB0aGlzO1xuICAgICAgYXJncyA9IGFyZ3VtZW50cztcbiAgICAgIHRpbWVzdGFtcCA9IF8ubm93KCk7XG4gICAgICB2YXIgY2FsbE5vdyA9IGltbWVkaWF0ZSAmJiAhdGltZW91dDtcbiAgICAgIGlmICghdGltZW91dCkgdGltZW91dCA9IHNldFRpbWVvdXQobGF0ZXIsIHdhaXQpO1xuICAgICAgaWYgKGNhbGxOb3cpIHtcbiAgICAgICAgcmVzdWx0ID0gZnVuYy5hcHBseShjb250ZXh0LCBhcmdzKTtcbiAgICAgICAgY29udGV4dCA9IGFyZ3MgPSBudWxsO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG4gIH07XG5cbiAgLy8gUmV0dXJucyB0aGUgZmlyc3QgZnVuY3Rpb24gcGFzc2VkIGFzIGFuIGFyZ3VtZW50IHRvIHRoZSBzZWNvbmQsXG4gIC8vIGFsbG93aW5nIHlvdSB0byBhZGp1c3QgYXJndW1lbnRzLCBydW4gY29kZSBiZWZvcmUgYW5kIGFmdGVyLCBhbmRcbiAgLy8gY29uZGl0aW9uYWxseSBleGVjdXRlIHRoZSBvcmlnaW5hbCBmdW5jdGlvbi5cbiAgXy53cmFwID0gZnVuY3Rpb24oZnVuYywgd3JhcHBlcikge1xuICAgIHJldHVybiBfLnBhcnRpYWwod3JhcHBlciwgZnVuYyk7XG4gIH07XG5cbiAgLy8gUmV0dXJucyBhIG5lZ2F0ZWQgdmVyc2lvbiBvZiB0aGUgcGFzc2VkLWluIHByZWRpY2F0ZS5cbiAgXy5uZWdhdGUgPSBmdW5jdGlvbihwcmVkaWNhdGUpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gIXByZWRpY2F0ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH07XG4gIH07XG5cbiAgLy8gUmV0dXJucyBhIGZ1bmN0aW9uIHRoYXQgaXMgdGhlIGNvbXBvc2l0aW9uIG9mIGEgbGlzdCBvZiBmdW5jdGlvbnMsIGVhY2hcbiAgLy8gY29uc3VtaW5nIHRoZSByZXR1cm4gdmFsdWUgb2YgdGhlIGZ1bmN0aW9uIHRoYXQgZm9sbG93cy5cbiAgXy5jb21wb3NlID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGFyZ3MgPSBhcmd1bWVudHM7XG4gICAgdmFyIHN0YXJ0ID0gYXJncy5sZW5ndGggLSAxO1xuICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBpID0gc3RhcnQ7XG4gICAgICB2YXIgcmVzdWx0ID0gYXJnc1tzdGFydF0uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIHdoaWxlIChpLS0pIHJlc3VsdCA9IGFyZ3NbaV0uY2FsbCh0aGlzLCByZXN1bHQpO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuICB9O1xuXG4gIC8vIFJldHVybnMgYSBmdW5jdGlvbiB0aGF0IHdpbGwgb25seSBiZSBleGVjdXRlZCBvbiBhbmQgYWZ0ZXIgdGhlIE50aCBjYWxsLlxuICBfLmFmdGVyID0gZnVuY3Rpb24odGltZXMsIGZ1bmMpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICBpZiAoLS10aW1lcyA8IDEpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cbiAgICB9O1xuICB9O1xuXG4gIC8vIFJldHVybnMgYSBmdW5jdGlvbiB0aGF0IHdpbGwgb25seSBiZSBleGVjdXRlZCB1cCB0byAoYnV0IG5vdCBpbmNsdWRpbmcpIHRoZSBOdGggY2FsbC5cbiAgXy5iZWZvcmUgPSBmdW5jdGlvbih0aW1lcywgZnVuYykge1xuICAgIHZhciBtZW1vO1xuICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgIGlmICgtLXRpbWVzID4gMCkge1xuICAgICAgICBtZW1vID0gZnVuYy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuICAgICAgaWYgKHRpbWVzIDw9IDEpIGZ1bmMgPSBudWxsO1xuICAgICAgcmV0dXJuIG1lbW87XG4gICAgfTtcbiAgfTtcblxuICAvLyBSZXR1cm5zIGEgZnVuY3Rpb24gdGhhdCB3aWxsIGJlIGV4ZWN1dGVkIGF0IG1vc3Qgb25lIHRpbWUsIG5vIG1hdHRlciBob3dcbiAgLy8gb2Z0ZW4geW91IGNhbGwgaXQuIFVzZWZ1bCBmb3IgbGF6eSBpbml0aWFsaXphdGlvbi5cbiAgXy5vbmNlID0gXy5wYXJ0aWFsKF8uYmVmb3JlLCAyKTtcblxuICAvLyBPYmplY3QgRnVuY3Rpb25zXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS1cblxuICAvLyBLZXlzIGluIElFIDwgOSB0aGF0IHdvbid0IGJlIGl0ZXJhdGVkIGJ5IGBmb3Iga2V5IGluIC4uLmAgYW5kIHRodXMgbWlzc2VkLlxuICB2YXIgaGFzRW51bUJ1ZyA9ICF7dG9TdHJpbmc6IG51bGx9LnByb3BlcnR5SXNFbnVtZXJhYmxlKCd0b1N0cmluZycpO1xuICB2YXIgbm9uRW51bWVyYWJsZVByb3BzID0gWyd2YWx1ZU9mJywgJ2lzUHJvdG90eXBlT2YnLCAndG9TdHJpbmcnLFxuICAgICAgICAgICAgICAgICAgICAgICdwcm9wZXJ0eUlzRW51bWVyYWJsZScsICdoYXNPd25Qcm9wZXJ0eScsICd0b0xvY2FsZVN0cmluZyddO1xuXG4gIGZ1bmN0aW9uIGNvbGxlY3ROb25FbnVtUHJvcHMob2JqLCBrZXlzKSB7XG4gICAgdmFyIG5vbkVudW1JZHggPSBub25FbnVtZXJhYmxlUHJvcHMubGVuZ3RoO1xuICAgIHZhciBjb25zdHJ1Y3RvciA9IG9iai5jb25zdHJ1Y3RvcjtcbiAgICB2YXIgcHJvdG8gPSAoXy5pc0Z1bmN0aW9uKGNvbnN0cnVjdG9yKSAmJiBjb25zdHJ1Y3Rvci5wcm90b3R5cGUpIHx8IE9ialByb3RvO1xuXG4gICAgLy8gQ29uc3RydWN0b3IgaXMgYSBzcGVjaWFsIGNhc2UuXG4gICAgdmFyIHByb3AgPSAnY29uc3RydWN0b3InO1xuICAgIGlmIChfLmhhcyhvYmosIHByb3ApICYmICFfLmNvbnRhaW5zKGtleXMsIHByb3ApKSBrZXlzLnB1c2gocHJvcCk7XG5cbiAgICB3aGlsZSAobm9uRW51bUlkeC0tKSB7XG4gICAgICBwcm9wID0gbm9uRW51bWVyYWJsZVByb3BzW25vbkVudW1JZHhdO1xuICAgICAgaWYgKHByb3AgaW4gb2JqICYmIG9ialtwcm9wXSAhPT0gcHJvdG9bcHJvcF0gJiYgIV8uY29udGFpbnMoa2V5cywgcHJvcCkpIHtcbiAgICAgICAga2V5cy5wdXNoKHByb3ApO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8vIFJldHJpZXZlIHRoZSBuYW1lcyBvZiBhbiBvYmplY3QncyBvd24gcHJvcGVydGllcy5cbiAgLy8gRGVsZWdhdGVzIHRvICoqRUNNQVNjcmlwdCA1KioncyBuYXRpdmUgYE9iamVjdC5rZXlzYFxuICBfLmtleXMgPSBmdW5jdGlvbihvYmopIHtcbiAgICBpZiAoIV8uaXNPYmplY3Qob2JqKSkgcmV0dXJuIFtdO1xuICAgIGlmIChuYXRpdmVLZXlzKSByZXR1cm4gbmF0aXZlS2V5cyhvYmopO1xuICAgIHZhciBrZXlzID0gW107XG4gICAgZm9yICh2YXIga2V5IGluIG9iaikgaWYgKF8uaGFzKG9iaiwga2V5KSkga2V5cy5wdXNoKGtleSk7XG4gICAgLy8gQWhlbSwgSUUgPCA5LlxuICAgIGlmIChoYXNFbnVtQnVnKSBjb2xsZWN0Tm9uRW51bVByb3BzKG9iaiwga2V5cyk7XG4gICAgcmV0dXJuIGtleXM7XG4gIH07XG5cbiAgLy8gUmV0cmlldmUgYWxsIHRoZSBwcm9wZXJ0eSBuYW1lcyBvZiBhbiBvYmplY3QuXG4gIF8uYWxsS2V5cyA9IGZ1bmN0aW9uKG9iaikge1xuICAgIGlmICghXy5pc09iamVjdChvYmopKSByZXR1cm4gW107XG4gICAgdmFyIGtleXMgPSBbXTtcbiAgICBmb3IgKHZhciBrZXkgaW4gb2JqKSBrZXlzLnB1c2goa2V5KTtcbiAgICAvLyBBaGVtLCBJRSA8IDkuXG4gICAgaWYgKGhhc0VudW1CdWcpIGNvbGxlY3ROb25FbnVtUHJvcHMob2JqLCBrZXlzKTtcbiAgICByZXR1cm4ga2V5cztcbiAgfTtcblxuICAvLyBSZXRyaWV2ZSB0aGUgdmFsdWVzIG9mIGFuIG9iamVjdCdzIHByb3BlcnRpZXMuXG4gIF8udmFsdWVzID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgdmFyIGtleXMgPSBfLmtleXMob2JqKTtcbiAgICB2YXIgbGVuZ3RoID0ga2V5cy5sZW5ndGg7XG4gICAgdmFyIHZhbHVlcyA9IEFycmF5KGxlbmd0aCk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgdmFsdWVzW2ldID0gb2JqW2tleXNbaV1dO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWVzO1xuICB9O1xuXG4gIC8vIFJldHVybnMgdGhlIHJlc3VsdHMgb2YgYXBwbHlpbmcgdGhlIGl0ZXJhdGVlIHRvIGVhY2ggZWxlbWVudCBvZiB0aGUgb2JqZWN0XG4gIC8vIEluIGNvbnRyYXN0IHRvIF8ubWFwIGl0IHJldHVybnMgYW4gb2JqZWN0XG4gIF8ubWFwT2JqZWN0ID0gZnVuY3Rpb24ob2JqLCBpdGVyYXRlZSwgY29udGV4dCkge1xuICAgIGl0ZXJhdGVlID0gY2IoaXRlcmF0ZWUsIGNvbnRleHQpO1xuICAgIHZhciBrZXlzID0gIF8ua2V5cyhvYmopLFxuICAgICAgICAgIGxlbmd0aCA9IGtleXMubGVuZ3RoLFxuICAgICAgICAgIHJlc3VsdHMgPSB7fSxcbiAgICAgICAgICBjdXJyZW50S2V5O1xuICAgICAgZm9yICh2YXIgaW5kZXggPSAwOyBpbmRleCA8IGxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICBjdXJyZW50S2V5ID0ga2V5c1tpbmRleF07XG4gICAgICAgIHJlc3VsdHNbY3VycmVudEtleV0gPSBpdGVyYXRlZShvYmpbY3VycmVudEtleV0sIGN1cnJlbnRLZXksIG9iaik7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0cztcbiAgfTtcblxuICAvLyBDb252ZXJ0IGFuIG9iamVjdCBpbnRvIGEgbGlzdCBvZiBgW2tleSwgdmFsdWVdYCBwYWlycy5cbiAgXy5wYWlycyA9IGZ1bmN0aW9uKG9iaikge1xuICAgIHZhciBrZXlzID0gXy5rZXlzKG9iaik7XG4gICAgdmFyIGxlbmd0aCA9IGtleXMubGVuZ3RoO1xuICAgIHZhciBwYWlycyA9IEFycmF5KGxlbmd0aCk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgcGFpcnNbaV0gPSBba2V5c1tpXSwgb2JqW2tleXNbaV1dXTtcbiAgICB9XG4gICAgcmV0dXJuIHBhaXJzO1xuICB9O1xuXG4gIC8vIEludmVydCB0aGUga2V5cyBhbmQgdmFsdWVzIG9mIGFuIG9iamVjdC4gVGhlIHZhbHVlcyBtdXN0IGJlIHNlcmlhbGl6YWJsZS5cbiAgXy5pbnZlcnQgPSBmdW5jdGlvbihvYmopIHtcbiAgICB2YXIgcmVzdWx0ID0ge307XG4gICAgdmFyIGtleXMgPSBfLmtleXMob2JqKTtcbiAgICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoID0ga2V5cy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgcmVzdWx0W29ialtrZXlzW2ldXV0gPSBrZXlzW2ldO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuXG4gIC8vIFJldHVybiBhIHNvcnRlZCBsaXN0IG9mIHRoZSBmdW5jdGlvbiBuYW1lcyBhdmFpbGFibGUgb24gdGhlIG9iamVjdC5cbiAgLy8gQWxpYXNlZCBhcyBgbWV0aG9kc2BcbiAgXy5mdW5jdGlvbnMgPSBfLm1ldGhvZHMgPSBmdW5jdGlvbihvYmopIHtcbiAgICB2YXIgbmFtZXMgPSBbXTtcbiAgICBmb3IgKHZhciBrZXkgaW4gb2JqKSB7XG4gICAgICBpZiAoXy5pc0Z1bmN0aW9uKG9ialtrZXldKSkgbmFtZXMucHVzaChrZXkpO1xuICAgIH1cbiAgICByZXR1cm4gbmFtZXMuc29ydCgpO1xuICB9O1xuXG4gIC8vIEV4dGVuZCBhIGdpdmVuIG9iamVjdCB3aXRoIGFsbCB0aGUgcHJvcGVydGllcyBpbiBwYXNzZWQtaW4gb2JqZWN0KHMpLlxuICBfLmV4dGVuZCA9IGNyZWF0ZUFzc2lnbmVyKF8uYWxsS2V5cyk7XG5cbiAgLy8gQXNzaWducyBhIGdpdmVuIG9iamVjdCB3aXRoIGFsbCB0aGUgb3duIHByb3BlcnRpZXMgaW4gdGhlIHBhc3NlZC1pbiBvYmplY3QocylcbiAgLy8gKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL09iamVjdC9hc3NpZ24pXG4gIF8uZXh0ZW5kT3duID0gXy5hc3NpZ24gPSBjcmVhdGVBc3NpZ25lcihfLmtleXMpO1xuXG4gIC8vIFJldHVybnMgdGhlIGZpcnN0IGtleSBvbiBhbiBvYmplY3QgdGhhdCBwYXNzZXMgYSBwcmVkaWNhdGUgdGVzdFxuICBfLmZpbmRLZXkgPSBmdW5jdGlvbihvYmosIHByZWRpY2F0ZSwgY29udGV4dCkge1xuICAgIHByZWRpY2F0ZSA9IGNiKHByZWRpY2F0ZSwgY29udGV4dCk7XG4gICAgdmFyIGtleXMgPSBfLmtleXMob2JqKSwga2V5O1xuICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGggPSBrZXlzLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICBrZXkgPSBrZXlzW2ldO1xuICAgICAgaWYgKHByZWRpY2F0ZShvYmpba2V5XSwga2V5LCBvYmopKSByZXR1cm4ga2V5O1xuICAgIH1cbiAgfTtcblxuICAvLyBSZXR1cm4gYSBjb3B5IG9mIHRoZSBvYmplY3Qgb25seSBjb250YWluaW5nIHRoZSB3aGl0ZWxpc3RlZCBwcm9wZXJ0aWVzLlxuICBfLnBpY2sgPSBmdW5jdGlvbihvYmplY3QsIG9pdGVyYXRlZSwgY29udGV4dCkge1xuICAgIHZhciByZXN1bHQgPSB7fSwgb2JqID0gb2JqZWN0LCBpdGVyYXRlZSwga2V5cztcbiAgICBpZiAob2JqID09IG51bGwpIHJldHVybiByZXN1bHQ7XG4gICAgaWYgKF8uaXNGdW5jdGlvbihvaXRlcmF0ZWUpKSB7XG4gICAgICBrZXlzID0gXy5hbGxLZXlzKG9iaik7XG4gICAgICBpdGVyYXRlZSA9IG9wdGltaXplQ2Iob2l0ZXJhdGVlLCBjb250ZXh0KTtcbiAgICB9IGVsc2Uge1xuICAgICAga2V5cyA9IGZsYXR0ZW4oYXJndW1lbnRzLCBmYWxzZSwgZmFsc2UsIDEpO1xuICAgICAgaXRlcmF0ZWUgPSBmdW5jdGlvbih2YWx1ZSwga2V5LCBvYmopIHsgcmV0dXJuIGtleSBpbiBvYmo7IH07XG4gICAgICBvYmogPSBPYmplY3Qob2JqKTtcbiAgICB9XG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aCA9IGtleXMubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBrZXkgPSBrZXlzW2ldO1xuICAgICAgdmFyIHZhbHVlID0gb2JqW2tleV07XG4gICAgICBpZiAoaXRlcmF0ZWUodmFsdWUsIGtleSwgb2JqKSkgcmVzdWx0W2tleV0gPSB2YWx1ZTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcblxuICAgLy8gUmV0dXJuIGEgY29weSBvZiB0aGUgb2JqZWN0IHdpdGhvdXQgdGhlIGJsYWNrbGlzdGVkIHByb3BlcnRpZXMuXG4gIF8ub21pdCA9IGZ1bmN0aW9uKG9iaiwgaXRlcmF0ZWUsIGNvbnRleHQpIHtcbiAgICBpZiAoXy5pc0Z1bmN0aW9uKGl0ZXJhdGVlKSkge1xuICAgICAgaXRlcmF0ZWUgPSBfLm5lZ2F0ZShpdGVyYXRlZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBrZXlzID0gXy5tYXAoZmxhdHRlbihhcmd1bWVudHMsIGZhbHNlLCBmYWxzZSwgMSksIFN0cmluZyk7XG4gICAgICBpdGVyYXRlZSA9IGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICAgICAgcmV0dXJuICFfLmNvbnRhaW5zKGtleXMsIGtleSk7XG4gICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gXy5waWNrKG9iaiwgaXRlcmF0ZWUsIGNvbnRleHQpO1xuICB9O1xuXG4gIC8vIEZpbGwgaW4gYSBnaXZlbiBvYmplY3Qgd2l0aCBkZWZhdWx0IHByb3BlcnRpZXMuXG4gIF8uZGVmYXVsdHMgPSBjcmVhdGVBc3NpZ25lcihfLmFsbEtleXMsIHRydWUpO1xuXG4gIC8vIENyZWF0ZXMgYW4gb2JqZWN0IHRoYXQgaW5oZXJpdHMgZnJvbSB0aGUgZ2l2ZW4gcHJvdG90eXBlIG9iamVjdC5cbiAgLy8gSWYgYWRkaXRpb25hbCBwcm9wZXJ0aWVzIGFyZSBwcm92aWRlZCB0aGVuIHRoZXkgd2lsbCBiZSBhZGRlZCB0byB0aGVcbiAgLy8gY3JlYXRlZCBvYmplY3QuXG4gIF8uY3JlYXRlID0gZnVuY3Rpb24ocHJvdG90eXBlLCBwcm9wcykge1xuICAgIHZhciByZXN1bHQgPSBiYXNlQ3JlYXRlKHByb3RvdHlwZSk7XG4gICAgaWYgKHByb3BzKSBfLmV4dGVuZE93bihyZXN1bHQsIHByb3BzKTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuXG4gIC8vIENyZWF0ZSBhIChzaGFsbG93LWNsb25lZCkgZHVwbGljYXRlIG9mIGFuIG9iamVjdC5cbiAgXy5jbG9uZSA9IGZ1bmN0aW9uKG9iaikge1xuICAgIGlmICghXy5pc09iamVjdChvYmopKSByZXR1cm4gb2JqO1xuICAgIHJldHVybiBfLmlzQXJyYXkob2JqKSA/IG9iai5zbGljZSgpIDogXy5leHRlbmQoe30sIG9iaik7XG4gIH07XG5cbiAgLy8gSW52b2tlcyBpbnRlcmNlcHRvciB3aXRoIHRoZSBvYmosIGFuZCB0aGVuIHJldHVybnMgb2JqLlxuICAvLyBUaGUgcHJpbWFyeSBwdXJwb3NlIG9mIHRoaXMgbWV0aG9kIGlzIHRvIFwidGFwIGludG9cIiBhIG1ldGhvZCBjaGFpbiwgaW5cbiAgLy8gb3JkZXIgdG8gcGVyZm9ybSBvcGVyYXRpb25zIG9uIGludGVybWVkaWF0ZSByZXN1bHRzIHdpdGhpbiB0aGUgY2hhaW4uXG4gIF8udGFwID0gZnVuY3Rpb24ob2JqLCBpbnRlcmNlcHRvcikge1xuICAgIGludGVyY2VwdG9yKG9iaik7XG4gICAgcmV0dXJuIG9iajtcbiAgfTtcblxuICAvLyBSZXR1cm5zIHdoZXRoZXIgYW4gb2JqZWN0IGhhcyBhIGdpdmVuIHNldCBvZiBga2V5OnZhbHVlYCBwYWlycy5cbiAgXy5pc01hdGNoID0gZnVuY3Rpb24ob2JqZWN0LCBhdHRycykge1xuICAgIHZhciBrZXlzID0gXy5rZXlzKGF0dHJzKSwgbGVuZ3RoID0ga2V5cy5sZW5ndGg7XG4gICAgaWYgKG9iamVjdCA9PSBudWxsKSByZXR1cm4gIWxlbmd0aDtcbiAgICB2YXIgb2JqID0gT2JqZWN0KG9iamVjdCk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGtleSA9IGtleXNbaV07XG4gICAgICBpZiAoYXR0cnNba2V5XSAhPT0gb2JqW2tleV0gfHwgIShrZXkgaW4gb2JqKSkgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfTtcblxuXG4gIC8vIEludGVybmFsIHJlY3Vyc2l2ZSBjb21wYXJpc29uIGZ1bmN0aW9uIGZvciBgaXNFcXVhbGAuXG4gIHZhciBlcSA9IGZ1bmN0aW9uKGEsIGIsIGFTdGFjaywgYlN0YWNrKSB7XG4gICAgLy8gSWRlbnRpY2FsIG9iamVjdHMgYXJlIGVxdWFsLiBgMCA9PT0gLTBgLCBidXQgdGhleSBhcmVuJ3QgaWRlbnRpY2FsLlxuICAgIC8vIFNlZSB0aGUgW0hhcm1vbnkgYGVnYWxgIHByb3Bvc2FsXShodHRwOi8vd2lraS5lY21hc2NyaXB0Lm9yZy9kb2t1LnBocD9pZD1oYXJtb255OmVnYWwpLlxuICAgIGlmIChhID09PSBiKSByZXR1cm4gYSAhPT0gMCB8fCAxIC8gYSA9PT0gMSAvIGI7XG4gICAgLy8gQSBzdHJpY3QgY29tcGFyaXNvbiBpcyBuZWNlc3NhcnkgYmVjYXVzZSBgbnVsbCA9PSB1bmRlZmluZWRgLlxuICAgIGlmIChhID09IG51bGwgfHwgYiA9PSBudWxsKSByZXR1cm4gYSA9PT0gYjtcbiAgICAvLyBVbndyYXAgYW55IHdyYXBwZWQgb2JqZWN0cy5cbiAgICBpZiAoYSBpbnN0YW5jZW9mIF8pIGEgPSBhLl93cmFwcGVkO1xuICAgIGlmIChiIGluc3RhbmNlb2YgXykgYiA9IGIuX3dyYXBwZWQ7XG4gICAgLy8gQ29tcGFyZSBgW1tDbGFzc11dYCBuYW1lcy5cbiAgICB2YXIgY2xhc3NOYW1lID0gdG9TdHJpbmcuY2FsbChhKTtcbiAgICBpZiAoY2xhc3NOYW1lICE9PSB0b1N0cmluZy5jYWxsKGIpKSByZXR1cm4gZmFsc2U7XG4gICAgc3dpdGNoIChjbGFzc05hbWUpIHtcbiAgICAgIC8vIFN0cmluZ3MsIG51bWJlcnMsIHJlZ3VsYXIgZXhwcmVzc2lvbnMsIGRhdGVzLCBhbmQgYm9vbGVhbnMgYXJlIGNvbXBhcmVkIGJ5IHZhbHVlLlxuICAgICAgY2FzZSAnW29iamVjdCBSZWdFeHBdJzpcbiAgICAgIC8vIFJlZ0V4cHMgYXJlIGNvZXJjZWQgdG8gc3RyaW5ncyBmb3IgY29tcGFyaXNvbiAoTm90ZTogJycgKyAvYS9pID09PSAnL2EvaScpXG4gICAgICBjYXNlICdbb2JqZWN0IFN0cmluZ10nOlxuICAgICAgICAvLyBQcmltaXRpdmVzIGFuZCB0aGVpciBjb3JyZXNwb25kaW5nIG9iamVjdCB3cmFwcGVycyBhcmUgZXF1aXZhbGVudDsgdGh1cywgYFwiNVwiYCBpc1xuICAgICAgICAvLyBlcXVpdmFsZW50IHRvIGBuZXcgU3RyaW5nKFwiNVwiKWAuXG4gICAgICAgIHJldHVybiAnJyArIGEgPT09ICcnICsgYjtcbiAgICAgIGNhc2UgJ1tvYmplY3QgTnVtYmVyXSc6XG4gICAgICAgIC8vIGBOYU5gcyBhcmUgZXF1aXZhbGVudCwgYnV0IG5vbi1yZWZsZXhpdmUuXG4gICAgICAgIC8vIE9iamVjdChOYU4pIGlzIGVxdWl2YWxlbnQgdG8gTmFOXG4gICAgICAgIGlmICgrYSAhPT0gK2EpIHJldHVybiArYiAhPT0gK2I7XG4gICAgICAgIC8vIEFuIGBlZ2FsYCBjb21wYXJpc29uIGlzIHBlcmZvcm1lZCBmb3Igb3RoZXIgbnVtZXJpYyB2YWx1ZXMuXG4gICAgICAgIHJldHVybiArYSA9PT0gMCA/IDEgLyArYSA9PT0gMSAvIGIgOiArYSA9PT0gK2I7XG4gICAgICBjYXNlICdbb2JqZWN0IERhdGVdJzpcbiAgICAgIGNhc2UgJ1tvYmplY3QgQm9vbGVhbl0nOlxuICAgICAgICAvLyBDb2VyY2UgZGF0ZXMgYW5kIGJvb2xlYW5zIHRvIG51bWVyaWMgcHJpbWl0aXZlIHZhbHVlcy4gRGF0ZXMgYXJlIGNvbXBhcmVkIGJ5IHRoZWlyXG4gICAgICAgIC8vIG1pbGxpc2Vjb25kIHJlcHJlc2VudGF0aW9ucy4gTm90ZSB0aGF0IGludmFsaWQgZGF0ZXMgd2l0aCBtaWxsaXNlY29uZCByZXByZXNlbnRhdGlvbnNcbiAgICAgICAgLy8gb2YgYE5hTmAgYXJlIG5vdCBlcXVpdmFsZW50LlxuICAgICAgICByZXR1cm4gK2EgPT09ICtiO1xuICAgIH1cblxuICAgIHZhciBhcmVBcnJheXMgPSBjbGFzc05hbWUgPT09ICdbb2JqZWN0IEFycmF5XSc7XG4gICAgaWYgKCFhcmVBcnJheXMpIHtcbiAgICAgIGlmICh0eXBlb2YgYSAhPSAnb2JqZWN0JyB8fCB0eXBlb2YgYiAhPSAnb2JqZWN0JykgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAvLyBPYmplY3RzIHdpdGggZGlmZmVyZW50IGNvbnN0cnVjdG9ycyBhcmUgbm90IGVxdWl2YWxlbnQsIGJ1dCBgT2JqZWN0YHMgb3IgYEFycmF5YHNcbiAgICAgIC8vIGZyb20gZGlmZmVyZW50IGZyYW1lcyBhcmUuXG4gICAgICB2YXIgYUN0b3IgPSBhLmNvbnN0cnVjdG9yLCBiQ3RvciA9IGIuY29uc3RydWN0b3I7XG4gICAgICBpZiAoYUN0b3IgIT09IGJDdG9yICYmICEoXy5pc0Z1bmN0aW9uKGFDdG9yKSAmJiBhQ3RvciBpbnN0YW5jZW9mIGFDdG9yICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXy5pc0Z1bmN0aW9uKGJDdG9yKSAmJiBiQ3RvciBpbnN0YW5jZW9mIGJDdG9yKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAmJiAoJ2NvbnN0cnVjdG9yJyBpbiBhICYmICdjb25zdHJ1Y3RvcicgaW4gYikpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgICAvLyBBc3N1bWUgZXF1YWxpdHkgZm9yIGN5Y2xpYyBzdHJ1Y3R1cmVzLiBUaGUgYWxnb3JpdGhtIGZvciBkZXRlY3RpbmcgY3ljbGljXG4gICAgLy8gc3RydWN0dXJlcyBpcyBhZGFwdGVkIGZyb20gRVMgNS4xIHNlY3Rpb24gMTUuMTIuMywgYWJzdHJhY3Qgb3BlcmF0aW9uIGBKT2AuXG5cbiAgICAvLyBJbml0aWFsaXppbmcgc3RhY2sgb2YgdHJhdmVyc2VkIG9iamVjdHMuXG4gICAgLy8gSXQncyBkb25lIGhlcmUgc2luY2Ugd2Ugb25seSBuZWVkIHRoZW0gZm9yIG9iamVjdHMgYW5kIGFycmF5cyBjb21wYXJpc29uLlxuICAgIGFTdGFjayA9IGFTdGFjayB8fCBbXTtcbiAgICBiU3RhY2sgPSBiU3RhY2sgfHwgW107XG4gICAgdmFyIGxlbmd0aCA9IGFTdGFjay5sZW5ndGg7XG4gICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICAvLyBMaW5lYXIgc2VhcmNoLiBQZXJmb3JtYW5jZSBpcyBpbnZlcnNlbHkgcHJvcG9ydGlvbmFsIHRvIHRoZSBudW1iZXIgb2ZcbiAgICAgIC8vIHVuaXF1ZSBuZXN0ZWQgc3RydWN0dXJlcy5cbiAgICAgIGlmIChhU3RhY2tbbGVuZ3RoXSA9PT0gYSkgcmV0dXJuIGJTdGFja1tsZW5ndGhdID09PSBiO1xuICAgIH1cblxuICAgIC8vIEFkZCB0aGUgZmlyc3Qgb2JqZWN0IHRvIHRoZSBzdGFjayBvZiB0cmF2ZXJzZWQgb2JqZWN0cy5cbiAgICBhU3RhY2sucHVzaChhKTtcbiAgICBiU3RhY2sucHVzaChiKTtcblxuICAgIC8vIFJlY3Vyc2l2ZWx5IGNvbXBhcmUgb2JqZWN0cyBhbmQgYXJyYXlzLlxuICAgIGlmIChhcmVBcnJheXMpIHtcbiAgICAgIC8vIENvbXBhcmUgYXJyYXkgbGVuZ3RocyB0byBkZXRlcm1pbmUgaWYgYSBkZWVwIGNvbXBhcmlzb24gaXMgbmVjZXNzYXJ5LlxuICAgICAgbGVuZ3RoID0gYS5sZW5ndGg7XG4gICAgICBpZiAobGVuZ3RoICE9PSBiLmxlbmd0aCkgcmV0dXJuIGZhbHNlO1xuICAgICAgLy8gRGVlcCBjb21wYXJlIHRoZSBjb250ZW50cywgaWdub3Jpbmcgbm9uLW51bWVyaWMgcHJvcGVydGllcy5cbiAgICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgICBpZiAoIWVxKGFbbGVuZ3RoXSwgYltsZW5ndGhdLCBhU3RhY2ssIGJTdGFjaykpIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gRGVlcCBjb21wYXJlIG9iamVjdHMuXG4gICAgICB2YXIga2V5cyA9IF8ua2V5cyhhKSwga2V5O1xuICAgICAgbGVuZ3RoID0ga2V5cy5sZW5ndGg7XG4gICAgICAvLyBFbnN1cmUgdGhhdCBib3RoIG9iamVjdHMgY29udGFpbiB0aGUgc2FtZSBudW1iZXIgb2YgcHJvcGVydGllcyBiZWZvcmUgY29tcGFyaW5nIGRlZXAgZXF1YWxpdHkuXG4gICAgICBpZiAoXy5rZXlzKGIpLmxlbmd0aCAhPT0gbGVuZ3RoKSByZXR1cm4gZmFsc2U7XG4gICAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgICAgLy8gRGVlcCBjb21wYXJlIGVhY2ggbWVtYmVyXG4gICAgICAgIGtleSA9IGtleXNbbGVuZ3RoXTtcbiAgICAgICAgaWYgKCEoXy5oYXMoYiwga2V5KSAmJiBlcShhW2tleV0sIGJba2V5XSwgYVN0YWNrLCBiU3RhY2spKSkgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgICAvLyBSZW1vdmUgdGhlIGZpcnN0IG9iamVjdCBmcm9tIHRoZSBzdGFjayBvZiB0cmF2ZXJzZWQgb2JqZWN0cy5cbiAgICBhU3RhY2sucG9wKCk7XG4gICAgYlN0YWNrLnBvcCgpO1xuICAgIHJldHVybiB0cnVlO1xuICB9O1xuXG4gIC8vIFBlcmZvcm0gYSBkZWVwIGNvbXBhcmlzb24gdG8gY2hlY2sgaWYgdHdvIG9iamVjdHMgYXJlIGVxdWFsLlxuICBfLmlzRXF1YWwgPSBmdW5jdGlvbihhLCBiKSB7XG4gICAgcmV0dXJuIGVxKGEsIGIpO1xuICB9O1xuXG4gIC8vIElzIGEgZ2l2ZW4gYXJyYXksIHN0cmluZywgb3Igb2JqZWN0IGVtcHR5P1xuICAvLyBBbiBcImVtcHR5XCIgb2JqZWN0IGhhcyBubyBlbnVtZXJhYmxlIG93bi1wcm9wZXJ0aWVzLlxuICBfLmlzRW1wdHkgPSBmdW5jdGlvbihvYmopIHtcbiAgICBpZiAob2JqID09IG51bGwpIHJldHVybiB0cnVlO1xuICAgIGlmIChpc0FycmF5TGlrZShvYmopICYmIChfLmlzQXJyYXkob2JqKSB8fCBfLmlzU3RyaW5nKG9iaikgfHwgXy5pc0FyZ3VtZW50cyhvYmopKSkgcmV0dXJuIG9iai5sZW5ndGggPT09IDA7XG4gICAgcmV0dXJuIF8ua2V5cyhvYmopLmxlbmd0aCA9PT0gMDtcbiAgfTtcblxuICAvLyBJcyBhIGdpdmVuIHZhbHVlIGEgRE9NIGVsZW1lbnQ/XG4gIF8uaXNFbGVtZW50ID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgcmV0dXJuICEhKG9iaiAmJiBvYmoubm9kZVR5cGUgPT09IDEpO1xuICB9O1xuXG4gIC8vIElzIGEgZ2l2ZW4gdmFsdWUgYW4gYXJyYXk/XG4gIC8vIERlbGVnYXRlcyB0byBFQ01BNSdzIG5hdGl2ZSBBcnJheS5pc0FycmF5XG4gIF8uaXNBcnJheSA9IG5hdGl2ZUlzQXJyYXkgfHwgZnVuY3Rpb24ob2JqKSB7XG4gICAgcmV0dXJuIHRvU3RyaW5nLmNhbGwob2JqKSA9PT0gJ1tvYmplY3QgQXJyYXldJztcbiAgfTtcblxuICAvLyBJcyBhIGdpdmVuIHZhcmlhYmxlIGFuIG9iamVjdD9cbiAgXy5pc09iamVjdCA9IGZ1bmN0aW9uKG9iaikge1xuICAgIHZhciB0eXBlID0gdHlwZW9mIG9iajtcbiAgICByZXR1cm4gdHlwZSA9PT0gJ2Z1bmN0aW9uJyB8fCB0eXBlID09PSAnb2JqZWN0JyAmJiAhIW9iajtcbiAgfTtcblxuICAvLyBBZGQgc29tZSBpc1R5cGUgbWV0aG9kczogaXNBcmd1bWVudHMsIGlzRnVuY3Rpb24sIGlzU3RyaW5nLCBpc051bWJlciwgaXNEYXRlLCBpc1JlZ0V4cCwgaXNFcnJvci5cbiAgXy5lYWNoKFsnQXJndW1lbnRzJywgJ0Z1bmN0aW9uJywgJ1N0cmluZycsICdOdW1iZXInLCAnRGF0ZScsICdSZWdFeHAnLCAnRXJyb3InXSwgZnVuY3Rpb24obmFtZSkge1xuICAgIF9bJ2lzJyArIG5hbWVdID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgICByZXR1cm4gdG9TdHJpbmcuY2FsbChvYmopID09PSAnW29iamVjdCAnICsgbmFtZSArICddJztcbiAgICB9O1xuICB9KTtcblxuICAvLyBEZWZpbmUgYSBmYWxsYmFjayB2ZXJzaW9uIG9mIHRoZSBtZXRob2QgaW4gYnJvd3NlcnMgKGFoZW0sIElFIDwgOSksIHdoZXJlXG4gIC8vIHRoZXJlIGlzbid0IGFueSBpbnNwZWN0YWJsZSBcIkFyZ3VtZW50c1wiIHR5cGUuXG4gIGlmICghXy5pc0FyZ3VtZW50cyhhcmd1bWVudHMpKSB7XG4gICAgXy5pc0FyZ3VtZW50cyA9IGZ1bmN0aW9uKG9iaikge1xuICAgICAgcmV0dXJuIF8uaGFzKG9iaiwgJ2NhbGxlZScpO1xuICAgIH07XG4gIH1cblxuICAvLyBPcHRpbWl6ZSBgaXNGdW5jdGlvbmAgaWYgYXBwcm9wcmlhdGUuIFdvcmsgYXJvdW5kIHNvbWUgdHlwZW9mIGJ1Z3MgaW4gb2xkIHY4LFxuICAvLyBJRSAxMSAoIzE2MjEpLCBhbmQgaW4gU2FmYXJpIDggKCMxOTI5KS5cbiAgaWYgKHR5cGVvZiAvLi8gIT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgSW50OEFycmF5ICE9ICdvYmplY3QnKSB7XG4gICAgXy5pc0Z1bmN0aW9uID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgICByZXR1cm4gdHlwZW9mIG9iaiA9PSAnZnVuY3Rpb24nIHx8IGZhbHNlO1xuICAgIH07XG4gIH1cblxuICAvLyBJcyBhIGdpdmVuIG9iamVjdCBhIGZpbml0ZSBudW1iZXI/XG4gIF8uaXNGaW5pdGUgPSBmdW5jdGlvbihvYmopIHtcbiAgICByZXR1cm4gaXNGaW5pdGUob2JqKSAmJiAhaXNOYU4ocGFyc2VGbG9hdChvYmopKTtcbiAgfTtcblxuICAvLyBJcyB0aGUgZ2l2ZW4gdmFsdWUgYE5hTmA/IChOYU4gaXMgdGhlIG9ubHkgbnVtYmVyIHdoaWNoIGRvZXMgbm90IGVxdWFsIGl0c2VsZikuXG4gIF8uaXNOYU4gPSBmdW5jdGlvbihvYmopIHtcbiAgICByZXR1cm4gXy5pc051bWJlcihvYmopICYmIG9iaiAhPT0gK29iajtcbiAgfTtcblxuICAvLyBJcyBhIGdpdmVuIHZhbHVlIGEgYm9vbGVhbj9cbiAgXy5pc0Jvb2xlYW4gPSBmdW5jdGlvbihvYmopIHtcbiAgICByZXR1cm4gb2JqID09PSB0cnVlIHx8IG9iaiA9PT0gZmFsc2UgfHwgdG9TdHJpbmcuY2FsbChvYmopID09PSAnW29iamVjdCBCb29sZWFuXSc7XG4gIH07XG5cbiAgLy8gSXMgYSBnaXZlbiB2YWx1ZSBlcXVhbCB0byBudWxsP1xuICBfLmlzTnVsbCA9IGZ1bmN0aW9uKG9iaikge1xuICAgIHJldHVybiBvYmogPT09IG51bGw7XG4gIH07XG5cbiAgLy8gSXMgYSBnaXZlbiB2YXJpYWJsZSB1bmRlZmluZWQ/XG4gIF8uaXNVbmRlZmluZWQgPSBmdW5jdGlvbihvYmopIHtcbiAgICByZXR1cm4gb2JqID09PSB2b2lkIDA7XG4gIH07XG5cbiAgLy8gU2hvcnRjdXQgZnVuY3Rpb24gZm9yIGNoZWNraW5nIGlmIGFuIG9iamVjdCBoYXMgYSBnaXZlbiBwcm9wZXJ0eSBkaXJlY3RseVxuICAvLyBvbiBpdHNlbGYgKGluIG90aGVyIHdvcmRzLCBub3Qgb24gYSBwcm90b3R5cGUpLlxuICBfLmhhcyA9IGZ1bmN0aW9uKG9iaiwga2V5KSB7XG4gICAgcmV0dXJuIG9iaiAhPSBudWxsICYmIGhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpO1xuICB9O1xuXG4gIC8vIFV0aWxpdHkgRnVuY3Rpb25zXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgLy8gUnVuIFVuZGVyc2NvcmUuanMgaW4gKm5vQ29uZmxpY3QqIG1vZGUsIHJldHVybmluZyB0aGUgYF9gIHZhcmlhYmxlIHRvIGl0c1xuICAvLyBwcmV2aW91cyBvd25lci4gUmV0dXJucyBhIHJlZmVyZW5jZSB0byB0aGUgVW5kZXJzY29yZSBvYmplY3QuXG4gIF8ubm9Db25mbGljdCA9IGZ1bmN0aW9uKCkge1xuICAgIHJvb3QuXyA9IHByZXZpb3VzVW5kZXJzY29yZTtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICAvLyBLZWVwIHRoZSBpZGVudGl0eSBmdW5jdGlvbiBhcm91bmQgZm9yIGRlZmF1bHQgaXRlcmF0ZWVzLlxuICBfLmlkZW50aXR5ID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH07XG5cbiAgLy8gUHJlZGljYXRlLWdlbmVyYXRpbmcgZnVuY3Rpb25zLiBPZnRlbiB1c2VmdWwgb3V0c2lkZSBvZiBVbmRlcnNjb3JlLlxuICBfLmNvbnN0YW50ID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfTtcbiAgfTtcblxuICBfLm5vb3AgPSBmdW5jdGlvbigpe307XG5cbiAgXy5wcm9wZXJ0eSA9IHByb3BlcnR5O1xuXG4gIC8vIEdlbmVyYXRlcyBhIGZ1bmN0aW9uIGZvciBhIGdpdmVuIG9iamVjdCB0aGF0IHJldHVybnMgYSBnaXZlbiBwcm9wZXJ0eS5cbiAgXy5wcm9wZXJ0eU9mID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgcmV0dXJuIG9iaiA9PSBudWxsID8gZnVuY3Rpb24oKXt9IDogZnVuY3Rpb24oa2V5KSB7XG4gICAgICByZXR1cm4gb2JqW2tleV07XG4gICAgfTtcbiAgfTtcblxuICAvLyBSZXR1cm5zIGEgcHJlZGljYXRlIGZvciBjaGVja2luZyB3aGV0aGVyIGFuIG9iamVjdCBoYXMgYSBnaXZlbiBzZXQgb2ZcbiAgLy8gYGtleTp2YWx1ZWAgcGFpcnMuXG4gIF8ubWF0Y2hlciA9IF8ubWF0Y2hlcyA9IGZ1bmN0aW9uKGF0dHJzKSB7XG4gICAgYXR0cnMgPSBfLmV4dGVuZE93bih7fSwgYXR0cnMpO1xuICAgIHJldHVybiBmdW5jdGlvbihvYmopIHtcbiAgICAgIHJldHVybiBfLmlzTWF0Y2gob2JqLCBhdHRycyk7XG4gICAgfTtcbiAgfTtcblxuICAvLyBSdW4gYSBmdW5jdGlvbiAqKm4qKiB0aW1lcy5cbiAgXy50aW1lcyA9IGZ1bmN0aW9uKG4sIGl0ZXJhdGVlLCBjb250ZXh0KSB7XG4gICAgdmFyIGFjY3VtID0gQXJyYXkoTWF0aC5tYXgoMCwgbikpO1xuICAgIGl0ZXJhdGVlID0gb3B0aW1pemVDYihpdGVyYXRlZSwgY29udGV4dCwgMSk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuOyBpKyspIGFjY3VtW2ldID0gaXRlcmF0ZWUoaSk7XG4gICAgcmV0dXJuIGFjY3VtO1xuICB9O1xuXG4gIC8vIFJldHVybiBhIHJhbmRvbSBpbnRlZ2VyIGJldHdlZW4gbWluIGFuZCBtYXggKGluY2x1c2l2ZSkuXG4gIF8ucmFuZG9tID0gZnVuY3Rpb24obWluLCBtYXgpIHtcbiAgICBpZiAobWF4ID09IG51bGwpIHtcbiAgICAgIG1heCA9IG1pbjtcbiAgICAgIG1pbiA9IDA7XG4gICAgfVxuICAgIHJldHVybiBtaW4gKyBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluICsgMSkpO1xuICB9O1xuXG4gIC8vIEEgKHBvc3NpYmx5IGZhc3Rlcikgd2F5IHRvIGdldCB0aGUgY3VycmVudCB0aW1lc3RhbXAgYXMgYW4gaW50ZWdlci5cbiAgXy5ub3cgPSBEYXRlLm5vdyB8fCBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gIH07XG5cbiAgIC8vIExpc3Qgb2YgSFRNTCBlbnRpdGllcyBmb3IgZXNjYXBpbmcuXG4gIHZhciBlc2NhcGVNYXAgPSB7XG4gICAgJyYnOiAnJmFtcDsnLFxuICAgICc8JzogJyZsdDsnLFxuICAgICc+JzogJyZndDsnLFxuICAgICdcIic6ICcmcXVvdDsnLFxuICAgIFwiJ1wiOiAnJiN4Mjc7JyxcbiAgICAnYCc6ICcmI3g2MDsnXG4gIH07XG4gIHZhciB1bmVzY2FwZU1hcCA9IF8uaW52ZXJ0KGVzY2FwZU1hcCk7XG5cbiAgLy8gRnVuY3Rpb25zIGZvciBlc2NhcGluZyBhbmQgdW5lc2NhcGluZyBzdHJpbmdzIHRvL2Zyb20gSFRNTCBpbnRlcnBvbGF0aW9uLlxuICB2YXIgY3JlYXRlRXNjYXBlciA9IGZ1bmN0aW9uKG1hcCkge1xuICAgIHZhciBlc2NhcGVyID0gZnVuY3Rpb24obWF0Y2gpIHtcbiAgICAgIHJldHVybiBtYXBbbWF0Y2hdO1xuICAgIH07XG4gICAgLy8gUmVnZXhlcyBmb3IgaWRlbnRpZnlpbmcgYSBrZXkgdGhhdCBuZWVkcyB0byBiZSBlc2NhcGVkXG4gICAgdmFyIHNvdXJjZSA9ICcoPzonICsgXy5rZXlzKG1hcCkuam9pbignfCcpICsgJyknO1xuICAgIHZhciB0ZXN0UmVnZXhwID0gUmVnRXhwKHNvdXJjZSk7XG4gICAgdmFyIHJlcGxhY2VSZWdleHAgPSBSZWdFeHAoc291cmNlLCAnZycpO1xuICAgIHJldHVybiBmdW5jdGlvbihzdHJpbmcpIHtcbiAgICAgIHN0cmluZyA9IHN0cmluZyA9PSBudWxsID8gJycgOiAnJyArIHN0cmluZztcbiAgICAgIHJldHVybiB0ZXN0UmVnZXhwLnRlc3Qoc3RyaW5nKSA/IHN0cmluZy5yZXBsYWNlKHJlcGxhY2VSZWdleHAsIGVzY2FwZXIpIDogc3RyaW5nO1xuICAgIH07XG4gIH07XG4gIF8uZXNjYXBlID0gY3JlYXRlRXNjYXBlcihlc2NhcGVNYXApO1xuICBfLnVuZXNjYXBlID0gY3JlYXRlRXNjYXBlcih1bmVzY2FwZU1hcCk7XG5cbiAgLy8gSWYgdGhlIHZhbHVlIG9mIHRoZSBuYW1lZCBgcHJvcGVydHlgIGlzIGEgZnVuY3Rpb24gdGhlbiBpbnZva2UgaXQgd2l0aCB0aGVcbiAgLy8gYG9iamVjdGAgYXMgY29udGV4dDsgb3RoZXJ3aXNlLCByZXR1cm4gaXQuXG4gIF8ucmVzdWx0ID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSwgZmFsbGJhY2spIHtcbiAgICB2YXIgdmFsdWUgPSBvYmplY3QgPT0gbnVsbCA/IHZvaWQgMCA6IG9iamVjdFtwcm9wZXJ0eV07XG4gICAgaWYgKHZhbHVlID09PSB2b2lkIDApIHtcbiAgICAgIHZhbHVlID0gZmFsbGJhY2s7XG4gICAgfVxuICAgIHJldHVybiBfLmlzRnVuY3Rpb24odmFsdWUpID8gdmFsdWUuY2FsbChvYmplY3QpIDogdmFsdWU7XG4gIH07XG5cbiAgLy8gR2VuZXJhdGUgYSB1bmlxdWUgaW50ZWdlciBpZCAodW5pcXVlIHdpdGhpbiB0aGUgZW50aXJlIGNsaWVudCBzZXNzaW9uKS5cbiAgLy8gVXNlZnVsIGZvciB0ZW1wb3JhcnkgRE9NIGlkcy5cbiAgdmFyIGlkQ291bnRlciA9IDA7XG4gIF8udW5pcXVlSWQgPSBmdW5jdGlvbihwcmVmaXgpIHtcbiAgICB2YXIgaWQgPSArK2lkQ291bnRlciArICcnO1xuICAgIHJldHVybiBwcmVmaXggPyBwcmVmaXggKyBpZCA6IGlkO1xuICB9O1xuXG4gIC8vIEJ5IGRlZmF1bHQsIFVuZGVyc2NvcmUgdXNlcyBFUkItc3R5bGUgdGVtcGxhdGUgZGVsaW1pdGVycywgY2hhbmdlIHRoZVxuICAvLyBmb2xsb3dpbmcgdGVtcGxhdGUgc2V0dGluZ3MgdG8gdXNlIGFsdGVybmF0aXZlIGRlbGltaXRlcnMuXG4gIF8udGVtcGxhdGVTZXR0aW5ncyA9IHtcbiAgICBldmFsdWF0ZSAgICA6IC88JShbXFxzXFxTXSs/KSU+L2csXG4gICAgaW50ZXJwb2xhdGUgOiAvPCU9KFtcXHNcXFNdKz8pJT4vZyxcbiAgICBlc2NhcGUgICAgICA6IC88JS0oW1xcc1xcU10rPyklPi9nXG4gIH07XG5cbiAgLy8gV2hlbiBjdXN0b21pemluZyBgdGVtcGxhdGVTZXR0aW5nc2AsIGlmIHlvdSBkb24ndCB3YW50IHRvIGRlZmluZSBhblxuICAvLyBpbnRlcnBvbGF0aW9uLCBldmFsdWF0aW9uIG9yIGVzY2FwaW5nIHJlZ2V4LCB3ZSBuZWVkIG9uZSB0aGF0IGlzXG4gIC8vIGd1YXJhbnRlZWQgbm90IHRvIG1hdGNoLlxuICB2YXIgbm9NYXRjaCA9IC8oLileLztcblxuICAvLyBDZXJ0YWluIGNoYXJhY3RlcnMgbmVlZCB0byBiZSBlc2NhcGVkIHNvIHRoYXQgdGhleSBjYW4gYmUgcHV0IGludG8gYVxuICAvLyBzdHJpbmcgbGl0ZXJhbC5cbiAgdmFyIGVzY2FwZXMgPSB7XG4gICAgXCInXCI6ICAgICAgXCInXCIsXG4gICAgJ1xcXFwnOiAgICAgJ1xcXFwnLFxuICAgICdcXHInOiAgICAgJ3InLFxuICAgICdcXG4nOiAgICAgJ24nLFxuICAgICdcXHUyMDI4JzogJ3UyMDI4JyxcbiAgICAnXFx1MjAyOSc6ICd1MjAyOSdcbiAgfTtcblxuICB2YXIgZXNjYXBlciA9IC9cXFxcfCd8XFxyfFxcbnxcXHUyMDI4fFxcdTIwMjkvZztcblxuICB2YXIgZXNjYXBlQ2hhciA9IGZ1bmN0aW9uKG1hdGNoKSB7XG4gICAgcmV0dXJuICdcXFxcJyArIGVzY2FwZXNbbWF0Y2hdO1xuICB9O1xuXG4gIC8vIEphdmFTY3JpcHQgbWljcm8tdGVtcGxhdGluZywgc2ltaWxhciB0byBKb2huIFJlc2lnJ3MgaW1wbGVtZW50YXRpb24uXG4gIC8vIFVuZGVyc2NvcmUgdGVtcGxhdGluZyBoYW5kbGVzIGFyYml0cmFyeSBkZWxpbWl0ZXJzLCBwcmVzZXJ2ZXMgd2hpdGVzcGFjZSxcbiAgLy8gYW5kIGNvcnJlY3RseSBlc2NhcGVzIHF1b3RlcyB3aXRoaW4gaW50ZXJwb2xhdGVkIGNvZGUuXG4gIC8vIE5COiBgb2xkU2V0dGluZ3NgIG9ubHkgZXhpc3RzIGZvciBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eS5cbiAgXy50ZW1wbGF0ZSA9IGZ1bmN0aW9uKHRleHQsIHNldHRpbmdzLCBvbGRTZXR0aW5ncykge1xuICAgIGlmICghc2V0dGluZ3MgJiYgb2xkU2V0dGluZ3MpIHNldHRpbmdzID0gb2xkU2V0dGluZ3M7XG4gICAgc2V0dGluZ3MgPSBfLmRlZmF1bHRzKHt9LCBzZXR0aW5ncywgXy50ZW1wbGF0ZVNldHRpbmdzKTtcblxuICAgIC8vIENvbWJpbmUgZGVsaW1pdGVycyBpbnRvIG9uZSByZWd1bGFyIGV4cHJlc3Npb24gdmlhIGFsdGVybmF0aW9uLlxuICAgIHZhciBtYXRjaGVyID0gUmVnRXhwKFtcbiAgICAgIChzZXR0aW5ncy5lc2NhcGUgfHwgbm9NYXRjaCkuc291cmNlLFxuICAgICAgKHNldHRpbmdzLmludGVycG9sYXRlIHx8IG5vTWF0Y2gpLnNvdXJjZSxcbiAgICAgIChzZXR0aW5ncy5ldmFsdWF0ZSB8fCBub01hdGNoKS5zb3VyY2VcbiAgICBdLmpvaW4oJ3wnKSArICd8JCcsICdnJyk7XG5cbiAgICAvLyBDb21waWxlIHRoZSB0ZW1wbGF0ZSBzb3VyY2UsIGVzY2FwaW5nIHN0cmluZyBsaXRlcmFscyBhcHByb3ByaWF0ZWx5LlxuICAgIHZhciBpbmRleCA9IDA7XG4gICAgdmFyIHNvdXJjZSA9IFwiX19wKz0nXCI7XG4gICAgdGV4dC5yZXBsYWNlKG1hdGNoZXIsIGZ1bmN0aW9uKG1hdGNoLCBlc2NhcGUsIGludGVycG9sYXRlLCBldmFsdWF0ZSwgb2Zmc2V0KSB7XG4gICAgICBzb3VyY2UgKz0gdGV4dC5zbGljZShpbmRleCwgb2Zmc2V0KS5yZXBsYWNlKGVzY2FwZXIsIGVzY2FwZUNoYXIpO1xuICAgICAgaW5kZXggPSBvZmZzZXQgKyBtYXRjaC5sZW5ndGg7XG5cbiAgICAgIGlmIChlc2NhcGUpIHtcbiAgICAgICAgc291cmNlICs9IFwiJytcXG4oKF9fdD0oXCIgKyBlc2NhcGUgKyBcIikpPT1udWxsPycnOl8uZXNjYXBlKF9fdCkpK1xcbidcIjtcbiAgICAgIH0gZWxzZSBpZiAoaW50ZXJwb2xhdGUpIHtcbiAgICAgICAgc291cmNlICs9IFwiJytcXG4oKF9fdD0oXCIgKyBpbnRlcnBvbGF0ZSArIFwiKSk9PW51bGw/Jyc6X190KStcXG4nXCI7XG4gICAgICB9IGVsc2UgaWYgKGV2YWx1YXRlKSB7XG4gICAgICAgIHNvdXJjZSArPSBcIic7XFxuXCIgKyBldmFsdWF0ZSArIFwiXFxuX19wKz0nXCI7XG4gICAgICB9XG5cbiAgICAgIC8vIEFkb2JlIFZNcyBuZWVkIHRoZSBtYXRjaCByZXR1cm5lZCB0byBwcm9kdWNlIHRoZSBjb3JyZWN0IG9mZmVzdC5cbiAgICAgIHJldHVybiBtYXRjaDtcbiAgICB9KTtcbiAgICBzb3VyY2UgKz0gXCInO1xcblwiO1xuXG4gICAgLy8gSWYgYSB2YXJpYWJsZSBpcyBub3Qgc3BlY2lmaWVkLCBwbGFjZSBkYXRhIHZhbHVlcyBpbiBsb2NhbCBzY29wZS5cbiAgICBpZiAoIXNldHRpbmdzLnZhcmlhYmxlKSBzb3VyY2UgPSAnd2l0aChvYmp8fHt9KXtcXG4nICsgc291cmNlICsgJ31cXG4nO1xuXG4gICAgc291cmNlID0gXCJ2YXIgX190LF9fcD0nJyxfX2o9QXJyYXkucHJvdG90eXBlLmpvaW4sXCIgK1xuICAgICAgXCJwcmludD1mdW5jdGlvbigpe19fcCs9X19qLmNhbGwoYXJndW1lbnRzLCcnKTt9O1xcblwiICtcbiAgICAgIHNvdXJjZSArICdyZXR1cm4gX19wO1xcbic7XG5cbiAgICB0cnkge1xuICAgICAgdmFyIHJlbmRlciA9IG5ldyBGdW5jdGlvbihzZXR0aW5ncy52YXJpYWJsZSB8fCAnb2JqJywgJ18nLCBzb3VyY2UpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGUuc291cmNlID0gc291cmNlO1xuICAgICAgdGhyb3cgZTtcbiAgICB9XG5cbiAgICB2YXIgdGVtcGxhdGUgPSBmdW5jdGlvbihkYXRhKSB7XG4gICAgICByZXR1cm4gcmVuZGVyLmNhbGwodGhpcywgZGF0YSwgXyk7XG4gICAgfTtcblxuICAgIC8vIFByb3ZpZGUgdGhlIGNvbXBpbGVkIHNvdXJjZSBhcyBhIGNvbnZlbmllbmNlIGZvciBwcmVjb21waWxhdGlvbi5cbiAgICB2YXIgYXJndW1lbnQgPSBzZXR0aW5ncy52YXJpYWJsZSB8fCAnb2JqJztcbiAgICB0ZW1wbGF0ZS5zb3VyY2UgPSAnZnVuY3Rpb24oJyArIGFyZ3VtZW50ICsgJyl7XFxuJyArIHNvdXJjZSArICd9JztcblxuICAgIHJldHVybiB0ZW1wbGF0ZTtcbiAgfTtcblxuICAvLyBBZGQgYSBcImNoYWluXCIgZnVuY3Rpb24uIFN0YXJ0IGNoYWluaW5nIGEgd3JhcHBlZCBVbmRlcnNjb3JlIG9iamVjdC5cbiAgXy5jaGFpbiA9IGZ1bmN0aW9uKG9iaikge1xuICAgIHZhciBpbnN0YW5jZSA9IF8ob2JqKTtcbiAgICBpbnN0YW5jZS5fY2hhaW4gPSB0cnVlO1xuICAgIHJldHVybiBpbnN0YW5jZTtcbiAgfTtcblxuICAvLyBPT1BcbiAgLy8gLS0tLS0tLS0tLS0tLS0tXG4gIC8vIElmIFVuZGVyc2NvcmUgaXMgY2FsbGVkIGFzIGEgZnVuY3Rpb24sIGl0IHJldHVybnMgYSB3cmFwcGVkIG9iamVjdCB0aGF0XG4gIC8vIGNhbiBiZSB1c2VkIE9PLXN0eWxlLiBUaGlzIHdyYXBwZXIgaG9sZHMgYWx0ZXJlZCB2ZXJzaW9ucyBvZiBhbGwgdGhlXG4gIC8vIHVuZGVyc2NvcmUgZnVuY3Rpb25zLiBXcmFwcGVkIG9iamVjdHMgbWF5IGJlIGNoYWluZWQuXG5cbiAgLy8gSGVscGVyIGZ1bmN0aW9uIHRvIGNvbnRpbnVlIGNoYWluaW5nIGludGVybWVkaWF0ZSByZXN1bHRzLlxuICB2YXIgcmVzdWx0ID0gZnVuY3Rpb24oaW5zdGFuY2UsIG9iaikge1xuICAgIHJldHVybiBpbnN0YW5jZS5fY2hhaW4gPyBfKG9iaikuY2hhaW4oKSA6IG9iajtcbiAgfTtcblxuICAvLyBBZGQgeW91ciBvd24gY3VzdG9tIGZ1bmN0aW9ucyB0byB0aGUgVW5kZXJzY29yZSBvYmplY3QuXG4gIF8ubWl4aW4gPSBmdW5jdGlvbihvYmopIHtcbiAgICBfLmVhY2goXy5mdW5jdGlvbnMob2JqKSwgZnVuY3Rpb24obmFtZSkge1xuICAgICAgdmFyIGZ1bmMgPSBfW25hbWVdID0gb2JqW25hbWVdO1xuICAgICAgXy5wcm90b3R5cGVbbmFtZV0gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbdGhpcy5fd3JhcHBlZF07XG4gICAgICAgIHB1c2guYXBwbHkoYXJncywgYXJndW1lbnRzKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdCh0aGlzLCBmdW5jLmFwcGx5KF8sIGFyZ3MpKTtcbiAgICAgIH07XG4gICAgfSk7XG4gIH07XG5cbiAgLy8gQWRkIGFsbCBvZiB0aGUgVW5kZXJzY29yZSBmdW5jdGlvbnMgdG8gdGhlIHdyYXBwZXIgb2JqZWN0LlxuICBfLm1peGluKF8pO1xuXG4gIC8vIEFkZCBhbGwgbXV0YXRvciBBcnJheSBmdW5jdGlvbnMgdG8gdGhlIHdyYXBwZXIuXG4gIF8uZWFjaChbJ3BvcCcsICdwdXNoJywgJ3JldmVyc2UnLCAnc2hpZnQnLCAnc29ydCcsICdzcGxpY2UnLCAndW5zaGlmdCddLCBmdW5jdGlvbihuYW1lKSB7XG4gICAgdmFyIG1ldGhvZCA9IEFycmF5UHJvdG9bbmFtZV07XG4gICAgXy5wcm90b3R5cGVbbmFtZV0gPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBvYmogPSB0aGlzLl93cmFwcGVkO1xuICAgICAgbWV0aG9kLmFwcGx5KG9iaiwgYXJndW1lbnRzKTtcbiAgICAgIGlmICgobmFtZSA9PT0gJ3NoaWZ0JyB8fCBuYW1lID09PSAnc3BsaWNlJykgJiYgb2JqLmxlbmd0aCA9PT0gMCkgZGVsZXRlIG9ialswXTtcbiAgICAgIHJldHVybiByZXN1bHQodGhpcywgb2JqKTtcbiAgICB9O1xuICB9KTtcblxuICAvLyBBZGQgYWxsIGFjY2Vzc29yIEFycmF5IGZ1bmN0aW9ucyB0byB0aGUgd3JhcHBlci5cbiAgXy5lYWNoKFsnY29uY2F0JywgJ2pvaW4nLCAnc2xpY2UnXSwgZnVuY3Rpb24obmFtZSkge1xuICAgIHZhciBtZXRob2QgPSBBcnJheVByb3RvW25hbWVdO1xuICAgIF8ucHJvdG90eXBlW25hbWVdID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gcmVzdWx0KHRoaXMsIG1ldGhvZC5hcHBseSh0aGlzLl93cmFwcGVkLCBhcmd1bWVudHMpKTtcbiAgICB9O1xuICB9KTtcblxuICAvLyBFeHRyYWN0cyB0aGUgcmVzdWx0IGZyb20gYSB3cmFwcGVkIGFuZCBjaGFpbmVkIG9iamVjdC5cbiAgXy5wcm90b3R5cGUudmFsdWUgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5fd3JhcHBlZDtcbiAgfTtcblxuICAvLyBQcm92aWRlIHVud3JhcHBpbmcgcHJveHkgZm9yIHNvbWUgbWV0aG9kcyB1c2VkIGluIGVuZ2luZSBvcGVyYXRpb25zXG4gIC8vIHN1Y2ggYXMgYXJpdGhtZXRpYyBhbmQgSlNPTiBzdHJpbmdpZmljYXRpb24uXG4gIF8ucHJvdG90eXBlLnZhbHVlT2YgPSBfLnByb3RvdHlwZS50b0pTT04gPSBfLnByb3RvdHlwZS52YWx1ZTtcblxuICBfLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiAnJyArIHRoaXMuX3dyYXBwZWQ7XG4gIH07XG5cbiAgLy8gQU1EIHJlZ2lzdHJhdGlvbiBoYXBwZW5zIGF0IHRoZSBlbmQgZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBBTUQgbG9hZGVyc1xuICAvLyB0aGF0IG1heSBub3QgZW5mb3JjZSBuZXh0LXR1cm4gc2VtYW50aWNzIG9uIG1vZHVsZXMuIEV2ZW4gdGhvdWdoIGdlbmVyYWxcbiAgLy8gcHJhY3RpY2UgZm9yIEFNRCByZWdpc3RyYXRpb24gaXMgdG8gYmUgYW5vbnltb3VzLCB1bmRlcnNjb3JlIHJlZ2lzdGVyc1xuICAvLyBhcyBhIG5hbWVkIG1vZHVsZSBiZWNhdXNlLCBsaWtlIGpRdWVyeSwgaXQgaXMgYSBiYXNlIGxpYnJhcnkgdGhhdCBpc1xuICAvLyBwb3B1bGFyIGVub3VnaCB0byBiZSBidW5kbGVkIGluIGEgdGhpcmQgcGFydHkgbGliLCBidXQgbm90IGJlIHBhcnQgb2ZcbiAgLy8gYW4gQU1EIGxvYWQgcmVxdWVzdC4gVGhvc2UgY2FzZXMgY291bGQgZ2VuZXJhdGUgYW4gZXJyb3Igd2hlbiBhblxuICAvLyBhbm9ueW1vdXMgZGVmaW5lKCkgaXMgY2FsbGVkIG91dHNpZGUgb2YgYSBsb2FkZXIgcmVxdWVzdC5cbiAgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xuICAgIGRlZmluZSgndW5kZXJzY29yZScsIFtdLCBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBfO1xuICAgIH0pO1xuICB9XG59LmNhbGwodGhpcykpO1xuXG4vKiBleHBvcnRlZCBXSURHRVRfQ09NTU9OX0NPTkZJRyAqL1xudmFyIFdJREdFVF9DT01NT05fQ09ORklHID0ge1xuICBBVVRIX1BBVEhfVVJMOiBcInYxL3dpZGdldC9hdXRoXCIsXG4gIExPR0dFUl9DTElFTlRfSUQ6IFwiMTA4ODUyNzE0NzEwOS02cTFvMnZ0aWhuMzQyOTJwanQ0Y2tobWhjazByazBvNy5hcHBzLmdvb2dsZXVzZXJjb250ZW50LmNvbVwiLFxuICBMT0dHRVJfQ0xJRU5UX1NFQ1JFVDogXCJubFp5cmNQTGc2b0V3TzlmOVdmbjI5V2hcIixcbiAgTE9HR0VSX1JFRlJFU0hfVE9LRU46IFwiMS94enQ0a3d6RTFIN1c5Vm5LQjhjQWFDeDZ6YjRFczRuS0VvcWFZSGRURDE1SWdPckpEdGR1bjZ6SzZYaUFUQ0tUXCIsXG4gIFNUT1JFX1VSTDogXCJodHRwczovL3N0b3JlLWRvdC1ydmFzZXJ2ZXIyLmFwcHNwb3QuY29tL1wiXG59O1xuLyogZ2xvYmFsIFdJREdFVF9DT01NT05fQ09ORklHICovXG5cbnZhciBSaXNlVmlzaW9uID0gUmlzZVZpc2lvbiB8fCB7fTtcblJpc2VWaXNpb24uQ29tbW9uID0gUmlzZVZpc2lvbi5Db21tb24gfHwge307XG5cblJpc2VWaXNpb24uQ29tbW9uLkxvZ2dlclV0aWxzID0gKGZ1bmN0aW9uKCkge1xuICBcInVzZSBzdHJpY3RcIjtcblxuICAgdmFyIGRpc3BsYXlJZCA9IFwiXCIsXG4gICAgIGNvbXBhbnlJZCA9IFwiXCIsXG4gICAgIHZlcnNpb24gPSBudWxsO1xuXG4gIC8qXG4gICAqICBQcml2YXRlIE1ldGhvZHNcbiAgICovXG5cbiAgLyogUmV0cmlldmUgcGFyYW1ldGVycyB0byBwYXNzIHRvIHRoZSBldmVudCBsb2dnZXIuICovXG4gIGZ1bmN0aW9uIGdldEV2ZW50UGFyYW1zKHBhcmFtcywgY2IpIHtcbiAgICB2YXIganNvbiA9IG51bGw7XG5cbiAgICAvLyBldmVudCBpcyByZXF1aXJlZC5cbiAgICBpZiAocGFyYW1zLmV2ZW50KSB7XG4gICAgICBqc29uID0gcGFyYW1zO1xuXG4gICAgICBpZiAoanNvbi5maWxlX3VybCkge1xuICAgICAgICBqc29uLmZpbGVfZm9ybWF0ID0gZ2V0RmlsZUZvcm1hdChqc29uLmZpbGVfdXJsKTtcbiAgICAgIH1cblxuICAgICAganNvbi5jb21wYW55X2lkID0gY29tcGFueUlkO1xuICAgICAganNvbi5kaXNwbGF5X2lkID0gZGlzcGxheUlkO1xuXG4gICAgICBpZiAodmVyc2lvbikge1xuICAgICAgICBqc29uLnZlcnNpb24gPSB2ZXJzaW9uO1xuICAgICAgfVxuXG4gICAgICBjYihqc29uKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBjYihqc29uKTtcbiAgICB9XG4gIH1cblxuICAvLyBHZXQgc3VmZml4IGZvciBCUSB0YWJsZSBuYW1lLlxuICBmdW5jdGlvbiBnZXRTdWZmaXgoKSB7XG4gICAgdmFyIGRhdGUgPSBuZXcgRGF0ZSgpLFxuICAgICAgeWVhciA9IGRhdGUuZ2V0VVRDRnVsbFllYXIoKSxcbiAgICAgIG1vbnRoID0gZGF0ZS5nZXRVVENNb250aCgpICsgMSxcbiAgICAgIGRheSA9IGRhdGUuZ2V0VVRDRGF0ZSgpO1xuXG4gICAgaWYgKG1vbnRoIDwgMTApIHtcbiAgICAgIG1vbnRoID0gXCIwXCIgKyBtb250aDtcbiAgICB9XG5cbiAgICBpZiAoZGF5IDwgMTApIHtcbiAgICAgIGRheSA9IFwiMFwiICsgZGF5O1xuICAgIH1cblxuICAgIHJldHVybiBcIlwiICsgeWVhciArIG1vbnRoICsgZGF5O1xuICB9XG5cbiAgLypcbiAgICogIFB1YmxpYyBNZXRob2RzXG4gICAqL1xuICBmdW5jdGlvbiBnZXRGaWxlRm9ybWF0KHVybCkge1xuICAgIHZhciBoYXNQYXJhbXMgPSAvWz8jJl0vLFxuICAgICAgc3RyO1xuXG4gICAgaWYgKCF1cmwgfHwgdHlwZW9mIHVybCAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgc3RyID0gdXJsLnN1YnN0cih1cmwubGFzdEluZGV4T2YoXCIuXCIpICsgMSk7XG5cbiAgICAvLyBkb24ndCBpbmNsdWRlIGFueSBwYXJhbXMgYWZ0ZXIgdGhlIGZpbGVuYW1lXG4gICAgaWYgKGhhc1BhcmFtcy50ZXN0KHN0cikpIHtcbiAgICAgIHN0ciA9IHN0ci5zdWJzdHIoMCAsKHN0ci5pbmRleE9mKFwiP1wiKSAhPT0gLTEpID8gc3RyLmluZGV4T2YoXCI/XCIpIDogc3RyLmxlbmd0aCk7XG5cbiAgICAgIHN0ciA9IHN0ci5zdWJzdHIoMCwgKHN0ci5pbmRleE9mKFwiI1wiKSAhPT0gLTEpID8gc3RyLmluZGV4T2YoXCIjXCIpIDogc3RyLmxlbmd0aCk7XG5cbiAgICAgIHN0ciA9IHN0ci5zdWJzdHIoMCwgKHN0ci5pbmRleE9mKFwiJlwiKSAhPT0gLTEpID8gc3RyLmluZGV4T2YoXCImXCIpIDogc3RyLmxlbmd0aCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHN0ci50b0xvd2VyQ2FzZSgpO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0SW5zZXJ0RGF0YShwYXJhbXMpIHtcbiAgICB2YXIgQkFTRV9JTlNFUlRfU0NIRU1BID0ge1xuICAgICAgXCJraW5kXCI6IFwiYmlncXVlcnkjdGFibGVEYXRhSW5zZXJ0QWxsUmVxdWVzdFwiLFxuICAgICAgXCJza2lwSW52YWxpZFJvd3NcIjogZmFsc2UsXG4gICAgICBcImlnbm9yZVVua25vd25WYWx1ZXNcIjogZmFsc2UsXG4gICAgICBcInRlbXBsYXRlU3VmZml4XCI6IGdldFN1ZmZpeCgpLFxuICAgICAgXCJyb3dzXCI6IFt7XG4gICAgICAgIFwiaW5zZXJ0SWRcIjogXCJcIlxuICAgICAgfV1cbiAgICB9LFxuICAgIGRhdGEgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KEJBU0VfSU5TRVJUX1NDSEVNQSkpO1xuXG4gICAgZGF0YS5yb3dzWzBdLmluc2VydElkID0gTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyKDIpLnRvVXBwZXJDYXNlKCk7XG4gICAgZGF0YS5yb3dzWzBdLmpzb24gPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHBhcmFtcykpO1xuICAgIGRhdGEucm93c1swXS5qc29uLnRzID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpO1xuXG4gICAgcmV0dXJuIGRhdGE7XG4gIH1cblxuICBmdW5jdGlvbiBsb2dFdmVudCh0YWJsZSwgcGFyYW1zKSB7XG4gICAgZ2V0RXZlbnRQYXJhbXMocGFyYW1zLCBmdW5jdGlvbihqc29uKSB7XG4gICAgICBpZiAoanNvbiAhPT0gbnVsbCkge1xuICAgICAgICBSaXNlVmlzaW9uLkNvbW1vbi5Mb2dnZXIubG9nKHRhYmxlLCBqc29uKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8qIFNldCB0aGUgQ29tcGFueSBhbmQgRGlzcGxheSBJRHMuICovXG4gIGZ1bmN0aW9uIHNldElkcyhjb21wYW55LCBkaXNwbGF5KSB7XG4gICAgY29tcGFueUlkID0gY29tcGFueTtcbiAgICBkaXNwbGF5SWQgPSBkaXNwbGF5O1xuICB9XG5cbiAgZnVuY3Rpb24gc2V0VmVyc2lvbih2YWx1ZSkge1xuICAgIHZlcnNpb24gPSB2YWx1ZTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgXCJnZXRJbnNlcnREYXRhXCI6IGdldEluc2VydERhdGEsXG4gICAgXCJnZXRGaWxlRm9ybWF0XCI6IGdldEZpbGVGb3JtYXQsXG4gICAgXCJsb2dFdmVudFwiOiBsb2dFdmVudCxcbiAgICBcInNldElkc1wiOiBzZXRJZHMsXG4gICAgXCJzZXRWZXJzaW9uXCI6IHNldFZlcnNpb25cbiAgfTtcbn0pKCk7XG5cblJpc2VWaXNpb24uQ29tbW9uLkxvZ2dlciA9IChmdW5jdGlvbih1dGlscykge1xuICBcInVzZSBzdHJpY3RcIjtcblxuICB2YXIgUkVGUkVTSF9VUkwgPSBcImh0dHBzOi8vd3d3Lmdvb2dsZWFwaXMuY29tL29hdXRoMi92My90b2tlbj9jbGllbnRfaWQ9XCIgKyBXSURHRVRfQ09NTU9OX0NPTkZJRy5MT0dHRVJfQ0xJRU5UX0lEICtcbiAgICAgIFwiJmNsaWVudF9zZWNyZXQ9XCIgKyBXSURHRVRfQ09NTU9OX0NPTkZJRy5MT0dHRVJfQ0xJRU5UX1NFQ1JFVCArXG4gICAgICBcIiZyZWZyZXNoX3Rva2VuPVwiICsgV0lER0VUX0NPTU1PTl9DT05GSUcuTE9HR0VSX1JFRlJFU0hfVE9LRU4gK1xuICAgICAgXCImZ3JhbnRfdHlwZT1yZWZyZXNoX3Rva2VuXCI7XG5cbiAgdmFyIHNlcnZpY2VVcmwgPSBcImh0dHBzOi8vd3d3Lmdvb2dsZWFwaXMuY29tL2JpZ3F1ZXJ5L3YyL3Byb2plY3RzL2NsaWVudC1zaWRlLWV2ZW50cy9kYXRhc2V0cy9XaWRnZXRfRXZlbnRzL3RhYmxlcy9UQUJMRV9JRC9pbnNlcnRBbGxcIixcbiAgICB0aHJvdHRsZSA9IGZhbHNlLFxuICAgIHRocm90dGxlRGVsYXkgPSAxMDAwLFxuICAgIGxhc3RFdmVudCA9IFwiXCIsXG4gICAgcmVmcmVzaERhdGUgPSAwLFxuICAgIHRva2VuID0gXCJcIjtcblxuICAvKlxuICAgKiAgUHJpdmF0ZSBNZXRob2RzXG4gICAqL1xuICBmdW5jdGlvbiByZWZyZXNoVG9rZW4oY2IpIHtcbiAgICB2YXIgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG5cbiAgICBpZiAobmV3IERhdGUoKSAtIHJlZnJlc2hEYXRlIDwgMzU4MDAwMCkge1xuICAgICAgcmV0dXJuIGNiKHt9KTtcbiAgICB9XG5cbiAgICB4aHIub3BlbihcIlBPU1RcIiwgUkVGUkVTSF9VUkwsIHRydWUpO1xuICAgIHhoci5vbmxvYWRlbmQgPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciByZXNwID0gSlNPTi5wYXJzZSh4aHIucmVzcG9uc2UpO1xuXG4gICAgICBjYih7IHRva2VuOiByZXNwLmFjY2Vzc190b2tlbiwgcmVmcmVzaGVkQXQ6IG5ldyBEYXRlKCkgfSk7XG4gICAgfTtcblxuICAgIHhoci5zZW5kKCk7XG4gIH1cblxuICBmdW5jdGlvbiBpc1Rocm90dGxlZChldmVudCkge1xuICAgIHJldHVybiB0aHJvdHRsZSAmJiAobGFzdEV2ZW50ID09PSBldmVudCk7XG4gIH1cblxuICAvKlxuICAgKiAgUHVibGljIE1ldGhvZHNcbiAgICovXG4gIGZ1bmN0aW9uIGxvZyh0YWJsZU5hbWUsIHBhcmFtcykge1xuICAgIGlmICghdGFibGVOYW1lIHx8ICFwYXJhbXMgfHwgKHBhcmFtcy5oYXNPd25Qcm9wZXJ0eShcImV2ZW50XCIpICYmICFwYXJhbXMuZXZlbnQpIHx8XG4gICAgICAocGFyYW1zLmhhc093blByb3BlcnR5KFwiZXZlbnRcIikgJiYgaXNUaHJvdHRsZWQocGFyYW1zLmV2ZW50KSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aHJvdHRsZSA9IHRydWU7XG4gICAgbGFzdEV2ZW50ID0gcGFyYW1zLmV2ZW50O1xuXG4gICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICB0aHJvdHRsZSA9IGZhbHNlO1xuICAgIH0sIHRocm90dGxlRGVsYXkpO1xuXG4gICAgZnVuY3Rpb24gaW5zZXJ0V2l0aFRva2VuKHJlZnJlc2hEYXRhKSB7XG4gICAgICB2YXIgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCksXG4gICAgICAgIGluc2VydERhdGEsIHVybDtcblxuICAgICAgdXJsID0gc2VydmljZVVybC5yZXBsYWNlKFwiVEFCTEVfSURcIiwgdGFibGVOYW1lKTtcbiAgICAgIHJlZnJlc2hEYXRlID0gcmVmcmVzaERhdGEucmVmcmVzaGVkQXQgfHwgcmVmcmVzaERhdGU7XG4gICAgICB0b2tlbiA9IHJlZnJlc2hEYXRhLnRva2VuIHx8IHRva2VuO1xuICAgICAgaW5zZXJ0RGF0YSA9IHV0aWxzLmdldEluc2VydERhdGEocGFyYW1zKTtcblxuICAgICAgLy8gSW5zZXJ0IHRoZSBkYXRhLlxuICAgICAgeGhyLm9wZW4oXCJQT1NUXCIsIHVybCwgdHJ1ZSk7XG4gICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcihcIkNvbnRlbnQtVHlwZVwiLCBcImFwcGxpY2F0aW9uL2pzb25cIik7XG4gICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcihcIkF1dGhvcml6YXRpb25cIiwgXCJCZWFyZXIgXCIgKyB0b2tlbik7XG5cbiAgICAgIGlmIChwYXJhbXMuY2IgJiYgdHlwZW9mIHBhcmFtcy5jYiA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIHhoci5vbmxvYWRlbmQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICBwYXJhbXMuY2IoeGhyLnJlc3BvbnNlKTtcbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgeGhyLnNlbmQoSlNPTi5zdHJpbmdpZnkoaW5zZXJ0RGF0YSkpO1xuICAgIH1cblxuICAgIHJldHVybiByZWZyZXNoVG9rZW4oaW5zZXJ0V2l0aFRva2VuKTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgXCJsb2dcIjogbG9nXG4gIH07XG59KShSaXNlVmlzaW9uLkNvbW1vbi5Mb2dnZXJVdGlscyk7XG52YXIgUmlzZVZpc2lvbiA9IFJpc2VWaXNpb24gfHwge307XG5SaXNlVmlzaW9uLkNvbW1vbiA9IFJpc2VWaXNpb24uQ29tbW9uIHx8IHt9O1xuXG5SaXNlVmlzaW9uLkNvbW1vbi5SaXNlQ2FjaGUgPSAoZnVuY3Rpb24gKCkge1xuICBcInVzZSBzdHJpY3RcIjtcblxuICB2YXIgQkFTRV9DQUNIRV9VUkwgPSBcIi8vbG9jYWxob3N0Ojk0OTQvXCI7XG5cbiAgdmFyIF9waW5nUmVjZWl2ZWQgPSBmYWxzZSxcbiAgICBfaXNDYWNoZVJ1bm5pbmcgPSBmYWxzZSxcbiAgICBfaXNWMlJ1bm5pbmcgPSBmYWxzZTtcblxuICBmdW5jdGlvbiBwaW5nKGNhbGxiYWNrKSB7XG4gICAgdmFyIHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKSxcbiAgICAgIC8qIGpzaGludCB2YWxpZHRoaXM6IHRydWUgKi9cbiAgICAgIHNlbGYgPSB0aGlzO1xuXG4gICAgaWYgKCFjYWxsYmFjayB8fCB0eXBlb2YgY2FsbGJhY2sgIT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICghX2lzVjJSdW5uaW5nKSB7XG4gICAgICByLm9wZW4oXCJHRVRcIiwgQkFTRV9DQUNIRV9VUkwgKyBcInBpbmc/Y2FsbGJhY2s9X1wiLCB0cnVlKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICByLm9wZW4oXCJHRVRcIiwgQkFTRV9DQUNIRV9VUkwsIHRydWUpO1xuICAgIH1cblxuICAgIHIub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgaWYgKHIucmVhZHlTdGF0ZSA9PT0gNCApIHtcbiAgICAgICAgICAvLyBzYXZlIHRoaXMgcmVzdWx0IGZvciB1c2UgaW4gZ2V0RmlsZSgpXG4gICAgICAgICAgX3BpbmdSZWNlaXZlZCA9IHRydWU7XG5cbiAgICAgICAgICBpZihyLnN0YXR1cyA9PT0gMjAwKSB7XG4gICAgICAgICAgICBfaXNDYWNoZVJ1bm5pbmcgPSB0cnVlO1xuXG4gICAgICAgICAgICBjYWxsYmFjayh0cnVlLCByLnJlc3BvbnNlVGV4dCk7XG4gICAgICAgICAgfSBlbHNlIGlmIChyLnN0YXR1cyA9PT0gNDA0KSB7XG4gICAgICAgICAgICAvLyBSaXNlIENhY2hlIFYyIGlzIHJ1bm5pbmdcbiAgICAgICAgICAgIF9pc1YyUnVubmluZyA9IHRydWU7XG5cbiAgICAgICAgICAgIC8vIGNhbGwgcGluZyBhZ2FpbiBzbyBjb3JyZWN0IHBpbmcgVVJMIGlzIHVzZWQgZm9yIFJpc2UgQ2FjaGUgVjJcbiAgICAgICAgICAgIHJldHVybiBzZWxmLnBpbmcoY2FsbGJhY2spO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLmRlYnVnKFwiUmlzZSBDYWNoZSBpcyBub3QgcnVubmluZ1wiKTtcbiAgICAgICAgICAgIF9pc0NhY2hlUnVubmluZyA9IGZhbHNlO1xuXG4gICAgICAgICAgICBjYWxsYmFjayhmYWxzZSwgbnVsbCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBjYXRjaCAoZSkge1xuICAgICAgICBjb25zb2xlLmRlYnVnKFwiQ2F1Z2h0IGV4Y2VwdGlvbjogXCIsIGUuZGVzY3JpcHRpb24pO1xuICAgICAgfVxuXG4gICAgfTtcbiAgICByLnNlbmQoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldEZpbGUoZmlsZVVybCwgY2FsbGJhY2ssIG5vY2FjaGVidXN0ZXIpIHtcbiAgICBpZiAoIWZpbGVVcmwgfHwgIWNhbGxiYWNrIHx8IHR5cGVvZiBjYWxsYmFjayAhPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIHRvdGFsQ2FjaGVSZXF1ZXN0cyA9IDA7XG5cbiAgICBmdW5jdGlvbiBmaWxlUmVxdWVzdCgpIHtcbiAgICAgIHZhciB1cmwsIHN0ciwgc2VwYXJhdG9yO1xuXG4gICAgICBpZiAoX2lzQ2FjaGVSdW5uaW5nKSB7XG4gICAgICAgIGlmIChfaXNWMlJ1bm5pbmcpIHtcbiAgICAgICAgICB1cmwgPSBCQVNFX0NBQ0hFX1VSTCArIFwiZmlsZXM/dXJsPVwiICsgZW5jb2RlVVJJQ29tcG9uZW50KGZpbGVVcmwpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIGNvbmZpZ3VyZSB1cmwgd2l0aCBjYWNoZWJ1c3RlciBvciBub3RcbiAgICAgICAgICB1cmwgPSAobm9jYWNoZWJ1c3RlcikgPyBCQVNFX0NBQ0hFX1VSTCArIFwiP3VybD1cIiArIGVuY29kZVVSSUNvbXBvbmVudChmaWxlVXJsKSA6XG4gICAgICAgICAgQkFTRV9DQUNIRV9VUkwgKyBcImNiPVwiICsgbmV3IERhdGUoKS5nZXRUaW1lKCkgKyBcIj91cmw9XCIgKyBlbmNvZGVVUklDb21wb25lbnQoZmlsZVVybCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChub2NhY2hlYnVzdGVyKSB7XG4gICAgICAgICAgdXJsID0gZmlsZVVybDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzdHIgPSBmaWxlVXJsLnNwbGl0KFwiP1wiKTtcbiAgICAgICAgICBzZXBhcmF0b3IgPSAoc3RyLmxlbmd0aCA9PT0gMSkgPyBcIj9cIiA6IFwiJlwiO1xuICAgICAgICAgIHVybCA9IGZpbGVVcmwgKyBzZXBhcmF0b3IgKyBcImNiPVwiICsgbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgbWFrZVJlcXVlc3QoXCJIRUFEXCIsIHVybCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbWFrZVJlcXVlc3QobWV0aG9kLCB1cmwpIHtcbiAgICAgIHZhciB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKSxcbiAgICAgICAgcmVxdWVzdCA9IHtcbiAgICAgICAgICB4aHI6IHhocixcbiAgICAgICAgICB1cmw6IHVybFxuICAgICAgICB9O1xuXG4gICAgICBpZiAoX2lzQ2FjaGVSdW5uaW5nKSB7XG4gICAgICAgIHhoci5vcGVuKG1ldGhvZCwgdXJsLCB0cnVlKTtcblxuICAgICAgICB4aHIuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRlbmRcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHZhciBzdGF0dXMgPSB4aHIuc3RhdHVzIHx8IDA7XG4gICAgICAgICAgaWYgKHN0YXR1cyA9PT0gMjAyKSB7XG4gICAgICAgICAgICAgIHRvdGFsQ2FjaGVSZXF1ZXN0cysrO1xuICAgICAgICAgICAgICBpZiAodG90YWxDYWNoZVJlcXVlc3RzIDwgMykge1xuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXsgbWFrZVJlcXVlc3QobWV0aG9kLCB1cmwpOyB9LCAzMDAwKTsgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKHJlcXVlc3QsIG5ldyBFcnJvcihcIkZpbGUgaXMgZG93bmxvYWRpbmdcIikpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIGlmIChzdGF0dXMgPj0gMjAwICYmIHN0YXR1cyA8IDMwMCkge1xuICAgICAgICAgICAgY2FsbGJhY2socmVxdWVzdCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIFNlcnZlciBtYXkgbm90IHN1cHBvcnQgSEVBRCByZXF1ZXN0LiBGYWxsYmFjayB0byBhIEdFVCByZXF1ZXN0LlxuICAgICAgICAgICAgaWYgKG1ldGhvZCA9PT0gXCJIRUFEXCIpIHtcbiAgICAgICAgICAgICAgbWFrZVJlcXVlc3QoXCJHRVRcIiwgdXJsKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGNhbGxiYWNrKHJlcXVlc3QsIG5ldyBFcnJvcihcIlRoZSByZXF1ZXN0IGZhaWxlZCB3aXRoIHN0YXR1cyBjb2RlOiBcIiArIHN0YXR1cykpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgeGhyLnNlbmQoKTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICAvLyBSaXNlIENhY2hlIGlzIG5vdCBydW5uaW5nIChwcmV2aWV3KSwgc2tpcCBIRUFEIHJlcXVlc3QgYW5kIGV4ZWN1dGUgY2FsbGJhY2sgaW1tZWRpYXRlbHlcbiAgICAgICAgY2FsbGJhY2socmVxdWVzdCk7XG4gICAgICB9XG5cbiAgICB9XG5cbiAgICBpZiAoIV9waW5nUmVjZWl2ZWQpIHtcbiAgICAgIC8qIGpzaGludCB2YWxpZHRoaXM6IHRydWUgKi9cbiAgICAgIHJldHVybiB0aGlzLnBpbmcoZmlsZVJlcXVlc3QpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZmlsZVJlcXVlc3QoKTtcbiAgICB9XG5cbiAgfVxuXG4gIGZ1bmN0aW9uIGdldEVycm9yTWVzc2FnZShzdGF0dXNDb2RlKSB7XG4gICAgdmFyIGVycm9yTWVzc2FnZSA9IFwiXCI7XG4gICAgc3dpdGNoIChzdGF0dXNDb2RlKSB7XG4gICAgICBjYXNlIDUwMjpcbiAgICAgICAgZXJyb3JNZXNzYWdlID0gXCJUaGVyZSB3YXMgYSBwcm9ibGVtIHJldHJpZXZpbmcgdGhlIGZpbGUuXCI7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSA1MDQ6XG4gICAgICAgIGVycm9yTWVzc2FnZSA9IFwiVW5hYmxlIHRvIGRvd25sb2FkIHRoZSBmaWxlLiBUaGUgc2VydmVyIGlzIG5vdCByZXNwb25kaW5nLlwiO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgNTA3OlxuICAgICAgICBlcnJvck1lc3NhZ2UgPSBcIlRoZXJlIGlzIG5vdCBlbm91Z2ggZGlzayBzcGFjZSB0byBzYXZlIHRoZSBmaWxlIG9uIFJpc2UgQ2FjaGUuXCI7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSA1MzQ6XG4gICAgICAgIGVycm9yTWVzc2FnZSA9IFwiVGhlIGZpbGUgZG9lcyBub3QgZXhpc3Qgb3IgY2Fubm90IGJlIGFjY2Vzc2VkLlwiO1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGVycm9yTWVzc2FnZSA9IFwiXCI7XG4gICAgfVxuXG4gICAgcmV0dXJuIGVycm9yTWVzc2FnZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGlzUmlzZUNhY2hlUnVubmluZyhjYWxsYmFjaykge1xuICAgIGlmICghY2FsbGJhY2sgfHwgdHlwZW9mIGNhbGxiYWNrICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoIV9waW5nUmVjZWl2ZWQpIHtcbiAgICAgIC8qIGpzaGludCB2YWxpZHRoaXM6IHRydWUgKi9cbiAgICAgIHJldHVybiB0aGlzLnBpbmcoZnVuY3Rpb24gKCkge1xuICAgICAgICBjYWxsYmFjayhfaXNDYWNoZVJ1bm5pbmcpO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNhbGxiYWNrKF9pc0NhY2hlUnVubmluZyk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gaXNWMlJ1bm5pbmcoY2FsbGJhY2spIHtcbiAgICBpZiAoIWNhbGxiYWNrIHx8IHR5cGVvZiBjYWxsYmFjayAhPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKCFfcGluZ1JlY2VpdmVkKSB7XG4gICAgICAvKiBqc2hpbnQgdmFsaWR0aGlzOiB0cnVlICovXG4gICAgICByZXR1cm4gdGhpcy5waW5nKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY2FsbGJhY2soX2lzVjJSdW5uaW5nKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIGNhbGxiYWNrKF9pc1YyUnVubmluZyk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBnZXRFcnJvck1lc3NhZ2U6IGdldEVycm9yTWVzc2FnZSxcbiAgICBnZXRGaWxlOiBnZXRGaWxlLFxuICAgIGlzUmlzZUNhY2hlUnVubmluZzogaXNSaXNlQ2FjaGVSdW5uaW5nLFxuICAgIGlzVjJSdW5uaW5nOiBpc1YyUnVubmluZyxcbiAgICBwaW5nOiBwaW5nXG4gIH07XG5cbn0pKCk7XG5cbi8qIGdsb2JhbCBXZWJGb250ICovXG5cbnZhciBSaXNlVmlzaW9uID0gUmlzZVZpc2lvbiB8fCB7fTtcblxuUmlzZVZpc2lvbi5Db21tb24gPSBSaXNlVmlzaW9uLkNvbW1vbiB8fCB7fTtcblxuUmlzZVZpc2lvbi5Db21tb24uVXRpbGl0aWVzID0gKGZ1bmN0aW9uKCkge1xuXG4gIGZ1bmN0aW9uIGdldEZvbnRDc3NTdHlsZShjbGFzc05hbWUsIGZvbnRPYmopIHtcbiAgICB2YXIgZmFtaWx5ID0gXCJmb250LWZhbWlseTogXCIgKyBkZWNvZGVVUklDb21wb25lbnQoZm9udE9iai5mb250LmZhbWlseSkucmVwbGFjZSgvJy9nLCBcIlwiKSArIFwiOyBcIjtcbiAgICB2YXIgY29sb3IgPSBcImNvbG9yOiBcIiArIChmb250T2JqLmNvbG9yID8gZm9udE9iai5jb2xvciA6IGZvbnRPYmouZm9yZWNvbG9yKSArIFwiOyBcIjtcbiAgICB2YXIgc2l6ZSA9IFwiZm9udC1zaXplOiBcIiArIChmb250T2JqLnNpemUuaW5kZXhPZihcInB4XCIpID09PSAtMSA/IGZvbnRPYmouc2l6ZSArIFwicHg7IFwiIDogZm9udE9iai5zaXplICsgXCI7IFwiKTtcbiAgICB2YXIgd2VpZ2h0ID0gXCJmb250LXdlaWdodDogXCIgKyAoZm9udE9iai5ib2xkID8gXCJib2xkXCIgOiBcIm5vcm1hbFwiKSArIFwiOyBcIjtcbiAgICB2YXIgaXRhbGljID0gXCJmb250LXN0eWxlOiBcIiArIChmb250T2JqLml0YWxpYyA/IFwiaXRhbGljXCIgOiBcIm5vcm1hbFwiKSArIFwiOyBcIjtcbiAgICB2YXIgdW5kZXJsaW5lID0gXCJ0ZXh0LWRlY29yYXRpb246IFwiICsgKGZvbnRPYmoudW5kZXJsaW5lID8gXCJ1bmRlcmxpbmVcIiA6IFwibm9uZVwiKSArIFwiOyBcIjtcbiAgICB2YXIgaGlnaGxpZ2h0ID0gXCJiYWNrZ3JvdW5kLWNvbG9yOiBcIiArIChmb250T2JqLmhpZ2hsaWdodENvbG9yID8gZm9udE9iai5oaWdobGlnaHRDb2xvciA6IGZvbnRPYmouYmFja2NvbG9yKSArIFwiO1wiO1xuXG4gICAgcmV0dXJuIFwiLlwiICsgY2xhc3NOYW1lICsgXCIge1wiICsgZmFtaWx5ICsgY29sb3IgKyBzaXplICsgd2VpZ2h0ICsgaXRhbGljICsgdW5kZXJsaW5lICsgaGlnaGxpZ2h0ICsgXCJ9XCI7XG4gIH1cblxuICBmdW5jdGlvbiBhZGRDU1NSdWxlcyhydWxlcykge1xuICAgIHZhciBzdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtcblxuICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGggPSBydWxlcy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgc3R5bGUuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUocnVsZXNbaV0pKTtcbiAgICB9XG5cbiAgICBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHN0eWxlKTtcbiAgfVxuXG4gIC8qXG4gICAqIExvYWRzIEdvb2dsZSBvciBjdXN0b20gZm9udHMsIGlmIGFwcGxpY2FibGUsIGFuZCBpbmplY3RzIENTUyBzdHlsZXNcbiAgICogaW50byB0aGUgaGVhZCBvZiB0aGUgZG9jdW1lbnQuXG4gICAqXG4gICAqIEBwYXJhbSAgICBhcnJheSAgICBzZXR0aW5ncyAgICBBcnJheSBvZiBvYmplY3RzIHdpdGggdGhlIGZvbGxvd2luZyBmb3JtOlxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFt7XG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImNsYXNzXCI6IFwiZGF0ZVwiLFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJmb250U2V0dGluZ1wiOiB7XG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9sZDogdHJ1ZSxcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogXCJibGFja1wiLFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvbnQ6IHtcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZhbWlseTogXCJBa3JvbmltXCIsXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb250OiBcIkFrcm9uaW1cIixcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IFwiVmVyZGFuYVwiLFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJnb29nbGVcIixcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybDogXCJodHRwOi8vY3VzdG9tLWZvbnQtdXJsXCJcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhpZ2hsaWdodENvbG9yOiBcInRyYW5zcGFyZW50XCIsXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRhbGljOiBmYWxzZSxcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplOiBcIjIwXCIsXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdW5kZXJsaW5lOiBmYWxzZVxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1dXG4gICAqXG4gICAqICAgICAgICAgICBvYmplY3QgICBjb250ZW50RG9jICAgIERvY3VtZW50IG9iamVjdCBpbnRvIHdoaWNoIHRvIGluamVjdCBzdHlsZXNcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5kIGxvYWQgZm9udHMgKG9wdGlvbmFsKS5cbiAgICovXG4gIGZ1bmN0aW9uIGxvYWRGb250cyhzZXR0aW5ncywgY2IpIHtcbiAgICB2YXIgZmFtaWxpZXMgPSBudWxsLFxuICAgICAgZ29vZ2xlRmFtaWxpZXMgPSBbXSxcbiAgICAgIGN1c3RvbUZhbWlsaWVzID0gW10sXG4gICAgICBjdXN0b21VcmxzID0gW107XG5cbiAgICBmdW5jdGlvbiBjYWxsYmFjaygpIHtcbiAgICAgIGlmIChjYiAmJiB0eXBlb2YgY2IgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICBjYigpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIG9uR29vZ2xlRm9udHNMb2FkZWQoKSB7XG4gICAgICBjYWxsYmFjaygpO1xuICAgIH1cblxuICAgIGlmICghc2V0dGluZ3MgfHwgc2V0dGluZ3MubGVuZ3RoID09PSAwKSB7XG4gICAgICBjYWxsYmFjaygpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIENoZWNrIGZvciBjdXN0b20gY3NzIGNsYXNzIG5hbWVzIGFuZCBhZGQgcnVsZXMgaWYgc29cbiAgICBzZXR0aW5ncy5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgIGlmIChpdGVtLmNsYXNzICYmIGl0ZW0uZm9udFN0eWxlKSB7XG4gICAgICAgIGFkZENTU1J1bGVzKFsgZ2V0Rm9udENzc1N0eWxlKGl0ZW0uY2xhc3MsIGl0ZW0uZm9udFN0eWxlKSBdKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIEdvb2dsZSBmb250c1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2V0dGluZ3MubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChzZXR0aW5nc1tpXS5mb250U3R5bGUgJiYgc2V0dGluZ3NbaV0uZm9udFN0eWxlLmZvbnQudHlwZSAmJlxuICAgICAgICAoc2V0dGluZ3NbaV0uZm9udFN0eWxlLmZvbnQudHlwZSA9PT0gXCJnb29nbGVcIikpIHtcbiAgICAgICAgLy8gUmVtb3ZlIGZhbGxiYWNrIGZvbnQuXG4gICAgICAgIGZhbWlsaWVzID0gc2V0dGluZ3NbaV0uZm9udFN0eWxlLmZvbnQuZmFtaWx5LnNwbGl0KFwiLFwiKVswXTtcblxuICAgICAgICAvLyBzdHJpcCBwb3NzaWJsZSBzaW5nbGUgcXVvdGVzXG4gICAgICAgIGZhbWlsaWVzID0gZmFtaWxpZXMucmVwbGFjZSgvJy9nLCBcIlwiKTtcblxuICAgICAgICBnb29nbGVGYW1pbGllcy5wdXNoKGZhbWlsaWVzKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBDdXN0b20gZm9udHNcbiAgICBmb3IgKGkgPSAwOyBpIDwgc2V0dGluZ3MubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChzZXR0aW5nc1tpXS5mb250U3R5bGUgJiYgc2V0dGluZ3NbaV0uZm9udFN0eWxlLmZvbnQudHlwZSAmJlxuICAgICAgICAoc2V0dGluZ3NbaV0uZm9udFN0eWxlLmZvbnQudHlwZSA9PT0gXCJjdXN0b21cIikpIHtcbiAgICAgICAgLy8gZGVjb2RlIHZhbHVlIGFuZCBzdHJpcCBzaW5nbGUgcXVvdGVzXG4gICAgICAgIGN1c3RvbUZhbWlsaWVzLnB1c2goZGVjb2RlVVJJQ29tcG9uZW50KHNldHRpbmdzW2ldLmZvbnRTdHlsZS5mb250LmZhbWlseSkucmVwbGFjZSgvJy9nLCBcIlwiKSk7XG4gICAgICAgIC8vIHN0cmlwIHNpbmdsZSBxdW90ZXNcbiAgICAgICAgY3VzdG9tVXJscy5wdXNoKHNldHRpbmdzW2ldLmZvbnRTdHlsZS5mb250LnVybC5yZXBsYWNlKC8nL2csIFwiXFxcXCdcIikpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChnb29nbGVGYW1pbGllcy5sZW5ndGggPT09IDAgJiYgY3VzdG9tRmFtaWxpZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICBjYWxsYmFjaygpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIC8vIExvYWQgdGhlIGZvbnRzXG4gICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGN1c3RvbUZhbWlsaWVzLmxlbmd0aDsgaiArPSAxKSB7XG4gICAgICAgIGxvYWRDdXN0b21Gb250KGN1c3RvbUZhbWlsaWVzW2pdLCBjdXN0b21VcmxzW2pdKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGdvb2dsZUZhbWlsaWVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgbG9hZEdvb2dsZUZvbnRzKGdvb2dsZUZhbWlsaWVzLCBvbkdvb2dsZUZvbnRzTG9hZGVkKTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGxvYWRDdXN0b21Gb250KGZhbWlseSwgdXJsLCBjb250ZW50RG9jKSB7XG4gICAgdmFyIHNoZWV0ID0gbnVsbDtcbiAgICB2YXIgcnVsZSA9IFwiZm9udC1mYW1pbHk6IFwiICsgZmFtaWx5ICsgXCI7IFwiICsgXCJzcmM6IHVybCgnXCIgKyB1cmwgKyBcIicpO1wiO1xuXG4gICAgY29udGVudERvYyA9IGNvbnRlbnREb2MgfHwgZG9jdW1lbnQ7XG5cbiAgICBzaGVldCA9IGNvbnRlbnREb2Muc3R5bGVTaGVldHNbMF07XG5cbiAgICBpZiAoc2hlZXQgIT09IG51bGwpIHtcbiAgICAgIHNoZWV0LmFkZFJ1bGUoXCJAZm9udC1mYWNlXCIsIHJ1bGUpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGxvYWRHb29nbGVGb250cyhmYW1pbGllcywgY2IpIHtcbiAgICBXZWJGb250LmxvYWQoe1xuICAgICAgZ29vZ2xlOiB7XG4gICAgICAgIGZhbWlsaWVzOiBmYW1pbGllc1xuICAgICAgfSxcbiAgICAgIGFjdGl2ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmIChjYiAmJiB0eXBlb2YgY2IgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgIGNiKCk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBpbmFjdGl2ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmIChjYiAmJiB0eXBlb2YgY2IgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgIGNiKCk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICB0aW1lb3V0OiAyMDAwXG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBwcmVsb2FkSW1hZ2VzKHVybHMpIHtcbiAgICB2YXIgbGVuZ3RoID0gdXJscy5sZW5ndGgsXG4gICAgICBpbWFnZXMgPSBbXTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIGltYWdlc1tpXSA9IG5ldyBJbWFnZSgpO1xuICAgICAgaW1hZ2VzW2ldLnNyYyA9IHVybHNbaV07XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gZ2V0UXVlcnlQYXJhbWV0ZXIocGFyYW0pIHtcbiAgICB2YXIgcXVlcnkgPSB3aW5kb3cubG9jYXRpb24uc2VhcmNoLnN1YnN0cmluZygxKSxcbiAgICAgIHZhcnMgPSBxdWVyeS5zcGxpdChcIiZcIiksXG4gICAgICBwYWlyO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2YXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBwYWlyID0gdmFyc1tpXS5zcGxpdChcIj1cIik7XG5cbiAgICAgIGlmIChwYWlyWzBdID09IHBhcmFtKSB7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuICAgICAgICByZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KHBhaXJbMV0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBcIlwiO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0UmlzZUNhY2hlRXJyb3JNZXNzYWdlKHN0YXR1c0NvZGUpIHtcbiAgICB2YXIgZXJyb3JNZXNzYWdlID0gXCJcIjtcbiAgICBzd2l0Y2ggKHN0YXR1c0NvZGUpIHtcbiAgICAgIGNhc2UgNDA0OlxuICAgICAgICBlcnJvck1lc3NhZ2UgPSBcIlRoZSBmaWxlIGRvZXMgbm90IGV4aXN0IG9yIGNhbm5vdCBiZSBhY2Nlc3NlZC5cIjtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIDUwNzpcbiAgICAgICAgZXJyb3JNZXNzYWdlID0gXCJUaGVyZSBpcyBub3QgZW5vdWdoIGRpc2sgc3BhY2UgdG8gc2F2ZSB0aGUgZmlsZSBvbiBSaXNlIENhY2hlLlwiO1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGVycm9yTWVzc2FnZSA9IFwiVGhlcmUgd2FzIGEgcHJvYmxlbSByZXRyaWV2aW5nIHRoZSBmaWxlIGZyb20gUmlzZSBDYWNoZS5cIjtcbiAgICB9XG5cbiAgICByZXR1cm4gZXJyb3JNZXNzYWdlO1xuICB9XG5cbiAgZnVuY3Rpb24gdW5lc2NhcGVIVE1MKGh0bWwpIHtcbiAgICB2YXIgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcblxuICAgIGRpdi5pbm5lckhUTUwgPSBodG1sO1xuXG4gICAgcmV0dXJuIGRpdi50ZXh0Q29udGVudDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGhhc0ludGVybmV0Q29ubmVjdGlvbihmaWxlUGF0aCwgY2FsbGJhY2spIHtcbiAgICB2YXIgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG5cbiAgICBpZiAoIWZpbGVQYXRoIHx8ICFjYWxsYmFjayB8fCB0eXBlb2YgY2FsbGJhY2sgIT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHhoci5vcGVuKFwiSEVBRFwiLCBmaWxlUGF0aCArIFwiP2NiPVwiICsgbmV3IERhdGUoKS5nZXRUaW1lKCksIGZhbHNlKTtcblxuICAgIHRyeSB7XG4gICAgICB4aHIuc2VuZCgpO1xuXG4gICAgICBjYWxsYmFjaygoeGhyLnN0YXR1cyA+PSAyMDAgJiYgeGhyLnN0YXR1cyA8IDMwNCkpO1xuXG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgY2FsbGJhY2soZmFsc2UpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVjayBpZiBjaHJvbWUgdmVyc2lvbiBpcyB1bmRlciBhIGNlcnRhaW4gdmVyc2lvblxuICAgKi9cbiAgZnVuY3Rpb24gaXNMZWdhY3koKSB7XG4gICAgdmFyIGxlZ2FjeVZlcnNpb24gPSAyNTtcblxuICAgIHZhciBtYXRjaCA9IG5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL0Nocm9tZVxcLyhcXFMrKS8pO1xuICAgIHZhciB2ZXJzaW9uID0gbWF0Y2ggPyBtYXRjaFsxXSA6IDA7XG5cbiAgICBpZiAodmVyc2lvbikge1xuICAgICAgdmVyc2lvbiA9IHBhcnNlSW50KHZlcnNpb24uc3Vic3RyaW5nKDAsdmVyc2lvbi5pbmRleE9mKFwiLlwiKSkpO1xuXG4gICAgICBpZiAodmVyc2lvbiA8PSBsZWdhY3lWZXJzaW9uKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGRzIGh0dHA6Ly8gb3IgaHR0cHM6Ly8gcHJvdG9jb2wgdG8gdXJsIGlmIHRoZSBwcm90b2NvbCBpcyBtaXNzaW5nXG4gICAqL1xuICBmdW5jdGlvbiBhZGRQcm90b2NvbCh1cmwsIHNlY3VyZSkge1xuICAgIGlmICghL14oPzpmfGh0KXRwcz9cXDpcXC9cXC8vLnRlc3QodXJsKSkge1xuICAgICAgdXJsID0gKChzZWN1cmUpID8gXCJodHRwczovL1wiIDogXCJodHRwOi8vXCIpICsgdXJsO1xuICAgIH1cbiAgICByZXR1cm4gdXJsO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBhZGRQcm90b2NvbDogYWRkUHJvdG9jb2wsXG4gICAgZ2V0UXVlcnlQYXJhbWV0ZXI6IGdldFF1ZXJ5UGFyYW1ldGVyLFxuICAgIGdldEZvbnRDc3NTdHlsZTogIGdldEZvbnRDc3NTdHlsZSxcbiAgICBhZGRDU1NSdWxlczogICAgICBhZGRDU1NSdWxlcyxcbiAgICBsb2FkRm9udHM6ICAgICAgICBsb2FkRm9udHMsXG4gICAgbG9hZEN1c3RvbUZvbnQ6ICAgbG9hZEN1c3RvbUZvbnQsXG4gICAgbG9hZEdvb2dsZUZvbnRzOiAgIGxvYWRHb29nbGVGb250cyxcbiAgICBwcmVsb2FkSW1hZ2VzOiAgICBwcmVsb2FkSW1hZ2VzLFxuICAgIGdldFJpc2VDYWNoZUVycm9yTWVzc2FnZTogZ2V0UmlzZUNhY2hlRXJyb3JNZXNzYWdlLFxuICAgIHVuZXNjYXBlSFRNTDogdW5lc2NhcGVIVE1MLFxuICAgIGhhc0ludGVybmV0Q29ubmVjdGlvbjogaGFzSW50ZXJuZXRDb25uZWN0aW9uLFxuICAgIGlzTGVnYWN5OiBpc0xlZ2FjeVxuICB9O1xufSkoKTtcblxuLyogZXhwb3J0ZWQgY29uZmlnICovXG5pZiAodHlwZW9mIGFuZ3VsYXIgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgYW5ndWxhci5tb2R1bGUoXCJyaXNldmlzaW9uLmNvbW1vbi5pMThuLmNvbmZpZ1wiLCBbXSlcbiAgICAuY29uc3RhbnQoXCJMT0NBTEVTX1BSRUZJWFwiLCBcImxvY2FsZXMvdHJhbnNsYXRpb25fXCIpXG4gICAgLmNvbnN0YW50KFwiTE9DQUxFU19TVUZJWFwiLCBcIi5qc29uXCIpO1xufVxuXG52YXIgY29uZmlnID0ge1xuICBTVE9SQUdFX0VOVjogXCJwcm9kXCIsXG4gIENPTVBPTkVOVFNfUEFUSDogXCJjb21wb25lbnRzL1wiXG59O1xuXG4vKiBnbG9iYWwgZ2FkZ2V0cywgXyAqL1xuXG52YXIgUmlzZVZpc2lvbiA9IFJpc2VWaXNpb24gfHwge307XG5SaXNlVmlzaW9uLkltYWdlID0ge307XG5cblJpc2VWaXNpb24uSW1hZ2UgPSAoZnVuY3Rpb24gKGdhZGdldHMpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgdmFyIF9tb2RlO1xuXG4gIHZhciBfcHJlZnMgPSBuZXcgZ2FkZ2V0cy5QcmVmcygpLFxuICAgIF9tZXNzYWdlID0gbnVsbCxcbiAgICBfcGFyYW1zID0gbnVsbDtcblxuICB2YXIgX3N0b3JhZ2UgPSBudWxsLFxuICAgIF9ub25TdG9yYWdlID0gbnVsbCxcbiAgICBfc2xpZGVyID0gbnVsbDtcblxuICB2YXIgX2N1cnJlbnRGaWxlcyA9IFtdO1xuXG4gIHZhciBfZXJyb3JMb2cgPSBudWxsLFxuICAgIF9jb25maWd1cmF0aW9uVHlwZSA9IG51bGwsXG4gICAgX2Vycm9yVGltZXIgPSBudWxsLFxuICAgIF9lcnJvckZsYWcgPSBmYWxzZSxcbiAgICBfc3RvcmFnZUVycm9yRmxhZyA9IGZhbHNlLFxuICAgIF9jb25maWd1cmF0aW9uTG9nZ2VkID0gZmFsc2UsXG4gICAgX3VuYXZhaWxhYmxlRmxhZyA9IGZhbHNlO1xuXG4gIHZhciBfdmlld2VyUGF1c2VkID0gdHJ1ZTtcblxuICB2YXIgX2ltZyA9IG51bGwsXG4gICAgX2lzR2lmID0gZmFsc2U7XG5cbiAgLypcbiAgICogIFByaXZhdGUgTWV0aG9kc1xuICAgKi9cbiAgZnVuY3Rpb24gX3JlYWR5KCkge1xuICAgIGdhZGdldHMucnBjLmNhbGwoXCJcIiwgXCJyc2V2ZW50X3JlYWR5XCIsIG51bGwsIF9wcmVmcy5nZXRTdHJpbmcoXCJpZFwiKSxcbiAgICAgIHRydWUsIHRydWUsIHRydWUsIHRydWUsIHRydWUpO1xuICB9XG5cbiAgZnVuY3Rpb24gX2RvbmUoKSB7XG4gICAgZ2FkZ2V0cy5ycGMuY2FsbChcIlwiLCBcInJzZXZlbnRfZG9uZVwiLCBudWxsLCBfcHJlZnMuZ2V0U3RyaW5nKFwiaWRcIikpO1xuXG4gICAgLy8gQW55IGVycm9ycyBuZWVkIHRvIGJlIGxvZ2dlZCBiZWZvcmUgdGhlIGRvbmUgZXZlbnQuXG4gICAgaWYgKF9lcnJvckxvZyAhPT0gbnVsbCkge1xuICAgICAgbG9nRXZlbnQoX2Vycm9yTG9nLCB0cnVlKTtcbiAgICB9XG5cbiAgICAvLyBsb2cgXCJkb25lXCIgZXZlbnRcbiAgICBsb2dFdmVudCh7IFwiZXZlbnRcIjogXCJkb25lXCIsIFwiZmlsZV91cmxcIjogX2dldEN1cnJlbnRGaWxlKCkgfSwgZmFsc2UpO1xuICB9XG5cbiAgZnVuY3Rpb24gX2NsZWFyRXJyb3JUaW1lcigpIHtcbiAgICBjbGVhclRpbWVvdXQoX2Vycm9yVGltZXIpO1xuICAgIF9lcnJvclRpbWVyID0gbnVsbDtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9zdGFydEVycm9yVGltZXIoKSB7XG4gICAgX2NsZWFyRXJyb3JUaW1lcigpO1xuXG4gICAgX2Vycm9yVGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgIC8vIG5vdGlmeSBWaWV3ZXIgd2lkZ2V0IGlzIGRvbmVcbiAgICAgIF9kb25lKCk7XG4gICAgfSwgNTAwMCk7XG4gIH1cblxuICBmdW5jdGlvbiBfZ2V0Q3VycmVudEZpbGUoKSB7XG4gICAgdmFyIHNsaWRlTnVtID0gLTE7XG5cbiAgICBpZiAoX2N1cnJlbnRGaWxlcyAmJiBfY3VycmVudEZpbGVzLmxlbmd0aCA+IDApIHtcbiAgICAgIGlmIChfbW9kZSA9PT0gXCJmaWxlXCIpIHtcbiAgICAgICAgcmV0dXJuIF9jdXJyZW50RmlsZXNbMF07XG4gICAgICB9XG4gICAgICBlbHNlIGlmIChfbW9kZSA9PT0gXCJmb2xkZXJcIiAmJiBfc2xpZGVyICYmIF9zbGlkZXIuaXNSZWFkeSgpKSB7XG4gICAgICAgIC8vIHJldHJpZXZlIHRoZSBjdXJyZW50bHkgcGxheWVkIHNsaWRlXG4gICAgICAgIHNsaWRlTnVtID0gX3NsaWRlci5nZXRDdXJyZW50U2xpZGUoKTtcblxuICAgICAgICBpZiAoc2xpZGVOdW0gIT09IC0xKSB7XG4gICAgICAgICAgcmV0dXJuIF9jdXJyZW50RmlsZXNbc2xpZGVOdW1dO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBmdW5jdGlvbiBpbml0KCkge1xuICAgIHZhciBjb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNvbnRhaW5lclwiKSxcbiAgICAgIGZyYWdtZW50ID0gZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLFxuICAgICAgZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLFxuICAgICAgaXNTdG9yYWdlRmlsZTtcblxuICAgIC8vIGNyZWF0ZSBpbnN0YW5jZSBvZiBtZXNzYWdlXG4gICAgX21lc3NhZ2UgPSBuZXcgUmlzZVZpc2lvbi5JbWFnZS5NZXNzYWdlKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY29udGFpbmVyXCIpLFxuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtZXNzYWdlQ29udGFpbmVyXCIpKTtcblxuICAgIC8vIHNob3cgd2FpdCBtZXNzYWdlXG4gICAgX21lc3NhZ2Uuc2hvdyhcIlBsZWFzZSB3YWl0IHdoaWxlIHlvdXIgaW1hZ2UgaXMgZG93bmxvYWRlZC5cIik7XG5cbiAgICAvLyBsZWdhY3lcbiAgICBpZiAoX3BhcmFtcy5iYWNrZ3JvdW5kICYmIE9iamVjdC5rZXlzKF9wYXJhbXMuYmFja2dyb3VuZCkubGVuZ3RoID4gMCkge1xuICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5iYWNrZ3JvdW5kID0gX3BhcmFtcy5iYWNrZ3JvdW5kLmNvbG9yO1xuICAgIH1cblxuICAgIGlmIChfbW9kZSA9PT0gXCJmaWxlXCIpIHtcbiAgICAgIC8vIGNyZWF0ZSB0aGUgaW1hZ2UgPGRpdj4gd2l0aGluIHRoZSBjb250YWluZXIgPGRpdj5cbiAgICAgIGVsID0gX2dldEltYWdlRWxlbWVudCgpO1xuICAgICAgZnJhZ21lbnQuYXBwZW5kQ2hpbGQoZWwpO1xuICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGZyYWdtZW50KTtcblxuICAgICAgX2ltZyA9IG5ldyBJbWFnZSgpO1xuXG4gICAgICBpc1N0b3JhZ2VGaWxlID0gKE9iamVjdC5rZXlzKF9wYXJhbXMuc3RvcmFnZSkubGVuZ3RoICE9PSAwKTtcblxuICAgICAgaWYgKCFpc1N0b3JhZ2VGaWxlKSB7XG4gICAgICAgIF9jb25maWd1cmF0aW9uVHlwZSA9IFwiY3VzdG9tXCI7XG5cbiAgICAgICAgX25vblN0b3JhZ2UgPSBuZXcgUmlzZVZpc2lvbi5JbWFnZS5Ob25TdG9yYWdlKF9wYXJhbXMpO1xuICAgICAgICBfbm9uU3RvcmFnZS5pbml0KCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBfY29uZmlndXJhdGlvblR5cGUgPSBcInN0b3JhZ2UgZmlsZVwiO1xuXG4gICAgICAgIC8vIGNyZWF0ZSBhbmQgaW5pdGlhbGl6ZSB0aGUgU3RvcmFnZSBmaWxlIGluc3RhbmNlXG4gICAgICAgIF9zdG9yYWdlID0gbmV3IFJpc2VWaXNpb24uSW1hZ2UuU3RvcmFnZUZpbGUoX3BhcmFtcyk7XG4gICAgICAgIF9zdG9yYWdlLmluaXQoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZiAoX21vZGUgPT09IFwiZm9sZGVyXCIpIHtcbiAgICAgIC8vIGNyZWF0ZSB0aGUgc2xpZGVyIGNvbnRhaW5lciA8ZGl2PiB3aXRoaW4gdGhlIGNvbnRhaW5lciA8ZGl2PlxuICAgICAgZWwuY2xhc3NOYW1lID0gXCJ0cC1iYW5uZXItY29udGFpbmVyXCI7XG5cbiAgICAgIGZyYWdtZW50LmFwcGVuZENoaWxkKGVsKTtcbiAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChmcmFnbWVudCk7XG5cbiAgICAgIF9jb25maWd1cmF0aW9uVHlwZSA9IFwic3RvcmFnZSBmb2xkZXJcIjtcblxuICAgICAgLy8gY3JlYXRlIGFuZCBpbml0aWFsaXplIHRoZSBTdG9yYWdlIGZvbGRlciBpbnN0YW5jZVxuICAgICAgX3N0b3JhZ2UgPSBuZXcgUmlzZVZpc2lvbi5JbWFnZS5TdG9yYWdlRm9sZGVyKF9wYXJhbXMpO1xuICAgICAgX3N0b3JhZ2UuaW5pdCgpO1xuICAgIH1cblxuICAgIF9yZWFkeSgpO1xuICB9XG5cbiAgZnVuY3Rpb24gX2dldEltYWdlRWxlbWVudCgpIHtcbiAgICB2YXIgZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuXG4gICAgZWwuc2V0QXR0cmlidXRlKFwiaWRcIiwgXCJpbWFnZVwiKTtcbiAgICBlbC5jbGFzc05hbWUgPSBfcGFyYW1zLnBvc2l0aW9uO1xuICAgIGVsLmNsYXNzTmFtZSA9IF9wYXJhbXMuc2NhbGVUb0ZpdCA/IGVsLmNsYXNzTmFtZSArIFwiIHNjYWxlLXRvLWZpdFwiIDogZWwuY2xhc3NOYW1lO1xuXG4gICAgcmV0dXJuIGVsO1xuICB9XG5cbiAgZnVuY3Rpb24gc2V0U2luZ2xlSW1hZ2UodXJsKSB7XG5cbiAgICBfaW1nLm9ubG9hZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGltYWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNjb250YWluZXIgI2ltYWdlXCIpO1xuXG4gICAgICBpbWFnZS5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSBcInVybCgnXCIgKyB1cmwgKyBcIicpXCI7XG4gICAgICBfaXNHaWYgPSB1cmwuaW5kZXhPZihcIi5naWZcIikgPT09IC0xID8gZmFsc2UgOiB0cnVlO1xuXG4gICAgICAvLyBJZiB3aWRnZXQgaXMgcGxheWluZyByaWdodCBub3cgbWFrZSBzdXJlIHRoZSBkaXYgaW1hZ2UgZWxlbWVudCBpcyB2aXNpYmxlXG4gICAgICBpZiAoIV92aWV3ZXJQYXVzZWQgJiYgX2lzR2lmKSB7XG4gICAgICAgIGltYWdlLnN0eWxlLnZpc2liaWxpdHkgPSBcInZpc2libGVcIjtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX2ltZy5vbmVycm9yID0gZnVuY3Rpb24oKSB7XG4gICAgICBsb2dFdmVudCh7XG4gICAgICAgIFwiZXZlbnRcIjogXCJlcnJvclwiLFxuICAgICAgICBcImV2ZW50X2RldGFpbHNcIjogXCJpbWFnZSBsb2FkIGVycm9yXCIsXG4gICAgICAgIFwiZmlsZV91cmxcIjogdXJsXG4gICAgICB9LCB0cnVlKTtcbiAgICB9O1xuXG4gICAgX2ltZy5zcmMgPSB1cmwucmVwbGFjZShcIlxcXFwnXCIsIFwiJ1wiKTsgLy8gaGFuZGxlcyBzcGVjaWFsIGNoYXJhY3RlcnNcbiAgfVxuXG4gIC8qXG4gICAqICBQdWJsaWMgTWV0aG9kc1xuICAgKi9cbiAgZnVuY3Rpb24gaGFzU3RvcmFnZUVycm9yKCkge1xuICAgIHJldHVybiBfc3RvcmFnZUVycm9yRmxhZztcbiAgfVxuXG4gIGZ1bmN0aW9uIGxvZ0V2ZW50KHBhcmFtcywgaXNFcnJvcikge1xuICAgIGlmIChpc0Vycm9yKSB7XG4gICAgICBfZXJyb3JMb2cgPSBwYXJhbXM7XG4gICAgfVxuXG4gICAgUmlzZVZpc2lvbi5Db21tb24uTG9nZ2VyVXRpbHMubG9nRXZlbnQoZ2V0VGFibGVOYW1lKCksIHBhcmFtcyk7XG4gIH1cblxuICBmdW5jdGlvbiBvbkZpbGVJbml0KHVybHMpIHtcbiAgICBpZiAoX21vZGUgPT09IFwiZmlsZVwiKSB7XG4gICAgICAvLyB1cmxzIHZhbHVlIHdpbGwgYmUgYSBzdHJpbmdcbiAgICAgIF9jdXJyZW50RmlsZXNbMF0gPSB1cmxzO1xuXG4gICAgICBfdW5hdmFpbGFibGVGbGFnID0gZmFsc2U7XG5cbiAgICAgIC8vIHJlbW92ZSBhIG1lc3NhZ2UgcHJldmlvdXNseSBzaG93blxuICAgICAgX21lc3NhZ2UuaGlkZSgpO1xuXG4gICAgICBzZXRTaW5nbGVJbWFnZShfY3VycmVudEZpbGVzWzBdKTtcblxuICAgIH0gZWxzZSBpZiAoX21vZGUgPT09IFwiZm9sZGVyXCIpIHtcbiAgICAgIC8vIHVybHMgdmFsdWUgd2lsbCBiZSBhbiBhcnJheVxuICAgICAgX2N1cnJlbnRGaWxlcyA9IHVybHM7XG5cbiAgICAgIC8vIGNyZWF0ZSBzbGlkZXIgaW5zdGFuY2VcbiAgICAgIF9zbGlkZXIgPSBuZXcgUmlzZVZpc2lvbi5JbWFnZS5TbGlkZXIoX3BhcmFtcyk7XG4gICAgICBfc2xpZGVyLmluaXQodXJscyk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gb25GaWxlUmVmcmVzaCh1cmxzKSB7XG4gICAgaWYgKF9tb2RlID09PSBcImZpbGVcIikge1xuICAgICAgLy8gdXJscyB2YWx1ZSB3aWxsIGJlIGEgc3RyaW5nIG9mIG9uZSB1cmxcbiAgICAgIF9jdXJyZW50RmlsZXNbMF0gPSB1cmxzO1xuXG4gICAgICBpZiAoX3VuYXZhaWxhYmxlRmxhZykge1xuICAgICAgICAvLyByZW1vdmUgdGhlIG1lc3NhZ2UgcHJldmlvdXNseSBzaG93blxuICAgICAgICBfbWVzc2FnZS5oaWRlKCk7XG4gICAgICB9XG5cbiAgICAgIHNldFNpbmdsZUltYWdlKF9jdXJyZW50RmlsZXNbMF0pO1xuXG4gICAgfSBlbHNlIGlmIChfbW9kZSA9PT0gXCJmb2xkZXJcIikge1xuICAgICAgLy8gdXJscyB2YWx1ZSB3aWxsIGJlIGFuIGFycmF5IG9mIHVybHNcbiAgICAgIF9jdXJyZW50RmlsZXMgPSB1cmxzO1xuXG4gICAgICBfc2xpZGVyLnJlZnJlc2goX2N1cnJlbnRGaWxlcyk7XG4gICAgfVxuXG4gICAgLy8gaW4gY2FzZSByZWZyZXNoZWQgZmlsZSBmaXhlcyBhbiBlcnJvciB3aXRoIHByZXZpb3VzIGZpbGUsIGVuc3VyZSBmbGFnIGlzIHJlbW92ZWQgc28gcGxheWJhY2sgaXMgYXR0ZW1wdGVkIGFnYWluXG4gICAgX2Vycm9yRmxhZyA9IGZhbHNlO1xuICAgIF9zdG9yYWdlRXJyb3JGbGFnID0gZmFsc2U7XG4gICAgX3VuYXZhaWxhYmxlRmxhZyA9IGZhbHNlO1xuICAgIF9lcnJvckxvZyA9IG51bGw7XG4gIH1cblxuICBmdW5jdGlvbiBvbkZpbGVVbmF2YWlsYWJsZShtZXNzYWdlKSB7XG4gICAgX3VuYXZhaWxhYmxlRmxhZyA9IHRydWU7XG5cbiAgICBfbWVzc2FnZS5zaG93KG1lc3NhZ2UpO1xuXG4gICAgLy8gaWYgV2lkZ2V0IGlzIHBsYXlpbmcgcmlnaHQgbm93LCBydW4gdGhlIHRpbWVyXG4gICAgaWYgKCFfdmlld2VyUGF1c2VkKSB7XG4gICAgICBfc3RhcnRFcnJvclRpbWVyKCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gc2V0QWRkaXRpb25hbFBhcmFtcyhhZGRpdGlvbmFsUGFyYW1zLCBtb2RlVHlwZSkge1xuICAgIF9wYXJhbXMgPSBfLmNsb25lKGFkZGl0aW9uYWxQYXJhbXMpO1xuICAgIF9tb2RlID0gbW9kZVR5cGU7XG5cbiAgICBfcGFyYW1zLndpZHRoID0gX3ByZWZzLmdldEludChcInJzV1wiKTtcbiAgICBfcGFyYW1zLmhlaWdodCA9IF9wcmVmcy5nZXRJbnQoXCJyc0hcIik7XG5cbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNvbnRhaW5lclwiKS5zdHlsZS5oZWlnaHQgPSBfcHJlZnMuZ2V0SW50KFwicnNIXCIpICsgXCJweFwiO1xuICAgIGluaXQoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG9uU2xpZGVyUmVhZHkoKSB7XG4gICAgX21lc3NhZ2UuaGlkZSgpO1xuXG4gICAgaWYgKCFfdmlld2VyUGF1c2VkKSB7XG4gICAgICBfc2xpZGVyLnBsYXkoKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBvblNsaWRlckNvbXBsZXRlKCkge1xuICAgIF9kb25lKCk7XG4gIH1cblxuICBmdW5jdGlvbiBwYXVzZSgpIHtcbiAgICB2YXIgaW1hZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2NvbnRhaW5lciAjaW1hZ2VcIik7XG5cbiAgICBfdmlld2VyUGF1c2VkID0gdHJ1ZTtcblxuICAgIC8vIGluIGNhc2UgZXJyb3IgdGltZXIgc3RpbGwgcnVubmluZyAobm8gY29uZGl0aW9uYWwgY2hlY2sgb24gZXJyb3JGbGFnLCBpdCBtYXkgaGF2ZSBiZWVuIHJlc2V0IGluIG9uRmlsZVJlZnJlc2gpXG4gICAgX2NsZWFyRXJyb3JUaW1lcigpO1xuXG4gICAgaWYgKF9tb2RlID09PSBcImZvbGRlclwiICYmIF9zbGlkZXIgJiYgX3NsaWRlci5pc1JlYWR5KCkpIHtcbiAgICAgIF9zbGlkZXIucGF1c2UoKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoX21vZGUgPT09IFwiZmlsZVwiICYmIGltYWdlICYmIF9pc0dpZikge1xuICAgICAgaW1hZ2Uuc3R5bGUudmlzaWJpbGl0eSA9IFwiaGlkZGVuXCI7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcGxheSgpIHtcbiAgICB2YXIgaW1hZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2NvbnRhaW5lciAjaW1hZ2VcIik7XG5cbiAgICBfdmlld2VyUGF1c2VkID0gZmFsc2U7XG5cbiAgICBpZiAoIV9jb25maWd1cmF0aW9uTG9nZ2VkKSB7XG4gICAgICBsb2dFdmVudCh7IFwiZXZlbnRcIjogXCJjb25maWd1cmF0aW9uXCIsIFwiZXZlbnRfZGV0YWlsc1wiOiBfY29uZmlndXJhdGlvblR5cGUgfSwgZmFsc2UpO1xuICAgICAgX2NvbmZpZ3VyYXRpb25Mb2dnZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIGxvZ0V2ZW50KHsgXCJldmVudFwiOiBcInBsYXlcIiwgXCJmaWxlX3VybFwiOiBfZ2V0Q3VycmVudEZpbGUoKSB9LCBmYWxzZSk7XG5cbiAgICBpZiAoX2Vycm9yRmxhZykge1xuICAgICAgX3N0YXJ0RXJyb3JUaW1lcigpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChfdW5hdmFpbGFibGVGbGFnKSB7XG4gICAgICBpZiAoX21vZGUgPT09IFwiZmlsZVwiICYmIF9zdG9yYWdlKSB7XG4gICAgICAgIF9zdG9yYWdlLnJldHJ5KCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoX21vZGUgPT09IFwiZm9sZGVyXCIgJiYgX3NsaWRlciAmJiBfc2xpZGVyLmlzUmVhZHkoKSkge1xuICAgICAgX3NsaWRlci5wbGF5KCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKF9tb2RlID09PSBcImZpbGVcIiAmJiBpbWFnZSAmJiBfaXNHaWYpIHtcbiAgICAgIGltYWdlLnN0eWxlLnZpc2liaWxpdHkgPSBcInZpc2libGVcIjtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBnZXRUYWJsZU5hbWUoKSB7XG4gICAgcmV0dXJuIFwiaW1hZ2VfZXZlbnRzXCI7XG4gIH1cblxuICBmdW5jdGlvbiBzaG93RXJyb3IobWVzc2FnZSwgaXNTdG9yYWdlRXJyb3IpIHtcbiAgICBfZXJyb3JGbGFnID0gdHJ1ZTtcbiAgICBfc3RvcmFnZUVycm9yRmxhZyA9IHR5cGVvZiBpc1N0b3JhZ2VFcnJvciAhPT0gXCJ1bmRlZmluZWRcIjtcblxuICAgIF9tZXNzYWdlLnNob3cobWVzc2FnZSk7XG5cbiAgICAvLyBkZXN0cm95IHNsaWRlciBpZiBpdCBleGlzdHMgYW5kIHByZXZpb3VzbHkgbm90aWZpZWQgcmVhZHlcbiAgICBpZiAoX21vZGUgPT09IFwiZm9sZGVyXCIgJiYgX3NsaWRlciAmJiBfc2xpZGVyLmlzUmVhZHkoKSkge1xuICAgICAgX3NsaWRlci5kZXN0cm95KCk7XG4gICAgfVxuXG4gICAgaWYgKCFfdmlld2VyUGF1c2VkKSB7XG4gICAgICBfc3RhcnRFcnJvclRpbWVyKCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gc3RvcCgpIHtcbiAgICBwYXVzZSgpO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBcImhhc1N0b3JhZ2VFcnJvclwiOiBoYXNTdG9yYWdlRXJyb3IsXG4gICAgXCJsb2dFdmVudFwiOiBsb2dFdmVudCxcbiAgICBcIm9uRmlsZUluaXRcIjogb25GaWxlSW5pdCxcbiAgICBcIm9uRmlsZVJlZnJlc2hcIjogb25GaWxlUmVmcmVzaCxcbiAgICBcIm9uRmlsZVVuYXZhaWxhYmxlXCI6IG9uRmlsZVVuYXZhaWxhYmxlLFxuICAgIFwib25TbGlkZXJDb21wbGV0ZVwiOiBvblNsaWRlckNvbXBsZXRlLFxuICAgIFwib25TbGlkZXJSZWFkeVwiOiBvblNsaWRlclJlYWR5LFxuICAgIFwicGF1c2VcIjogcGF1c2UsXG4gICAgXCJwbGF5XCI6IHBsYXksXG4gICAgXCJzZXRBZGRpdGlvbmFsUGFyYW1zXCI6IHNldEFkZGl0aW9uYWxQYXJhbXMsXG4gICAgXCJnZXRUYWJsZU5hbWVcIjogZ2V0VGFibGVOYW1lLFxuICAgIFwic2hvd0Vycm9yXCI6IHNob3dFcnJvcixcbiAgICBcInN0b3BcIjogc3RvcFxuICB9O1xufSkoZ2FkZ2V0cyk7XG5cbnZhciBSaXNlVmlzaW9uID0gUmlzZVZpc2lvbiB8fCB7fTtcblJpc2VWaXNpb24uSW1hZ2UgPSBSaXNlVmlzaW9uLkltYWdlIHx8IHt9O1xuXG5SaXNlVmlzaW9uLkltYWdlLk1lc3NhZ2UgPSBmdW5jdGlvbiAobWFpbkNvbnRhaW5lciwgbWVzc2FnZUNvbnRhaW5lcikge1xuICBcInVzZSBzdHJpY3RcIjtcblxuICB2YXIgX2FjdGl2ZSA9IGZhbHNlO1xuXG4gIGZ1bmN0aW9uIF9pbml0KCkge1xuICAgIHRyeSB7XG4gICAgICBtZXNzYWdlQ29udGFpbmVyLnN0eWxlLmhlaWdodCA9IG1haW5Db250YWluZXIuc3R5bGUuaGVpZ2h0O1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGNvbnNvbGUud2FybihcIkNhbid0IGluaXRpYWxpemUgTWVzc2FnZSAtIFwiLCBlLm1lc3NhZ2UpO1xuICAgIH1cbiAgfVxuXG4gIC8qXG4gICAqICBQdWJsaWMgTWV0aG9kc1xuICAgKi9cbiAgZnVuY3Rpb24gaGlkZSgpIHtcbiAgICBpZiAoX2FjdGl2ZSkge1xuICAgICAgLy8gY2xlYXIgY29udGVudCBvZiBtZXNzYWdlIGNvbnRhaW5lclxuICAgICAgd2hpbGUgKG1lc3NhZ2VDb250YWluZXIuZmlyc3RDaGlsZCkge1xuICAgICAgICBtZXNzYWdlQ29udGFpbmVyLnJlbW92ZUNoaWxkKG1lc3NhZ2VDb250YWluZXIuZmlyc3RDaGlsZCk7XG4gICAgICB9XG5cbiAgICAgIC8vIGhpZGUgbWVzc2FnZSBjb250YWluZXJcbiAgICAgIG1lc3NhZ2VDb250YWluZXIuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuXG4gICAgICAvLyBzaG93IG1haW4gY29udGFpbmVyXG4gICAgICBtYWluQ29udGFpbmVyLnN0eWxlLnZpc2liaWxpdHkgPSBcInZpc2libGVcIjtcblxuICAgICAgX2FjdGl2ZSA9IGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHNob3cobWVzc2FnZSkge1xuICAgIHZhciBmcmFnbWVudCA9IGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSxcbiAgICAgIHA7XG5cbiAgICBpZiAoIV9hY3RpdmUpIHtcbiAgICAgIC8vIGhpZGUgbWFpbiBjb250YWluZXJcbiAgICAgIG1haW5Db250YWluZXIuc3R5bGUudmlzaWJpbGl0eSA9IFwiaGlkZGVuXCI7XG5cbiAgICAgIG1lc3NhZ2VDb250YWluZXIuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcblxuICAgICAgLy8gY3JlYXRlIG1lc3NhZ2UgZWxlbWVudFxuICAgICAgcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xuICAgICAgcC5pbm5lckhUTUwgPSBtZXNzYWdlO1xuICAgICAgcC5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcIm1lc3NhZ2VcIik7XG5cbiAgICAgIGZyYWdtZW50LmFwcGVuZENoaWxkKHApO1xuICAgICAgbWVzc2FnZUNvbnRhaW5lci5hcHBlbmRDaGlsZChmcmFnbWVudCk7XG5cbiAgICAgIF9hY3RpdmUgPSB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBtZXNzYWdlIGFscmVhZHkgYmVpbmcgc2hvd24sIHVwZGF0ZSBtZXNzYWdlIHRleHRcbiAgICAgIHAgPSBtZXNzYWdlQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoXCIubWVzc2FnZVwiKTtcbiAgICAgIHAuaW5uZXJIVE1MID0gbWVzc2FnZTtcbiAgICB9XG4gIH1cblxuICBfaW5pdCgpO1xuXG4gIHJldHVybiB7XG4gICAgXCJoaWRlXCI6IGhpZGUsXG4gICAgXCJzaG93XCI6IHNob3dcbiAgfTtcbn07XG5cbi8qIGdsb2JhbCBfICovXG52YXIgUmlzZVZpc2lvbiA9IFJpc2VWaXNpb24gfHwge307XG5SaXNlVmlzaW9uLkltYWdlID0gUmlzZVZpc2lvbi5JbWFnZSB8fCB7fTtcblxuUmlzZVZpc2lvbi5JbWFnZS5TbGlkZXIgPSBmdW5jdGlvbiAocGFyYW1zKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuXG4gIHZhciB0b3RhbFNsaWRlcyA9IDAsXG4gICAgJGFwaSA9IG51bGwsXG4gICAgY3VycmVudEZpbGVzID0gbnVsbCxcbiAgICBuZXdGaWxlcyA9IG51bGwsXG4gICAgbmF2VGltZXIgPSBudWxsLFxuICAgIHNsaWRlVGltZXIgPSBudWxsLFxuICAgIGlzTGFzdFNsaWRlID0gZmFsc2UsXG4gICAgcmVmcmVzaFNsaWRlciA9IGZhbHNlLFxuICAgIGlzTG9hZGluZyA9IHRydWUsXG4gICAgaXNQbGF5aW5nID0gZmFsc2UsXG4gICAgaXNJbnRlcmFjdGluZyA9IGZhbHNlLFxuICAgIG5hdlRpbWVvdXQgPSAzMDAwO1xuXG4gIC8qXG4gICAqICBQcml2YXRlIE1ldGhvZHNcbiAgICovXG4gIGZ1bmN0aW9uIGFkZFNsaWRlcygpIHtcbiAgICB2YXIgbGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudHAtYmFubmVyIHVsXCIpLFxuICAgICAgZnJhZ21lbnQgPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCksXG4gICAgICBzbGlkZXMgPSBbXSxcbiAgICAgIHNsaWRlID0gbnVsbCxcbiAgICAgIGltYWdlID0gbnVsbCxcbiAgICAgIHBvc2l0aW9uID0gXCJcIjtcblxuICAgIHRvdGFsU2xpZGVzID0gY3VycmVudEZpbGVzLmxlbmd0aDtcblxuICAgIGN1cnJlbnRGaWxlcy5mb3JFYWNoKGZ1bmN0aW9uKGZpbGUpIHtcbiAgICAgIHNsaWRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpXCIpO1xuICAgICAgaW1hZ2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpO1xuXG4gICAgICAvLyBUcmFuc2l0aW9uXG4gICAgICBzbGlkZS5zZXRBdHRyaWJ1dGUoXCJkYXRhLXRyYW5zaXRpb25cIiwgXCJmYWRlXCIpO1xuICAgICAgc2xpZGUuc2V0QXR0cmlidXRlKFwiZGF0YS1tYXN0ZXJzcGVlZFwiLCA1MDApO1xuICAgICAgc2xpZGUuc2V0QXR0cmlidXRlKFwiZGF0YS1kZWxheVwiLCBwYXJhbXMuZHVyYXRpb24gKiAxMDAwKTtcblxuICAgICAgLy8gTGF6eSBsb2FkXG4gICAgICBpbWFnZS5zcmMgPSBcIlwiO1xuICAgICAgaW1hZ2Uuc2V0QXR0cmlidXRlKFwiZGF0YS1sYXp5bG9hZFwiLCBmaWxlLnVybCk7XG5cbiAgICAgIC8vIEFsaWdubWVudFxuICAgICAgc3dpdGNoIChwYXJhbXMucG9zaXRpb24pIHtcbiAgICAgICAgY2FzZSBcInRvcC1sZWZ0XCI6XG4gICAgICAgICAgcG9zaXRpb24gPSBcImxlZnQgdG9wXCI7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJ0b3AtY2VudGVyXCI6XG4gICAgICAgICAgcG9zaXRpb24gPSBcImNlbnRlciB0b3BcIjtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcInRvcC1yaWdodFwiOlxuICAgICAgICAgIHBvc2l0aW9uID0gXCJyaWdodCB0b3BcIjtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcIm1pZGRsZS1sZWZ0XCI6XG4gICAgICAgICAgcG9zaXRpb24gPSBcImxlZnQgY2VudGVyXCI7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJtaWRkbGUtY2VudGVyXCI6XG4gICAgICAgICAgcG9zaXRpb24gPSBcImNlbnRlciBjZW50ZXJcIjtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcIm1pZGRsZS1yaWdodFwiOlxuICAgICAgICAgIHBvc2l0aW9uID0gXCJyaWdodCBjZW50ZXJcIjtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImJvdHRvbS1sZWZ0XCI6XG4gICAgICAgICAgcG9zaXRpb24gPSBcImxlZnQgYm90dG9tXCI7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJib3R0b20tY2VudGVyXCI6XG4gICAgICAgICAgcG9zaXRpb24gPSBcImNlbnRlciBib3R0b21cIjtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImJvdHRvbS1yaWdodFwiOlxuICAgICAgICAgIHBvc2l0aW9uID0gXCJyaWdodCBib3R0b21cIjtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBwb3NpdGlvbiA9IFwibGVmdCB0b3BcIjtcbiAgICAgIH1cblxuICAgICAgaW1hZ2Uuc2V0QXR0cmlidXRlKFwiZGF0YS1iZ3Bvc2l0aW9uXCIsIHBvc2l0aW9uKTtcblxuICAgICAgLy8gU2NhbGUgdG8gRml0XG4gICAgICBpZiAocGFyYW1zLnNjYWxlVG9GaXQpIHtcbiAgICAgICAgaW1hZ2Uuc2V0QXR0cmlidXRlKFwiZGF0YS1iZ2ZpdFwiLCBcImNvbnRhaW5cIik7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgaW1hZ2Uuc2V0QXR0cmlidXRlKFwiZGF0YS1iZ2ZpdFwiLCBcIm5vcm1hbFwiKTtcbiAgICAgIH1cblxuICAgICAgc2xpZGUuYXBwZW5kQ2hpbGQoaW1hZ2UpO1xuICAgICAgc2xpZGVzLnB1c2goc2xpZGUpO1xuICAgIH0pO1xuXG4gICAgc2xpZGVzLmZvckVhY2goZnVuY3Rpb24oc2xpZGUpIHtcbiAgICAgIGZyYWdtZW50LmFwcGVuZENoaWxkKHNsaWRlKTtcbiAgICB9KTtcblxuICAgIGxpc3QuYXBwZW5kQ2hpbGQoZnJhZ21lbnQpO1xuICB9XG5cbiAgZnVuY3Rpb24gb25TbGlkZUNoYW5nZWQoZGF0YSkge1xuICAgIGlmIChpc0ludGVyYWN0aW5nKSB7XG4gICAgICBwYXVzZSgpO1xuICAgIH1cbiAgICAvLyBEb24ndCBjYWxsIFwiZG9uZVwiIGlmIHVzZXIgaXMgaW50ZXJhY3Rpbmcgd2l0aCB0aGUgc2xpZGVzaG93LlxuICAgIGVsc2Uge1xuICAgICAgaWYgKGlzTGFzdFNsaWRlKSB7XG4gICAgICAgIGlzTGFzdFNsaWRlID0gZmFsc2U7XG4gICAgICAgIHBhdXNlKCk7XG4gICAgICAgIFJpc2VWaXNpb24uSW1hZ2Uub25TbGlkZXJDb21wbGV0ZSgpO1xuXG4gICAgICAgIGlmIChyZWZyZXNoU2xpZGVyKSB7XG4gICAgICAgICAgLy8gRGVzdHJveSBhbmQgcmVjcmVhdGUgdGhlIHNsaWRlciBpZiB0aGUgZmlsZXMgaGF2ZSBjaGFuZ2VkLlxuICAgICAgICAgIGlmICgkYXBpKSB7XG4gICAgICAgICAgICBkZXN0cm95U2xpZGVyKCk7XG4gICAgICAgICAgICBpbml0KG5ld0ZpbGVzKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZWZyZXNoU2xpZGVyID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoZGF0YS5zbGlkZUluZGV4ID09PSB0b3RhbFNsaWRlcykge1xuICAgICAgaXNMYXN0U2xpZGUgPSB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGRlc3Ryb3lTbGlkZXIoKSB7XG4gICAgLy8gUmVtb3ZlIGV2ZW50IGhhbmRsZXJzLlxuICAgICQoXCJib2R5XCIpLm9mZihcInRvdWNoZW5kXCIpO1xuICAgICRhcGkub2ZmKFwicmV2b2x1dGlvbi5zbGlkZS5vbmxvYWRlZFwiKTtcbiAgICAkYXBpLm9mZihcInJldm9sdXRpb24uc2xpZGUub25jaGFuZ2VcIik7XG5cbiAgICAvLyBMZXQgdGhlIHNsaWRlciBjbGVhbiB1cCBhZnRlciBpdHNlbGYuXG4gICAgJGFwaS5yZXZraWxsKCk7XG4gICAgJGFwaSA9IG51bGw7XG4gIH1cblxuICAvLyBVc2VyIGhhcyBpbnRlcmFjdGVkIHdpdGggdGhlIHNsaWRlc2hvdy5cbiAgZnVuY3Rpb24gaGFuZGxlVXNlckFjdGl2aXR5KCkge1xuICAgIGlzSW50ZXJhY3RpbmcgPSB0cnVlO1xuICAgIGNsZWFyVGltZW91dChzbGlkZVRpbWVyKTtcblxuICAgIC8vIE1vdmUgdG8gbmV4dCBzbGlkZSBhbmQgcmVzdW1lIHRoZSBzbGlkZXNob3cgYWZ0ZXIgYSBkZWxheS5cbiAgICBzbGlkZVRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICRhcGkucmV2bmV4dCgpO1xuICAgICAgJGFwaS5yZXZyZXN1bWUoKTtcblxuICAgICAgaXNJbnRlcmFjdGluZyA9IGZhbHNlO1xuICAgICAgaXNQbGF5aW5nID0gdHJ1ZTtcbiAgICB9LCBwYXJhbXMucGF1c2UgKiAxMDAwKTtcblxuICAgIGhpZGVOYXYoKTtcbiAgfVxuXG4gIC8vIEhpZGUgdGhlIG5hdmlnYXRpb24gYWZ0ZXIgYSBkZWxheS5cbiAgZnVuY3Rpb24gaGlkZU5hdigpIHtcbiAgICBpZiAocGFyYW1zLmF1dG9IaWRlKSB7XG4gICAgICBjbGVhclRpbWVvdXQobmF2VGltZXIpO1xuXG4gICAgICBuYXZUaW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICQoXCIudHAtbGVmdGFycm93LCAudHAtcmlnaHRhcnJvd1wiKS5hZGRDbGFzcyhcImhpZGVhcnJvd3NcIik7XG4gICAgICB9LCBuYXZUaW1lb3V0KTtcbiAgICB9XG4gIH1cblxuICAvKlxuICAgKiAgUHVibGljIE1ldGhvZHNcbiAgICogIFRPRE86IFRlc3Qgd2hhdCBoYXBwZW5zIHdoZW4gZm9sZGVyIGlzbid0IGZvdW5kLlxuICAgKi9cbiAgZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICBpZiAoJGFwaSkge1xuICAgICAgaXNMYXN0U2xpZGUgPSBmYWxzZTtcbiAgICAgIHBhdXNlKCk7XG4gICAgICBkZXN0cm95U2xpZGVyKCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gZ2V0Q3VycmVudFNsaWRlKCkge1xuICAgIGlmICgkYXBpICYmIGN1cnJlbnRGaWxlcyAmJiBjdXJyZW50RmlsZXMubGVuZ3RoID4gMCkge1xuICAgICAgcmV0dXJuICRhcGkucmV2Y3VycmVudHNsaWRlKCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIC0xO1xuICB9XG5cbiAgZnVuY3Rpb24gaW5pdChmaWxlcykge1xuICAgIHZhciB0cEJhbm5lckNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudHAtYmFubmVyLWNvbnRhaW5lclwiKSxcbiAgICAgIGZyYWdtZW50ID0gZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLFxuICAgICAgdHBCYW5uZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLFxuICAgICAgdWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidWxcIik7XG5cbiAgICB0cEJhbm5lci5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcInRwLWJhbm5lclwiKTtcbiAgICB0cEJhbm5lci5hcHBlbmRDaGlsZCh1bCk7XG4gICAgZnJhZ21lbnQuYXBwZW5kQ2hpbGQodHBCYW5uZXIpO1xuICAgIHRwQmFubmVyQ29udGFpbmVyLmFwcGVuZENoaWxkKGZyYWdtZW50KTtcblxuICAgIGN1cnJlbnRGaWxlcyA9IF8uY2xvbmUoZmlsZXMpO1xuXG4gICAgYWRkU2xpZGVzKCk7XG5cbiAgICBpc0xvYWRpbmcgPSB0cnVlO1xuICAgICRhcGkgPSAkKFwiLnRwLWJhbm5lclwiKS5yZXZvbHV0aW9uKHtcbiAgICAgIFwiaGlkZVRodW1ic1wiOiAwLFxuICAgICAgXCJoaWRlVGltZXJCYXJcIjogXCJvblwiLFxuICAgICAgXCJuYXZpZ2F0aW9uVHlwZVwiOiBcIm5vbmVcIixcbiAgICAgIFwib25Ib3ZlclN0b3BcIjogXCJvZmZcIixcbiAgICAgIFwic3RhcnR3aWR0aFwiOiBwYXJhbXMud2lkdGgsXG4gICAgICBcInN0YXJ0aGVpZ2h0XCI6IHBhcmFtcy5oZWlnaHRcbiAgICB9KTtcblxuICAgICRhcGkub24oXCJyZXZvbHV0aW9uLnNsaWRlLm9ubG9hZGVkXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgLy8gUGF1c2Ugc2xpZGVzaG93IHNpbmNlIGl0IHdpbGwgYXV0b3BsYXkgYW5kIHRoaXMgaXMgbm90IGNvbmZpZ3VyYWJsZS5cbiAgICAgIHBhdXNlKCk7XG4gICAgICBpc0xvYWRpbmcgPSBmYWxzZTtcbiAgICAgIFJpc2VWaXNpb24uSW1hZ2Uub25TbGlkZXJSZWFkeSgpO1xuICAgIH0pO1xuXG4gICAgJGFwaS5vbihcInJldm9sdXRpb24uc2xpZGUub25jaGFuZ2VcIiwgZnVuY3Rpb24gKGUsIGRhdGEpIHtcbiAgICAgIG9uU2xpZGVDaGFuZ2VkKGRhdGEpO1xuICAgIH0pO1xuXG4gICAgLy8gU3dpcGUgdGhlIHNsaWRlci5cbiAgICAkKFwiYm9keVwiKS5vbihcInRvdWNoZW5kXCIsIFwiLnRwLWJhbm5lclwiLCBmdW5jdGlvbigpIHtcbiAgICAgIGhhbmRsZVVzZXJBY3Rpdml0eSgpO1xuICAgICAgJChcIi50cC1sZWZ0YXJyb3csIC50cC1yaWdodGFycm93XCIpLnJlbW92ZUNsYXNzKFwiaGlkZWFycm93c1wiKTtcbiAgICB9KTtcblxuICAgIC8vIFRvdWNoIHRoZSBuYXZpZ2F0aW9uIGFycm93cy5cbiAgICAkKFwiYm9keVwiKS5vbihcInRvdWNoZW5kXCIsIFwiLnRwLWxlZnRhcnJvdywgLnRwLXJpZ2h0YXJyb3dcIiwgZnVuY3Rpb24oKSB7XG4gICAgICBoYW5kbGVVc2VyQWN0aXZpdHkoKTtcbiAgICB9KTtcblxuICAgIGhpZGVOYXYoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGlzUmVhZHkoKSB7XG4gICAgcmV0dXJuICFpc0xvYWRpbmc7XG4gIH1cblxuICBmdW5jdGlvbiBwbGF5KCkge1xuICAgIGlmICgkYXBpKSB7XG4gICAgICAvLyBSZXNldCBzbGlkZXNob3cgdG8gZmlyc3Qgc2xpZGUuXG4gICAgICBpZiAocGFyYW1zLmhhc093blByb3BlcnR5KFwicmVzdW1lXCIpICYmICFwYXJhbXMucmVzdW1lKSB7XG4gICAgICAgICRhcGkucmV2c2hvd3NsaWRlKDApO1xuICAgICAgfVxuXG4gICAgICBpZiAoIWlzUGxheWluZykge1xuICAgICAgICAkYXBpLnJldnJlc3VtZSgpO1xuICAgICAgICBpc1BsYXlpbmcgPSB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHBhdXNlKCkge1xuICAgIGlmICgkYXBpICYmIGlzUGxheWluZykge1xuICAgICAgJGFwaS5yZXZwYXVzZSgpO1xuICAgICAgaXNQbGF5aW5nID0gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcmVmcmVzaChmaWxlcykge1xuICAgIC8vIFN0YXJ0IHByZWxvYWRpbmcgaW1hZ2VzIHJpZ2h0IGF3YXkuXG4gICAgUmlzZVZpc2lvbi5Db21tb24uVXRpbGl0aWVzLnByZWxvYWRJbWFnZXMoZmlsZXMpO1xuICAgIG5ld0ZpbGVzID0gXy5jbG9uZShmaWxlcyk7XG4gICAgcmVmcmVzaFNsaWRlciA9IHRydWU7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIFwiZ2V0Q3VycmVudFNsaWRlXCI6IGdldEN1cnJlbnRTbGlkZSxcbiAgICBcImRlc3Ryb3lcIjogZGVzdHJveSxcbiAgICBcImluaXRcIjogaW5pdCxcbiAgICBcImlzUmVhZHlcIjogaXNSZWFkeSxcbiAgICBcInBsYXlcIjogcGxheSxcbiAgICBcInBhdXNlXCI6IHBhdXNlLFxuICAgIFwicmVmcmVzaFwiOiByZWZyZXNoXG4gIH07XG59O1xuXG4vKiBnbG9iYWwgY29uZmlnICovXG52YXIgUmlzZVZpc2lvbiA9IFJpc2VWaXNpb24gfHwge307XG5SaXNlVmlzaW9uLkltYWdlID0gUmlzZVZpc2lvbi5JbWFnZSB8fCB7fTtcblxuUmlzZVZpc2lvbi5JbWFnZS5TdG9yYWdlRmlsZSA9IGZ1bmN0aW9uIChwYXJhbXMpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgdmFyIHV0aWxzID0gUmlzZVZpc2lvbi5Db21tb24uVXRpbGl0aWVzLFxuICAgIHJpc2VDYWNoZSA9IFJpc2VWaXNpb24uQ29tbW9uLlJpc2VDYWNoZTtcblxuICB2YXIgX2luaXRpYWxMb2FkID0gdHJ1ZTtcblxuICAvKlxuICAgKiAgUHVibGljIE1ldGhvZHNcbiAgICovXG4gIGZ1bmN0aW9uIGluaXQoKSB7XG4gICAgdmFyIHN0b3JhZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwicmlzZS1zdG9yYWdlXCIpO1xuXG4gICAgc3RvcmFnZS5hZGRFdmVudExpc3RlbmVyKFwicmlzZS1zdG9yYWdlLXJlc3BvbnNlXCIsIGZ1bmN0aW9uKGUpIHtcbiAgICAgIHZhciB1cmw7XG5cbiAgICAgIGlmIChlLmRldGFpbCAmJiBlLmRldGFpbC51cmwpIHtcblxuICAgICAgICB1cmwgPSBlLmRldGFpbC51cmwucmVwbGFjZShcIidcIiwgXCJcXFxcJ1wiKTtcblxuICAgICAgICBpZiAoX2luaXRpYWxMb2FkKSB7XG4gICAgICAgICAgX2luaXRpYWxMb2FkID0gZmFsc2U7XG5cbiAgICAgICAgICBSaXNlVmlzaW9uLkltYWdlLm9uRmlsZUluaXQodXJsKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAvLyBjaGVjayBmb3IgXCJjaGFuZ2VkXCIgcHJvcGVydHlcbiAgICAgICAgICBpZiAoZS5kZXRhaWwuaGFzT3duUHJvcGVydHkoXCJjaGFuZ2VkXCIpKSB7XG4gICAgICAgICAgICBpZiAoZS5kZXRhaWwuY2hhbmdlZCkge1xuICAgICAgICAgICAgICBSaXNlVmlzaW9uLkltYWdlLm9uRmlsZVJlZnJlc2godXJsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAvLyBpbiB0aGUgZXZlbnQgb2YgYSBuZXR3b3JrIGZhaWx1cmUgYW5kIHJlY292ZXJ5LCBjaGVjayBpZiB0aGUgV2lkZ2V0IGlzIGluIGEgc3RhdGUgb2Ygc3RvcmFnZSBlcnJvclxuICAgICAgICAgICAgICBpZiAoUmlzZVZpc2lvbi5JbWFnZS5oYXNTdG9yYWdlRXJyb3IoKSkge1xuICAgICAgICAgICAgICAgIC8vIHByb2NlZWQgd2l0aCByZWZyZXNoIGxvZ2ljIHNvIHRoZSBXaWRnZXQgY2FuIGV2ZW50dWFsbHkgcGxheSB2aWRlbyBhZ2FpbiBmcm9tIGEgbmV0d29yayByZWNvdmVyeVxuICAgICAgICAgICAgICAgIFJpc2VWaXNpb24uSW1hZ2Uub25GaWxlUmVmcmVzaChlLmRldGFpbC51cmwpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBzdG9yYWdlLmFkZEV2ZW50TGlzdGVuZXIoXCJyaXNlLXN0b3JhZ2UtYXBpLWVycm9yXCIsIGZ1bmN0aW9uKGUpIHtcbiAgICAgIHZhciBwYXJhbXMgPSB7XG4gICAgICAgICAgXCJldmVudFwiOiBcImVycm9yXCIsXG4gICAgICAgICAgXCJldmVudF9kZXRhaWxzXCI6IFwic3RvcmFnZSBhcGkgZXJyb3JcIixcbiAgICAgICAgICBcImVycm9yX2RldGFpbHNcIjogXCJSZXNwb25zZSBjb2RlOiBcIiArIGUuZGV0YWlsLmNvZGUgKyBcIiwgbWVzc2FnZTogXCIgKyBlLmRldGFpbC5tZXNzYWdlXG4gICAgICAgIH07XG5cbiAgICAgIFJpc2VWaXNpb24uSW1hZ2UubG9nRXZlbnQocGFyYW1zLCB0cnVlKTtcbiAgICAgIFJpc2VWaXNpb24uSW1hZ2Uuc2hvd0Vycm9yKFwiU29ycnksIHRoZXJlIHdhcyBhIHByb2JsZW0gY29tbXVuaWNhdGluZyB3aXRoIFJpc2UgU3RvcmFnZS5cIik7XG4gICAgfSk7XG5cbiAgICBzdG9yYWdlLmFkZEV2ZW50TGlzdGVuZXIoXCJyaXNlLXN0b3JhZ2Utbm8tZmlsZVwiLCBmdW5jdGlvbihlKSB7XG4gICAgICB2YXIgcGFyYW1zID0ge1xuICAgICAgICBcImV2ZW50XCI6IFwiZXJyb3JcIixcbiAgICAgICAgXCJldmVudF9kZXRhaWxzXCI6IFwic3RvcmFnZSBmaWxlIG5vdCBmb3VuZFwiLFxuICAgICAgICBcImZpbGVfdXJsXCI6IGUuZGV0YWlsXG4gICAgICB9LFxuICAgICAgICBpbWcgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImltYWdlXCIpO1xuXG4gICAgICAvLyBjbGVhciB0aGUgZXhpc3RpbmcgaW1hZ2VcbiAgICAgIGltZy5zdHlsZS5iYWNrZ3JvdW5kID0gXCJcIjtcblxuICAgICAgUmlzZVZpc2lvbi5JbWFnZS5sb2dFdmVudChwYXJhbXMsIHRydWUpO1xuICAgICAgUmlzZVZpc2lvbi5JbWFnZS5zaG93RXJyb3IoXCJUaGUgc2VsZWN0ZWQgaW1hZ2UgZG9lcyBub3QgZXhpc3Qgb3IgaGFzIGJlZW4gbW92ZWQgdG8gVHJhc2guXCIpO1xuICAgIH0pO1xuXG4gICAgc3RvcmFnZS5hZGRFdmVudExpc3RlbmVyKFwicmlzZS1zdG9yYWdlLWZpbGUtdGhyb3R0bGVkXCIsIGZ1bmN0aW9uKGUpIHtcbiAgICAgIHZhciBwYXJhbXMgPSB7XG4gICAgICAgIFwiZXZlbnRcIjogXCJlcnJvclwiLFxuICAgICAgICBcImV2ZW50X2RldGFpbHNcIjogXCJzdG9yYWdlIGZpbGUgdGhyb3R0bGVkXCIsXG4gICAgICAgIFwiZmlsZV91cmxcIjogZS5kZXRhaWxcbiAgICAgIH07XG5cbiAgICAgIFJpc2VWaXNpb24uSW1hZ2UubG9nRXZlbnQocGFyYW1zLCB0cnVlKTtcbiAgICAgIFJpc2VWaXNpb24uSW1hZ2Uuc2hvd0Vycm9yKFwiVGhlIHNlbGVjdGVkIGltYWdlIGlzIHRlbXBvcmFyaWx5IHVuYXZhaWxhYmxlLlwiKTtcbiAgICB9KTtcblxuICAgIHN0b3JhZ2UuYWRkRXZlbnRMaXN0ZW5lcihcInJpc2Utc3RvcmFnZS1zdWJzY3JpcHRpb24tZXhwaXJlZFwiLCBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBwYXJhbXMgPSB7XG4gICAgICAgIFwiZXZlbnRcIjogXCJlcnJvclwiLFxuICAgICAgICBcImV2ZW50X2RldGFpbHNcIjogXCJzdG9yYWdlIHN1YnNjcmlwdGlvbiBleHBpcmVkXCJcbiAgICAgIH07XG5cbiAgICAgIFJpc2VWaXNpb24uSW1hZ2UubG9nRXZlbnQocGFyYW1zLCB0cnVlKTtcbiAgICAgIFJpc2VWaXNpb24uSW1hZ2Uuc2hvd0Vycm9yKFwiUmlzZSBTdG9yYWdlIHN1YnNjcmlwdGlvbiBpcyBub3QgYWN0aXZlLlwiKTtcbiAgICB9KTtcblxuICAgIHN0b3JhZ2UuYWRkRXZlbnRMaXN0ZW5lcihcInJpc2Utc3RvcmFnZS1lcnJvclwiLCBmdW5jdGlvbihlKSB7XG4gICAgICB2YXIgZmlsZVVybCA9IChlLmRldGFpbCAmJiBlLmRldGFpbC5yZXF1ZXN0ICYmIGUuZGV0YWlsLnJlcXVlc3QudXJsKSA/IGUuZGV0YWlsLnJlcXVlc3QudXJsIDogbnVsbCxcbiAgICAgICAgcGFyYW1zID0ge1xuICAgICAgICAgIFwiZXZlbnRcIjogXCJlcnJvclwiLFxuICAgICAgICAgIFwiZXZlbnRfZGV0YWlsc1wiOiBcInJpc2Ugc3RvcmFnZSBlcnJvclwiLFxuICAgICAgICAgIFwiZXJyb3JfZGV0YWlsc1wiOiBcIlRoZSByZXF1ZXN0IGZhaWxlZCB3aXRoIHN0YXR1cyBjb2RlOiBcIiArIGUuZGV0YWlsLmVycm9yLmN1cnJlbnRUYXJnZXQuc3RhdHVzLFxuICAgICAgICAgIFwiZmlsZV91cmxcIjogZmlsZVVybFxuICAgICAgICB9O1xuXG4gICAgICBSaXNlVmlzaW9uLkltYWdlLmxvZ0V2ZW50KHBhcmFtcywgdHJ1ZSk7XG4gICAgICBSaXNlVmlzaW9uLkltYWdlLnNob3dFcnJvcihcIlNvcnJ5LCB0aGVyZSB3YXMgYSBwcm9ibGVtIGNvbW11bmljYXRpbmcgd2l0aCBSaXNlIFN0b3JhZ2UuXCIsIHRydWUpO1xuICAgIH0pO1xuXG4gICAgc3RvcmFnZS5hZGRFdmVudExpc3RlbmVyKFwicmlzZS1jYWNoZS1lcnJvclwiLCBmdW5jdGlvbihlKSB7XG4gICAgICB2YXIgZmlsZVVybCA9IChlLmRldGFpbCAmJiBlLmRldGFpbC5yZXF1ZXN0ICYmIGUuZGV0YWlsLnJlcXVlc3QudXJsKSA/IGUuZGV0YWlsLnJlcXVlc3QudXJsIDogbnVsbCxcbiAgICAgICAgcGFyYW1zID0ge1xuICAgICAgICAgIFwiZXZlbnRcIjogXCJlcnJvclwiLFxuICAgICAgICAgIFwiZXZlbnRfZGV0YWlsc1wiOiBcInJpc2UgY2FjaGUgZXJyb3JcIixcbiAgICAgICAgICBcImVycm9yX2RldGFpbHNcIjogZS5kZXRhaWwuZXJyb3IubWVzc2FnZSxcbiAgICAgICAgICBcImZpbGVfdXJsXCI6IGZpbGVVcmxcbiAgICAgICAgfSxcbiAgICAgICAgc3RhdHVzQ29kZSA9IDAsXG4gICAgICAgIGVycm9yTWVzc2FnZTtcblxuICAgICAgLy8gbG9nIHRoZSBlcnJvclxuICAgICAgUmlzZVZpc2lvbi5JbWFnZS5sb2dFdmVudChwYXJhbXMsIHRydWUpO1xuXG4gICAgICBpZiAocmlzZUNhY2hlLmlzVjJSdW5uaW5nKCkpIHtcbiAgICAgICAgZXJyb3JNZXNzYWdlID0gcmlzZUNhY2hlLmdldEVycm9yTWVzc2FnZShzdGF0dXNDb2RlKTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICAvLyBTaG93IGEgZGlmZmVyZW50IG1lc3NhZ2UgaWYgdGhlcmUgaXMgYSA0MDQgY29taW5nIGZyb20gcmlzZSBjYWNoZVxuICAgICAgICBpZihlLmRldGFpbC5lcnJvci5tZXNzYWdlKXtcbiAgICAgICAgICBzdGF0dXNDb2RlID0gK2UuZGV0YWlsLmVycm9yLm1lc3NhZ2Uuc3Vic3RyaW5nKGUuZGV0YWlsLmVycm9yLm1lc3NhZ2UuaW5kZXhPZihcIjpcIikrMik7XG4gICAgICAgIH1cblxuICAgICAgICBlcnJvck1lc3NhZ2UgPSB1dGlscy5nZXRSaXNlQ2FjaGVFcnJvck1lc3NhZ2Uoc3RhdHVzQ29kZSk7XG4gICAgICB9XG5cbiAgICAgIC8vIHNob3cgdGhlIGVycm9yXG4gICAgICBSaXNlVmlzaW9uLkltYWdlLnNob3dFcnJvcihlcnJvck1lc3NhZ2UpO1xuICAgIH0pO1xuXG4gICAgc3RvcmFnZS5hZGRFdmVudExpc3RlbmVyKFwicmlzZS1jYWNoZS1ub3QtcnVubmluZ1wiLCBmdW5jdGlvbihlKSB7XG5cbiAgICAgIHZhciBwYXJhbXMgPSB7XG4gICAgICAgIFwiZXZlbnRcIjogXCJlcnJvclwiLFxuICAgICAgICBcImV2ZW50X2RldGFpbHNcIjogXCJyaXNlIGNhY2hlIG5vdCBydW5uaW5nXCIsXG4gICAgICAgIFwiZXJyb3JfZGV0YWlsc1wiOiAoZS5kZXRhaWwgJiYgZS5kZXRhaWwuZXJyb3IpPyBlLmRldGFpbC5lcnJvci5tZXNzYWdlOiBcIlwiXG4gICAgICB9O1xuXG4gICAgICBSaXNlVmlzaW9uLkltYWdlLmxvZ0V2ZW50KHBhcmFtcywgdHJ1ZSk7XG4gICAgfSk7XG5cbiAgICBzdG9yYWdlLmFkZEV2ZW50TGlzdGVuZXIoXCJyaXNlLWNhY2hlLWZpbGUtdW5hdmFpbGFibGVcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgUmlzZVZpc2lvbi5JbWFnZS5vbkZpbGVVbmF2YWlsYWJsZShcIkZpbGUgaXMgZG93bmxvYWRpbmdcIik7XG4gICAgfSk7XG5cbiAgICBzdG9yYWdlLnNldEF0dHJpYnV0ZShcImZvbGRlclwiLCBwYXJhbXMuc3RvcmFnZS5mb2xkZXIpO1xuICAgIHN0b3JhZ2Uuc2V0QXR0cmlidXRlKFwiZmlsZU5hbWVcIiwgcGFyYW1zLnN0b3JhZ2UuZmlsZU5hbWUpO1xuICAgIHN0b3JhZ2Uuc2V0QXR0cmlidXRlKFwiY29tcGFueUlkXCIsIHBhcmFtcy5zdG9yYWdlLmNvbXBhbnlJZCk7XG4gICAgc3RvcmFnZS5zZXRBdHRyaWJ1dGUoXCJlbnZcIiwgY29uZmlnLlNUT1JBR0VfRU5WKTtcbiAgICBzdG9yYWdlLmdvKCk7XG4gIH1cblxuICBmdW5jdGlvbiByZXRyeSgpIHtcbiAgICB2YXIgc3RvcmFnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJyaXNlLXN0b3JhZ2VcIik7XG5cbiAgICBpZiAoIXN0b3JhZ2UpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBzdG9yYWdlLmdvKCk7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIFwiaW5pdFwiOiBpbml0LFxuICAgIFwicmV0cnlcIjogcmV0cnlcbiAgfTtcbn07XG5cbi8qIGdsb2JhbCBjb25maWcsIF8gKi9cblxudmFyIFJpc2VWaXNpb24gPSBSaXNlVmlzaW9uIHx8IHt9O1xuUmlzZVZpc2lvbi5JbWFnZSA9IFJpc2VWaXNpb24uSW1hZ2UgfHwge307XG5cblJpc2VWaXNpb24uSW1hZ2UuU3RvcmFnZUZvbGRlciA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuXG4gIHZhciB1dGlscyA9IFJpc2VWaXNpb24uQ29tbW9uLlV0aWxpdGllcyxcbiAgICByaXNlQ2FjaGUgPSBSaXNlVmlzaW9uLkNvbW1vbi5SaXNlQ2FjaGU7XG5cbiAgdmFyIF9pc0xvYWRpbmcgPSB0cnVlLFxuICAgIF9maWxlcyA9IFtdLFxuICAgIF90aW1lciA9IG51bGw7XG5cbiAgZnVuY3Rpb24gcHJvY2Vzc1VybChlKSB7XG4gICAgdmFyIGZpbGU7XG5cbiAgICBpZiAoZS5kZXRhaWwpIHtcblxuICAgICAgLy8gSW1hZ2UgaGFzIGJlZW4gYWRkZWQuXG4gICAgICBpZiAoZS5kZXRhaWwuYWRkZWQpIHtcbiAgICAgICAgX2ZpbGVzLnB1c2goe1xuICAgICAgICAgIFwibmFtZVwiOiBlLmRldGFpbC5uYW1lLFxuICAgICAgICAgIFwidXJsXCI6IGUuZGV0YWlsLnVybFxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgLy8gSW1hZ2UgaGFzIGJlZW4gY2hhbmdlZC5cbiAgICAgIGlmIChlLmRldGFpbC5jaGFuZ2VkKSB7XG4gICAgICAgIGZpbGUgPSBfLmZpbmQoX2ZpbGVzLCBmdW5jdGlvbiAoZmlsZSkge1xuICAgICAgICAgIHJldHVybiBmaWxlLm5hbWUgPT09IGUuZGV0YWlsLm5hbWU7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGZpbGUudXJsID0gZS5kZXRhaWwudXJsO1xuICAgICAgfVxuXG4gICAgICAvLyBJbWFnZSBoYXMgYmVlbiBkZWxldGVkLlxuICAgICAgaWYgKGUuZGV0YWlsLmRlbGV0ZWQpIHtcbiAgICAgICAgX2ZpbGVzID0gXy5yZWplY3QoX2ZpbGVzLCBmdW5jdGlvbihmaWxlKSB7XG4gICAgICAgICAgcmV0dXJuIGZpbGUubmFtZSA9PT0gZS5kZXRhaWwubmFtZTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgX2ZpbGVzID0gXy5zb3J0QnkoX2ZpbGVzLCBmdW5jdGlvbihmaWxlKSB7XG4gICAgICByZXR1cm4gZmlsZS5uYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBoYW5kbGVSZXNwb25zZShlKSB7XG4gICAgcHJvY2Vzc1VybChlKTtcblxuICAgIC8vIEltYWdlIGhhcyBiZWVuIGFkZGVkLlxuICAgIGlmIChlLmRldGFpbC5hZGRlZCkge1xuICAgICAgaWYgKF9pc0xvYWRpbmcpIHtcbiAgICAgICAgLy8gTmVlZCB0byB3YWl0IGZvciBhdCBsZWFzdCAyIGltYWdlcyB0byBsb2FkIGJlZm9yZSBpbml0aWFsaXppbmcgdGhlIHNsaWRlci5cbiAgICAgICAgLy8gT3RoZXJ3aXNlLCB0aGUgcmV2b2x1dGlvbi5zbGlkZS5vbmNoYW5nZSBldmVudCB3aWxsIG5ldmVyIGZpcmUsIGFuZCB0aGlzIGV2ZW50IGlzIHVzZWRcbiAgICAgICAgLy8gdG8gY2hlY2sgd2hldGhlciBvciBub3QgdGhlIHNsaWRlciBzaG91bGQgcmVmcmVzaC5cbiAgICAgICAgaWYgKF9maWxlcy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgX2lzTG9hZGluZyA9IGZhbHNlO1xuXG4gICAgICAgICAgY2xlYXJUaW1lb3V0KF90aW1lcik7XG4gICAgICAgICAgUmlzZVZpc2lvbi5JbWFnZS5vbkZpbGVJbml0KF9maWxlcyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gU2V0IGEgdGltZW91dCBpbiBjYXNlIHRoZXJlIGlzIG9ubHkgb25lIGltYWdlIGluIHRoZSBmb2xkZXIuXG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIF90aW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBfaXNMb2FkaW5nID0gZmFsc2U7XG4gICAgICAgICAgICBSaXNlVmlzaW9uLkltYWdlLm9uRmlsZUluaXQoX2ZpbGVzKTtcbiAgICAgICAgICB9LCA1MDAwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBVbmNoYW5nZWRcbiAgICBpZiAoZS5kZXRhaWwuaGFzT3duUHJvcGVydHkoXCJjaGFuZ2VkXCIpICYmICFlLmRldGFpbC5jaGFuZ2VkKSB7XG4gICAgICAvLyBpbiB0aGUgZXZlbnQgb2YgYSBuZXR3b3JrIGZhaWx1cmUgYW5kIHJlY292ZXJ5LCBjaGVjayBpZiB0aGUgV2lkZ2V0IGlzIGluIGEgc3RhdGUgb2Ygc3RvcmFnZSBlcnJvclxuICAgICAgaWYgKCFSaXNlVmlzaW9uLkltYWdlLmhhc1N0b3JhZ2VFcnJvcigpKSB7XG4gICAgICAgIC8vIG9ubHkgcHJvY2VlZCB3aXRoIHJlZnJlc2ggbG9naWMgYmVsb3cgaWYgdGhlcmUncyBiZWVuIGEgc3RvcmFnZSBlcnJvciwgb3RoZXJ3aXNlIGRvIG5vdGhpbmdcbiAgICAgICAgLy8gdGhpcyBpcyBzbyB0aGUgV2lkZ2V0IGNhbiBldmVudHVhbGx5IHBsYXkgc2xpZGVzaG93IGFnYWluIGZyb20gYSBuZXR3b3JrIHJlY292ZXJ5XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBSaXNlVmlzaW9uLkltYWdlLm9uRmlsZVJlZnJlc2goX2ZpbGVzKTtcbiAgfVxuXG4gIC8qXG4gICAqICBQdWJsaWMgTWV0aG9kc1xuICAgKi9cbiAgZnVuY3Rpb24gaW5pdCgpIHtcbiAgICB2YXIgc3RvcmFnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJyaXNlLXN0b3JhZ2VcIik7XG5cbiAgICBzdG9yYWdlLmFkZEV2ZW50TGlzdGVuZXIoXCJyaXNlLXN0b3JhZ2UtcmVzcG9uc2VcIiwgaGFuZGxlUmVzcG9uc2UpO1xuXG4gICAgc3RvcmFnZS5hZGRFdmVudExpc3RlbmVyKFwicmlzZS1zdG9yYWdlLWFwaS1lcnJvclwiLCBmdW5jdGlvbihlKSB7XG4gICAgICB2YXIgcGFyYW1zID0ge1xuICAgICAgICBcImV2ZW50XCI6IFwiZXJyb3JcIixcbiAgICAgICAgXCJldmVudF9kZXRhaWxzXCI6IFwic3RvcmFnZSBhcGkgZXJyb3JcIixcbiAgICAgICAgXCJlcnJvcl9kZXRhaWxzXCI6IFwiUmVzcG9uc2UgY29kZTogXCIgKyBlLmRldGFpbC5jb2RlICsgXCIsIG1lc3NhZ2U6IFwiICsgZS5kZXRhaWwubWVzc2FnZVxuICAgICAgfTtcblxuICAgICAgUmlzZVZpc2lvbi5JbWFnZS5sb2dFdmVudChwYXJhbXMsIHRydWUpO1xuICAgICAgUmlzZVZpc2lvbi5JbWFnZS5zaG93RXJyb3IoXCJTb3JyeSwgdGhlcmUgd2FzIGEgcHJvYmxlbSBjb21tdW5pY2F0aW5nIHdpdGggUmlzZSBTdG9yYWdlLlwiKTtcbiAgICB9KTtcblxuICAgIHN0b3JhZ2UuYWRkRXZlbnRMaXN0ZW5lcihcInJpc2Utc3RvcmFnZS1lbXB0eS1mb2xkZXJcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHBhcmFtcyA9IHtcbiAgICAgICAgXCJldmVudFwiOiBcImVycm9yXCIsXG4gICAgICAgIFwiZXZlbnRfZGV0YWlsc1wiOiBcInN0b3JhZ2UgZm9sZGVyIGVtcHR5XCJcbiAgICAgIH07XG5cbiAgICAgIFJpc2VWaXNpb24uSW1hZ2UubG9nRXZlbnQocGFyYW1zLCB0cnVlKTtcbiAgICAgIFJpc2VWaXNpb24uSW1hZ2Uuc2hvd0Vycm9yKFwiVGhlIHNlbGVjdGVkIGZvbGRlciBkb2VzIG5vdCBjb250YWluIGFueSBpbWFnZXMuXCIpO1xuICAgIH0pO1xuXG4gICAgc3RvcmFnZS5hZGRFdmVudExpc3RlbmVyKFwicmlzZS1zdG9yYWdlLW5vLWZvbGRlclwiLCBmdW5jdGlvbiAoZSkge1xuICAgICAgdmFyIHBhcmFtcyA9IHtcbiAgICAgICAgXCJldmVudFwiOiBcImVycm9yXCIsXG4gICAgICAgIFwiZXZlbnRfZGV0YWlsc1wiOiBcInN0b3JhZ2UgZm9sZGVyIGRvZXNuJ3QgZXhpc3RcIixcbiAgICAgICAgXCJlcnJvcl9kZXRhaWxzXCI6IGUuZGV0YWlsXG4gICAgICB9O1xuXG4gICAgICBSaXNlVmlzaW9uLkltYWdlLmxvZ0V2ZW50KHBhcmFtcywgdHJ1ZSk7XG4gICAgICBSaXNlVmlzaW9uLkltYWdlLnNob3dFcnJvcihcIlRoZSBzZWxlY3RlZCBmb2xkZXIgZG9lcyBub3QgZXhpc3Qgb3IgaGFzIGJlZW4gbW92ZWQgdG8gVHJhc2guXCIpO1xuICAgIH0pO1xuXG5cbiAgICBzdG9yYWdlLmFkZEV2ZW50TGlzdGVuZXIoXCJyaXNlLXN0b3JhZ2UtZm9sZGVyLWludmFsaWRcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHBhcmFtcyA9IHtcbiAgICAgICAgXCJldmVudFwiOiBcImVycm9yXCIsXG4gICAgICAgIFwiZXZlbnRfZGV0YWlsc1wiOiBcInN0b3JhZ2UgZm9sZGVyIGZvcm1hdChzKSBpbnZhbGlkXCJcbiAgICAgIH07XG5cbiAgICAgIFJpc2VWaXNpb24uSW1hZ2UubG9nRXZlbnQocGFyYW1zLCB0cnVlKTtcbiAgICAgIFJpc2VWaXNpb24uSW1hZ2Uuc2hvd0Vycm9yKFwiVGhlIHNlbGVjdGVkIGZvbGRlciBkb2VzIG5vdCBjb250YWluIGFueSBzdXBwb3J0ZWQgaW1hZ2UgZm9ybWF0cy5cIik7XG4gICAgfSk7XG5cbiAgICBzdG9yYWdlLmFkZEV2ZW50TGlzdGVuZXIoXCJyaXNlLXN0b3JhZ2Utc3Vic2NyaXB0aW9uLWV4cGlyZWRcIiwgZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgcGFyYW1zID0ge1xuICAgICAgICBcImV2ZW50XCI6IFwiZXJyb3JcIixcbiAgICAgICAgXCJldmVudF9kZXRhaWxzXCI6IFwic3RvcmFnZSBzdWJzY3JpcHRpb24gZXhwaXJlZFwiXG4gICAgICB9O1xuXG4gICAgICBSaXNlVmlzaW9uLkltYWdlLmxvZ0V2ZW50KHBhcmFtcywgdHJ1ZSk7XG4gICAgICBSaXNlVmlzaW9uLkltYWdlLnNob3dFcnJvcihcIlJpc2UgU3RvcmFnZSBzdWJzY3JpcHRpb24gaXMgbm90IGFjdGl2ZS5cIik7XG4gICAgfSk7XG5cbiAgICBzdG9yYWdlLmFkZEV2ZW50TGlzdGVuZXIoXCJyaXNlLXN0b3JhZ2UtZXJyb3JcIiwgZnVuY3Rpb24oZSkge1xuICAgICAgdmFyIHBhcmFtcyA9IHtcbiAgICAgICAgXCJldmVudFwiOiBcInJpc2Ugc3RvcmFnZSBlcnJvclwiLFxuICAgICAgICBcImV2ZW50X2RldGFpbHNcIjogXCJUaGUgcmVxdWVzdCBmYWlsZWQgd2l0aCBzdGF0dXMgY29kZTogXCIgKyBlLmRldGFpbC5lcnJvci5jdXJyZW50VGFyZ2V0LnN0YXR1c1xuICAgICAgfTtcblxuICAgICAgUmlzZVZpc2lvbi5JbWFnZS5sb2dFdmVudChwYXJhbXMsIHRydWUpO1xuICAgICAgUmlzZVZpc2lvbi5JbWFnZS5zaG93RXJyb3IoXCJTb3JyeSwgdGhlcmUgd2FzIGEgcHJvYmxlbSBjb21tdW5pY2F0aW5nIHdpdGggUmlzZSBTdG9yYWdlLlwiLCB0cnVlKTtcbiAgICB9KTtcblxuICAgIHN0b3JhZ2UuYWRkRXZlbnRMaXN0ZW5lcihcInJpc2UtY2FjaGUtZXJyb3JcIiwgZnVuY3Rpb24oZSkge1xuICAgICAgdmFyIHBhcmFtcyA9IHtcbiAgICAgICAgXCJldmVudFwiOiBcInJpc2UgY2FjaGUgZXJyb3JcIixcbiAgICAgICAgXCJldmVudF9kZXRhaWxzXCI6IGUuZGV0YWlsLmVycm9yLm1lc3NhZ2VcbiAgICAgIH0sXG4gICAgICAgIHN0YXR1c0NvZGUgPSAwLFxuICAgICAgICBlcnJvck1lc3NhZ2U7XG5cbiAgICAgIFJpc2VWaXNpb24uSW1hZ2UubG9nRXZlbnQocGFyYW1zLCB0cnVlKTtcblxuICAgICAgaWYgKHJpc2VDYWNoZS5pc1YyUnVubmluZygpKSB7XG4gICAgICAgIGVycm9yTWVzc2FnZSA9IHJpc2VDYWNoZS5nZXRFcnJvck1lc3NhZ2Uoc3RhdHVzQ29kZSk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgLy8gU2hvdyBhIGRpZmZlcmVudCBtZXNzYWdlIGlmIHRoZXJlIGlzIGEgNDA0IGNvbWluZyBmcm9tIHJpc2UgY2FjaGVcbiAgICAgICAgaWYoZS5kZXRhaWwuZXJyb3IubWVzc2FnZSl7XG4gICAgICAgICAgc3RhdHVzQ29kZSA9ICtlLmRldGFpbC5lcnJvci5tZXNzYWdlLnN1YnN0cmluZyhlLmRldGFpbC5lcnJvci5tZXNzYWdlLmluZGV4T2YoXCI6XCIpKzIpO1xuICAgICAgICB9XG5cbiAgICAgICAgZXJyb3JNZXNzYWdlID0gdXRpbHMuZ2V0UmlzZUNhY2hlRXJyb3JNZXNzYWdlKHN0YXR1c0NvZGUpO1xuICAgICAgfVxuXG4gICAgICBSaXNlVmlzaW9uLkltYWdlLnNob3dFcnJvcihlcnJvck1lc3NhZ2UpO1xuICAgIH0pO1xuXG4gICAgc3RvcmFnZS5hZGRFdmVudExpc3RlbmVyKFwicmlzZS1jYWNoZS1ub3QtcnVubmluZ1wiLCBmdW5jdGlvbihlKSB7XG5cbiAgICAgIHZhciBwYXJhbXMgPSB7XG4gICAgICAgIFwiZXZlbnRcIjogXCJlcnJvclwiLFxuICAgICAgICBcImV2ZW50X2RldGFpbHNcIjogXCJyaXNlIGNhY2hlIG5vdCBydW5uaW5nXCIsXG4gICAgICAgIFwiZXJyb3JfZGV0YWlsc1wiOiAoZS5kZXRhaWwgJiYgZS5kZXRhaWwuZXJyb3IpPyBlLmRldGFpbC5lcnJvci5tZXNzYWdlOiBcIlwiXG4gICAgICB9O1xuXG4gICAgICBSaXNlVmlzaW9uLkltYWdlLmxvZ0V2ZW50KHBhcmFtcywgdHJ1ZSk7XG4gICAgfSk7XG5cbiAgICBzdG9yYWdlLnNldEF0dHJpYnV0ZShcImZpbGVUeXBlXCIsIFwiaW1hZ2VcIik7XG4gICAgc3RvcmFnZS5zZXRBdHRyaWJ1dGUoXCJjb21wYW55SWRcIiwgZGF0YS5zdG9yYWdlLmNvbXBhbnlJZCk7XG4gICAgc3RvcmFnZS5zZXRBdHRyaWJ1dGUoXCJmb2xkZXJcIiwgZGF0YS5zdG9yYWdlLmZvbGRlcik7XG4gICAgc3RvcmFnZS5zZXRBdHRyaWJ1dGUoXCJlbnZcIiwgY29uZmlnLlNUT1JBR0VfRU5WKTtcblxuICAgIHN0b3JhZ2UuZ28oKTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgXCJpbml0XCI6IGluaXRcbiAgfTtcbn07XG5cbnZhciBSaXNlVmlzaW9uID0gUmlzZVZpc2lvbiB8fCB7fTtcblJpc2VWaXNpb24uSW1hZ2UgPSBSaXNlVmlzaW9uLkltYWdlIHx8IHt9O1xuXG5SaXNlVmlzaW9uLkltYWdlLk5vblN0b3JhZ2UgPSBmdW5jdGlvbiAoZGF0YSkge1xuICBcInVzZSBzdHJpY3RcIjtcblxuICB2YXIgcmlzZUNhY2hlID0gUmlzZVZpc2lvbi5Db21tb24uUmlzZUNhY2hlLFxuICAgIHV0aWxzID0gUmlzZVZpc2lvbi5Db21tb24uVXRpbGl0aWVzO1xuXG4gIHZhciBfcmVmcmVzaER1cmF0aW9uID0gMzAwMDAwLCAgLy8gNSBtaW51dGVzXG4gICAgX3JlZnJlc2hJbnRlcnZhbElkID0gbnVsbDtcblxuICB2YXIgX2lzTG9hZGluZyA9IHRydWU7XG5cbiAgdmFyIF91cmwgPSBcIlwiO1xuXG4gIGZ1bmN0aW9uIF9nZXRGaWxlKG9taXRDYWNoZUJ1c3Rlcikge1xuICAgIHZhciBwYXJhbXM7XG5cbiAgICByaXNlQ2FjaGUuZ2V0RmlsZShfdXJsLCBmdW5jdGlvbiAocmVzcG9uc2UsIGVycm9yKSB7XG4gICAgICB2YXIgc3RhdHVzQ29kZSA9IDAsXG4gICAgICAgIGVycm9yTWVzc2FnZTtcblxuICAgICAgaWYgKCFlcnJvcikge1xuXG4gICAgICAgIGlmIChfaXNMb2FkaW5nKSB7XG4gICAgICAgICAgX2lzTG9hZGluZyA9IGZhbHNlO1xuXG4gICAgICAgICAgUmlzZVZpc2lvbi5JbWFnZS5vbkZpbGVJbml0KHJlc3BvbnNlLnVybCk7XG5cbiAgICAgICAgICAvLyBzdGFydCB0aGUgcmVmcmVzaCBpbnRlcnZhbFxuICAgICAgICAgIF9zdGFydFJlZnJlc2hJbnRlcnZhbCgpO1xuXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgUmlzZVZpc2lvbi5JbWFnZS5vbkZpbGVSZWZyZXNoKHJlc3BvbnNlLnVybCk7XG4gICAgICAgIH1cblxuICAgICAgfSBlbHNlIHtcblxuICAgICAgICBpZiAoZXJyb3IubWVzc2FnZSAmJiBlcnJvci5tZXNzYWdlID09PSBcIkZpbGUgaXMgZG93bmxvYWRpbmdcIikge1xuICAgICAgICAgIFJpc2VWaXNpb24uSW1hZ2Uub25GaWxlVW5hdmFpbGFibGUoZXJyb3IubWVzc2FnZSk7ICBcbiAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgIC8vIGVycm9yIG9jY3VycmVkXG4gICAgICAgICAgcGFyYW1zID0ge1xuICAgICAgICAgICAgXCJldmVudFwiOiBcImVycm9yXCIsXG4gICAgICAgICAgICBcImV2ZW50X2RldGFpbHNcIjogXCJub24tc3RvcmFnZSBlcnJvclwiLFxuICAgICAgICAgICAgXCJlcnJvcl9kZXRhaWxzXCI6IGVycm9yLm1lc3NhZ2UsXG4gICAgICAgICAgICBcImZpbGVfdXJsXCI6IHJlc3BvbnNlLnVybFxuICAgICAgICAgIH07XG5cbiAgICAgICAgICBSaXNlVmlzaW9uLkltYWdlLmxvZ0V2ZW50KHBhcmFtcywgdHJ1ZSk7XG5cbiAgICAgICAgICBpZiAocmlzZUNhY2hlLmlzVjJSdW5uaW5nKCkpIHtcbiAgICAgICAgICAgIGVycm9yTWVzc2FnZSA9IHJpc2VDYWNoZS5nZXRFcnJvck1lc3NhZ2Uoc3RhdHVzQ29kZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gU2hvdyBhIGRpZmZlcmVudCBtZXNzYWdlIGlmIHRoZXJlIGlzIGEgNDA0IGNvbWluZyBmcm9tIHJpc2UgY2FjaGVcbiAgICAgICAgICAgIGlmKGVycm9yLm1lc3NhZ2Upe1xuICAgICAgICAgICAgICBzdGF0dXNDb2RlID0gK2Vycm9yLm1lc3NhZ2Uuc3Vic3RyaW5nKGVycm9yLm1lc3NhZ2UuaW5kZXhPZihcIjpcIikrMik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGVycm9yTWVzc2FnZSA9IHV0aWxzLmdldFJpc2VDYWNoZUVycm9yTWVzc2FnZShzdGF0dXNDb2RlKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBSaXNlVmlzaW9uLkltYWdlLnNob3dFcnJvcihlcnJvck1lc3NhZ2UpOyAgXG4gICAgICAgIH0gICAgICAgIFxuICAgICAgfVxuICAgIH0sIG9taXRDYWNoZUJ1c3Rlcik7XG4gIH1cblxuICBmdW5jdGlvbiBfc3RhcnRSZWZyZXNoSW50ZXJ2YWwoKSB7XG4gICAgaWYgKF9yZWZyZXNoSW50ZXJ2YWxJZCA9PT0gbnVsbCkge1xuICAgICAgX3JlZnJlc2hJbnRlcnZhbElkID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkge1xuICAgICAgICBfZ2V0RmlsZSh0cnVlKTtcbiAgICAgIH0sIF9yZWZyZXNoRHVyYXRpb24pO1xuICAgIH1cbiAgfVxuXG4gIC8qXG4gICAqICBQdWJsaWMgTWV0aG9kc1xuICAgKi9cbiAgZnVuY3Rpb24gaW5pdCgpIHtcbiAgICAvLyBIYW5kbGUgcHJlLW1lcmdlIHVzZSBvZiBcInVybFwiIHNldHRpbmcgcHJvcGVydHlcbiAgICBfdXJsID0gKGRhdGEudXJsICYmIGRhdGEudXJsICE9PSBcIlwiKSA/IGRhdGEudXJsIDogZGF0YS5zZWxlY3Rvci51cmw7XG5cbiAgICBfdXJsID0gdXRpbHMuYWRkUHJvdG9jb2woX3VybCk7XG5cbiAgICBfZ2V0RmlsZSh0cnVlKTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgXCJpbml0XCI6IGluaXRcbiAgfTtcbn07XG5cbi8qIGdsb2JhbCBSaXNlVmlzaW9uLCBnYWRnZXRzLCBjb25maWcgKi9cbihmdW5jdGlvbiAod2luZG93LCBkb2N1bWVudCwgZ2FkZ2V0cykge1xuICBcInVzZSBzdHJpY3RcIjtcblxuICB2YXIgaWQgPSBuZXcgZ2FkZ2V0cy5QcmVmcygpLmdldFN0cmluZyhcImlkXCIpO1xuXG4gIHdpbmRvdy5vbmNvbnRleHRtZW51ID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfTtcblxuICBkb2N1bWVudC5ib2R5Lm9ubW91c2Vkb3duID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9O1xuXG4gIGZ1bmN0aW9uIGNvbmZpZ3VyZShuYW1lcywgdmFsdWVzKSB7XG4gICAgdmFyIGFkZGl0aW9uYWxQYXJhbXMsIG1vZGUsXG4gICAgICBjb21wYW55SWQgPSBcIlwiLFxuICAgICAgZGlzcGxheUlkID0gXCJcIjtcblxuICAgIGlmIChBcnJheS5pc0FycmF5KG5hbWVzKSAmJiBuYW1lcy5sZW5ndGggPiAwICYmIEFycmF5LmlzQXJyYXkodmFsdWVzKSAmJiB2YWx1ZXMubGVuZ3RoID4gMCkge1xuICAgICAgLy8gY29tcGFueSBpZFxuICAgICAgaWYgKG5hbWVzWzBdID09PSBcImNvbXBhbnlJZFwiKSB7XG4gICAgICAgIGNvbXBhbnlJZCA9IHZhbHVlc1swXTtcbiAgICAgIH1cblxuICAgICAgLy8gZGlzcGxheSBpZFxuICAgICAgaWYgKG5hbWVzWzFdID09PSBcImRpc3BsYXlJZFwiKSB7XG4gICAgICAgIGlmICh2YWx1ZXNbMV0pIHtcbiAgICAgICAgICBkaXNwbGF5SWQgPSB2YWx1ZXNbMV07XG4gICAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICAgIGRpc3BsYXlJZCA9IFwicHJldmlld1wiO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIHByb3ZpZGUgTG9nZ2VyVXRpbHMgdGhlIGlkcyB0byB1c2VcbiAgICAgIFJpc2VWaXNpb24uQ29tbW9uLkxvZ2dlclV0aWxzLnNldElkcyhjb21wYW55SWQsIGRpc3BsYXlJZCk7XG5cbiAgICAgIC8vIGFkZGl0aW9uYWwgcGFyYW1zXG4gICAgICBpZiAobmFtZXNbMl0gPT09IFwiYWRkaXRpb25hbFBhcmFtc1wiKSB7XG4gICAgICAgIGFkZGl0aW9uYWxQYXJhbXMgPSBKU09OLnBhcnNlKHZhbHVlc1syXSk7XG5cbiAgICAgICAgaWYgKE9iamVjdC5rZXlzKGFkZGl0aW9uYWxQYXJhbXMuc3RvcmFnZSkubGVuZ3RoICE9PSAwKSB7XG4gICAgICAgICAgLy8gc3RvcmFnZSBmaWxlIG9yIGZvbGRlciBzZWxlY3RlZFxuICAgICAgICAgIGlmICghYWRkaXRpb25hbFBhcmFtcy5zdG9yYWdlLmZpbGVOYW1lKSB7XG4gICAgICAgICAgICAvLyBmb2xkZXIgd2FzIHNlbGVjdGVkXG4gICAgICAgICAgICBtb2RlID0gXCJmb2xkZXJcIjtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gZmlsZSB3YXMgc2VsZWN0ZWRcbiAgICAgICAgICAgIG1vZGUgPSBcImZpbGVcIjtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gbm9uLXN0b3JhZ2UgZmlsZSB3YXMgc2VsZWN0ZWRcbiAgICAgICAgICBtb2RlID0gXCJmaWxlXCI7XG4gICAgICAgIH1cblxuICAgICAgICBSaXNlVmlzaW9uLkltYWdlLnNldEFkZGl0aW9uYWxQYXJhbXMoYWRkaXRpb25hbFBhcmFtcywgbW9kZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcGF1c2UoKSB7XG4gICAgUmlzZVZpc2lvbi5JbWFnZS5wYXVzZSgpO1xuICB9XG5cbiAgZnVuY3Rpb24gcGxheSgpIHtcbiAgICBSaXNlVmlzaW9uLkltYWdlLnBsYXkoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHN0b3AoKSB7XG4gICAgUmlzZVZpc2lvbi5JbWFnZS5zdG9wKCk7XG4gIH1cblxuICBmdW5jdGlvbiBpbml0KCkge1xuICAgIGlmIChpZCAmJiBpZCAhPT0gXCJcIikge1xuICAgICAgZ2FkZ2V0cy5ycGMucmVnaXN0ZXIoXCJyc2NtZF9wbGF5X1wiICsgaWQsIHBsYXkpO1xuICAgICAgZ2FkZ2V0cy5ycGMucmVnaXN0ZXIoXCJyc2NtZF9wYXVzZV9cIiArIGlkLCBwYXVzZSk7XG4gICAgICBnYWRnZXRzLnJwYy5yZWdpc3RlcihcInJzY21kX3N0b3BfXCIgKyBpZCwgc3RvcCk7XG4gICAgICBnYWRnZXRzLnJwYy5yZWdpc3RlcihcInJzcGFyYW1fc2V0X1wiICsgaWQsIGNvbmZpZ3VyZSk7XG4gICAgICBnYWRnZXRzLnJwYy5jYWxsKFwiXCIsIFwicnNwYXJhbV9nZXRcIiwgbnVsbCwgaWQsIFtcImNvbXBhbnlJZFwiLCBcImRpc3BsYXlJZFwiLCBcImFkZGl0aW9uYWxQYXJhbXNcIl0pO1xuICAgIH1cbiAgfVxuXG4gIC8vIGNoZWNrIHdoaWNoIHZlcnNpb24gb2YgUmlzZSBDYWNoZSBpcyBydW5uaW5nIGFuZCBkeW5hbWljYWxseSBhZGQgcmlzZS1zdG9yYWdlIGRlcGVuZGVuY2llc1xuICBSaXNlVmlzaW9uLkNvbW1vbi5SaXNlQ2FjaGUuaXNWMlJ1bm5pbmcoZnVuY3Rpb24gKGlzVjIpIHtcbiAgICB2YXIgZnJhZ21lbnQgPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCksXG4gICAgICBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpbmtcIiksXG4gICAgICB3ZWJjb21wb25lbnRzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKSxcbiAgICAgIGhyZWYgPSBjb25maWcuQ09NUE9ORU5UU19QQVRIICsgKChpc1YyKSA/IFwicmlzZS1zdG9yYWdlLXYyXCIgOiBcInJpc2Utc3RvcmFnZVwiKSArIFwiL3Jpc2Utc3RvcmFnZS5odG1sXCIsXG4gICAgICBzdG9yYWdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInJpc2Utc3RvcmFnZVwiKSxcbiAgICAgIHN0b3JhZ2VSZWFkeSA9IGZhbHNlLFxuICAgICAgcG9seW1lclJlYWR5ID0gZmFsc2U7XG5cbiAgICBmdW5jdGlvbiBvblBvbHltZXJSZWFkeSgpIHtcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwiV2ViQ29tcG9uZW50c1JlYWR5XCIsIG9uUG9seW1lclJlYWR5KTtcbiAgICAgIHBvbHltZXJSZWFkeSA9IHRydWU7XG5cbiAgICAgIGlmIChzdG9yYWdlUmVhZHkgJiYgcG9seW1lclJlYWR5KSB7XG4gICAgICAgIGluaXQoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBvblN0b3JhZ2VSZWFkeSgpIHtcbiAgICAgIHN0b3JhZ2UucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInJpc2Utc3RvcmFnZS1yZWFkeVwiLCBvblN0b3JhZ2VSZWFkeSk7XG4gICAgICBzdG9yYWdlUmVhZHkgPSB0cnVlO1xuXG4gICAgICBpZiAoc3RvcmFnZVJlYWR5ICYmIHBvbHltZXJSZWFkeSkge1xuICAgICAgICBpbml0KCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgd2ViY29tcG9uZW50cy5zcmMgPSBjb25maWcuQ09NUE9ORU5UU19QQVRIICsgXCJ3ZWJjb21wb25lbnRzanMvd2ViY29tcG9uZW50cy1saXRlLm1pbi5qc1wiO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwiV2ViQ29tcG9uZW50c1JlYWR5XCIsIG9uUG9seW1lclJlYWR5KTtcblxuICAgIC8vIGFkZCB0aGUgd2ViY29tcG9uZW50cyBwb2x5ZmlsbCBzb3VyY2UgdG8gdGhlIGRvY3VtZW50IGhlYWRcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImhlYWRcIilbMF0uYXBwZW5kQ2hpbGQod2ViY29tcG9uZW50cyk7XG5cbiAgICBsaW5rLnNldEF0dHJpYnV0ZShcInJlbFwiLCBcImltcG9ydFwiKTtcbiAgICBsaW5rLnNldEF0dHJpYnV0ZShcImhyZWZcIiwgaHJlZik7XG5cbiAgICAvLyBhZGQgdGhlIHJpc2Utc3RvcmFnZSA8bGluaz4gZWxlbWVudCB0byBkb2N1bWVudCBoZWFkXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJoZWFkXCIpWzBdLmFwcGVuZENoaWxkKGxpbmspO1xuXG4gICAgc3RvcmFnZS5zZXRBdHRyaWJ1dGUoXCJyZWZyZXNoXCIsIDUpO1xuXG4gICAgaWYgKGlzVjIpIHtcbiAgICAgIHN0b3JhZ2Uuc2V0QXR0cmlidXRlKFwidXNhZ2VcIiwgXCJ3aWRnZXRcIik7XG4gICAgfVxuXG4gICAgc3RvcmFnZS5hZGRFdmVudExpc3RlbmVyKFwicmlzZS1zdG9yYWdlLXJlYWR5XCIsIG9uU3RvcmFnZVJlYWR5KTtcbiAgICBmcmFnbWVudC5hcHBlbmRDaGlsZChzdG9yYWdlKTtcblxuICAgIC8vIGFkZCB0aGUgPHJpc2Utc3RvcmFnZT4gZWxlbWVudCB0byB0aGUgYm9keVxuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZnJhZ21lbnQpO1xuICB9KTtcblxufSkod2luZG93LCBkb2N1bWVudCwgZ2FkZ2V0cyk7XG5cbi8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbnZhciBfZ2FxID0gX2dhcSB8fCBbXTtcblxuX2dhcS5wdXNoKFsnX3NldEFjY291bnQnLCAnVUEtNTcwOTIxNTktMyddKTtcbl9nYXEucHVzaChbJ190cmFja1BhZ2V2aWV3J10pO1xuXG4oZnVuY3Rpb24oKSB7XG4gIHZhciBnYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpOyBnYS50eXBlID0gJ3RleHQvamF2YXNjcmlwdCc7IGdhLmFzeW5jID0gdHJ1ZTtcbiAgZ2Euc3JjID0gKCdodHRwczonID09IGRvY3VtZW50LmxvY2F0aW9uLnByb3RvY29sID8gJ2h0dHBzOi8vc3NsJyA6ICdodHRwOi8vd3d3JykgKyAnLmdvb2dsZS1hbmFseXRpY3MuY29tL2dhLmpzJztcbiAgdmFyIHMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnc2NyaXB0JylbMF07IHMucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZ2EsIHMpO1xufSkoKTtcbi8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4iXX0=
