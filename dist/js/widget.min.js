"undefined"!=typeof angular&&(angular.module("risevision.common.i18n.config",[]).constant("LOCALES_PREFIX","components/rv-common-i18n/dist/locales/translation_").constant("LOCALES_SUFIX",".json"),angular.module("risevision.widget.common.storage-selector.config").value("STORAGE_MODAL","https://storage-stage.risevision.com/rva-test/dist/storage-modal.html#/files/"));var RiseVision=RiseVision||{};RiseVision.Image={},RiseVision.Image=function(e){"use strict";function t(){var e,t=null;r.className=i.position,r.className=i.scaleToFit?r.className+" scale-to-fit":r.className,document.body.style.background=i.background.color,0===Object.keys(i.storage).length?(e=i.url.split("?"),c=1===e.length?"?":"&",r.style.backgroundImage="url("+i.url+")",n(),a()):(t=new RiseVision.Image.Storage(i),t.init())}function n(){setTimeout(function(){r.style.backgroundImage="url("+i.url+c+"cb="+(new Date).getTime()+")",n()},g)}function s(e,n){Array.isArray(e)&&e.length>0&&"additionalParams"===e[0]&&Array.isArray(n)&&n.length>0&&(i=JSON.parse(n[0]),document.getElementById("container").style.height=o.getInt("rsH")+"px",t())}function a(){e.rpc.call("","rsevent_ready",null,o.getString("id"),!1,!1,!1,!0,!1)}var i,o=new e.Prefs,r=document.getElementById("image"),c="",g=9e5;return{ready:a,getAdditionalParams:s}}(gadgets);var RiseVision=RiseVision||{};RiseVision.Image=RiseVision.Image||{},RiseVision.Image.Storage=function(e){"use strict";function t(){var t=document.querySelector("rise-storage"),n=document.getElementById("image");t.addEventListener("rise-storage-response",function(e){n.style.backgroundImage="url("+e.detail[0]+")",RiseVision.Image.ready()}),t.setAttribute("folder",e.storage.folder),t.setAttribute("fileName",e.storage.fileName),t.setAttribute("companyId",e.storage.companyId),t.go()}return{init:t}},function(e,t,n){"use strict";var s=(new n.Prefs).getString("id");e.oncontextmenu=function(){return!1},t.body.onmousedown=function(){return!1},n.rpc.register("rsparam_set_"+s,RiseVision.Image.getAdditionalParams),n.rpc.call("","rsparam_get",null,s,["additionalParams"])}(window,document,gadgets);var _gaq=_gaq||[];_gaq.push(["_setAccount","UA-57092159-3"]),_gaq.push(["_trackPageview"]),function(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src=("https:"==document.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImpzL3dpZGdldC5taW4uanMiXSwibmFtZXMiOlsiYW5ndWxhciIsIm1vZHVsZSIsImNvbnN0YW50IiwidmFsdWUiLCJSaXNlVmlzaW9uIiwiSW1hZ2UiLCJnYWRnZXRzIiwiaW5pdCIsInN0ciIsInN0b3JhZ2UiLCJpbWciLCJjbGFzc05hbWUiLCJwYXJhbXMiLCJwb3NpdGlvbiIsInNjYWxlVG9GaXQiLCJkb2N1bWVudCIsImJvZHkiLCJzdHlsZSIsImJhY2tncm91bmQiLCJjb2xvciIsIk9iamVjdCIsImtleXMiLCJsZW5ndGgiLCJ1cmwiLCJzcGxpdCIsInNlcGFyYXRvciIsImJhY2tncm91bmRJbWFnZSIsInN0YXJ0VGltZXIiLCJyZWFkeSIsIlN0b3JhZ2UiLCJzZXRUaW1lb3V0IiwiRGF0ZSIsImdldFRpbWUiLCJyZWZyZXNoSW50ZXJ2YWwiLCJnZXRBZGRpdGlvbmFsUGFyYW1zIiwibmFtZXMiLCJ2YWx1ZXMiLCJBcnJheSIsImlzQXJyYXkiLCJKU09OIiwicGFyc2UiLCJnZXRFbGVtZW50QnlJZCIsImhlaWdodCIsInByZWZzIiwiZ2V0SW50IiwicnBjIiwiY2FsbCIsImdldFN0cmluZyIsIlByZWZzIiwicXVlcnlTZWxlY3RvciIsImFkZEV2ZW50TGlzdGVuZXIiLCJlIiwiZGV0YWlsIiwic2V0QXR0cmlidXRlIiwiZm9sZGVyIiwiZmlsZU5hbWUiLCJjb21wYW55SWQiLCJnbyIsIndpbmRvdyIsImlkIiwib25jb250ZXh0bWVudSIsIm9ubW91c2Vkb3duIiwicmVnaXN0ZXIiLCJfZ2FxIiwicHVzaCIsImdhIiwiY3JlYXRlRWxlbWVudCIsInR5cGUiLCJhc3luYyIsInNyYyIsImxvY2F0aW9uIiwicHJvdG9jb2wiLCJzIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJwYXJlbnROb2RlIiwiaW5zZXJ0QmVmb3JlIl0sIm1hcHBpbmdzIjoiQUFBdUIsbUJBQVpBLFdBQ1RBLFFBQVFDLE9BQU8sb0NBQ1pDLFNBQVMsaUJBQWtCLHVEQUMzQkEsU0FBUyxnQkFBaUIsU0FFN0JGLFFBQVFDLE9BQU8sb0RBQ1pFLE1BQU0sZ0JBQWlCLGlGQUs1QixJQUFJQyxZQUFhQSxjQUNqQkEsWUFBV0MsU0FFWEQsV0FBV0MsTUFBUSxTQUFXQyxHQUM1QixZQVdBLFNBQVNDLEtBQ1AsR0FDRUMsR0FERUMsRUFBVSxJQUdkQyxHQUFJQyxVQUFZQyxFQUFPQyxTQUN2QkgsRUFBSUMsVUFBWUMsRUFBT0UsV0FBYUosRUFBSUMsVUFBWSxnQkFBa0JELEVBQUlDLFVBQzFFSSxTQUFTQyxLQUFLQyxNQUFNQyxXQUFhTixFQUFPTSxXQUFXQyxNQUVSLElBQXZDQyxPQUFPQyxLQUFLVCxFQUFPSCxTQUFTYSxRQUM5QmQsRUFBTUksRUFBT1csSUFBSUMsTUFBTSxLQUdyQkMsRUFEaUIsSUFBZmpCLEVBQUljLE9BQ00sSUFHQSxJQUdkWixFQUFJTyxNQUFNUyxnQkFBa0IsT0FBU2QsRUFBT1csSUFBTSxJQUNsREksSUFDQUMsTUFJQW5CLEVBQVUsR0FBSUwsWUFBV0MsTUFBTXdCLFFBQVFqQixHQUN2Q0gsRUFBUUYsUUFJWixRQUFTb0IsS0FDUEcsV0FBVyxXQUNUcEIsRUFBSU8sTUFBTVMsZ0JBQWtCLE9BQVNkLEVBQU9XLElBQU1FLEVBQVksT0FBUSxHQUFJTSxPQUFPQyxVQUFZLElBQzdGTCxLQUNDTSxHQU1MLFFBQVNDLEdBQW9CQyxFQUFPQyxHQUM5QkMsTUFBTUMsUUFBUUgsSUFBVUEsRUFBTWIsT0FBUyxHQUFrQixxQkFBYmEsRUFBTSxJQUNoREUsTUFBTUMsUUFBUUYsSUFBV0EsRUFBT2QsT0FBUyxJQUMzQ1YsRUFBUzJCLEtBQUtDLE1BQU1KLEVBQU8sSUFFM0JyQixTQUFTMEIsZUFBZSxhQUFheEIsTUFBTXlCLE9BQVNDLEVBQU1DLE9BQU8sT0FBUyxLQUMxRXJDLEtBS04sUUFBU3FCLEtBQ1B0QixFQUFRdUMsSUFBSUMsS0FBSyxHQUFJLGdCQUFpQixLQUFNSCxFQUFNSSxVQUFVLE9BQU8sR0FDakUsR0FBTyxHQUFPLEdBQU0sR0E3RHhCLEdBQUluQyxHQUNGK0IsRUFBUSxHQUFJckMsR0FBUTBDLE1BQ3BCdEMsRUFBTUssU0FBUzBCLGVBQWUsU0FDOUJoQixFQUFZLEdBQ1pRLEVBQWtCLEdBNERwQixRQUNFTCxNQUFTQSxFQUNUTSxvQkFBdUJBLElBRXhCNUIsUUFFSCxJQUFJRixZQUFhQSxjQUNqQkEsWUFBV0MsTUFBUUQsV0FBV0MsVUFFOUJELFdBQVdDLE1BQU13QixRQUFVLFNBQVVqQixHQUNuQyxZQUtBLFNBQVNMLEtBQ1AsR0FBSUUsR0FBVU0sU0FBU2tDLGNBQWMsZ0JBQ25DdkMsRUFBTUssU0FBUzBCLGVBQWUsUUFFaENoQyxHQUFReUMsaUJBQWlCLHdCQUF5QixTQUFTQyxHQUN6RHpDLEVBQUlPLE1BQU1TLGdCQUFrQixPQUFTeUIsRUFBRUMsT0FBTyxHQUFLLElBQ25EaEQsV0FBV0MsTUFBTXVCLFVBR25CbkIsRUFBUTRDLGFBQWEsU0FBVXpDLEVBQU9ILFFBQVE2QyxRQUM5QzdDLEVBQVE0QyxhQUFhLFdBQVl6QyxFQUFPSCxRQUFROEMsVUFDaEQ5QyxFQUFRNEMsYUFBYSxZQUFhekMsRUFBT0gsUUFBUStDLFdBQ2pEL0MsRUFBUWdELEtBR1YsT0FDRWxELEtBQVFBLElBS1osU0FBV21ELEVBQVEzQyxFQUFVVCxHQUMzQixZQUVBLElBQUlxRCxJQUFLLEdBQUlyRCxHQUFRMEMsT0FBUUQsVUFBVSxLQUV2Q1csR0FBT0UsY0FBZ0IsV0FDckIsT0FBTyxHQUdUN0MsRUFBU0MsS0FBSzZDLFlBQWMsV0FDMUIsT0FBTyxHQUdUdkQsRUFBUXVDLElBQUlpQixTQUFTLGVBQWlCSCxFQUFJdkQsV0FBV0MsTUFBTTZCLHFCQUMzRDVCLEVBQVF1QyxJQUFJQyxLQUFLLEdBQUksY0FBZSxLQUFNYSxHQUFLLHNCQUM5Q0QsT0FBUTNDLFNBQVVULFFBR3JCLElBQUl5RCxNQUFPQSxRQUVYQSxNQUFLQyxNQUFNLGNBQWUsa0JBQzFCRCxLQUFLQyxNQUFNLG1CQUVYLFdBQ0UsR0FBSUMsR0FBS2xELFNBQVNtRCxjQUFjLFNBQVdELEdBQUdFLEtBQU8sa0JBQW1CRixFQUFHRyxPQUFRLEVBQ25GSCxFQUFHSSxLQUFPLFVBQVl0RCxTQUFTdUQsU0FBU0MsU0FBVyxjQUFnQixjQUFnQiw2QkFDbkYsSUFBSUMsR0FBSXpELFNBQVMwRCxxQkFBcUIsVUFBVSxFQUFJRCxHQUFFRSxXQUFXQyxhQUFhVixFQUFJTyIsImZpbGUiOiJqcy93aWRnZXQubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaWYgKHR5cGVvZiBhbmd1bGFyICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gIGFuZ3VsYXIubW9kdWxlKFwicmlzZXZpc2lvbi5jb21tb24uaTE4bi5jb25maWdcIiwgW10pXG4gICAgLmNvbnN0YW50KFwiTE9DQUxFU19QUkVGSVhcIiwgXCJjb21wb25lbnRzL3J2LWNvbW1vbi1pMThuL2Rpc3QvbG9jYWxlcy90cmFuc2xhdGlvbl9cIilcbiAgICAuY29uc3RhbnQoXCJMT0NBTEVTX1NVRklYXCIsIFwiLmpzb25cIik7XG5cbiAgYW5ndWxhci5tb2R1bGUoXCJyaXNldmlzaW9uLndpZGdldC5jb21tb24uc3RvcmFnZS1zZWxlY3Rvci5jb25maWdcIilcbiAgICAudmFsdWUoXCJTVE9SQUdFX01PREFMXCIsIFwiaHR0cHM6Ly9zdG9yYWdlLXN0YWdlLnJpc2V2aXNpb24uY29tL3J2YS10ZXN0L2Rpc3Qvc3RvcmFnZS1tb2RhbC5odG1sIy9maWxlcy9cIik7XG59XG5cbi8qIGdsb2JhbCBnYWRnZXRzICovXG5cbnZhciBSaXNlVmlzaW9uID0gUmlzZVZpc2lvbiB8fCB7fTtcblJpc2VWaXNpb24uSW1hZ2UgPSB7fTtcblxuUmlzZVZpc2lvbi5JbWFnZSA9IChmdW5jdGlvbiAoZ2FkZ2V0cykge1xuICBcInVzZSBzdHJpY3RcIjtcblxuICB2YXIgcGFyYW1zLFxuICAgIHByZWZzID0gbmV3IGdhZGdldHMuUHJlZnMoKSxcbiAgICBpbWcgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImltYWdlXCIpLFxuICAgIHNlcGFyYXRvciA9IFwiXCIsXG4gICAgcmVmcmVzaEludGVydmFsID0gOTAwMDAwOyAgLy8gMTUgbWludXRlc1xuXG4gIC8qXG4gICAqICBQcml2YXRlIE1ldGhvZHNcbiAgICovXG4gIGZ1bmN0aW9uIGluaXQoKSB7XG4gICAgdmFyIHN0b3JhZ2UgPSBudWxsLFxuICAgICAgc3RyO1xuXG4gICAgaW1nLmNsYXNzTmFtZSA9IHBhcmFtcy5wb3NpdGlvbjtcbiAgICBpbWcuY2xhc3NOYW1lID0gcGFyYW1zLnNjYWxlVG9GaXQgPyBpbWcuY2xhc3NOYW1lICsgXCIgc2NhbGUtdG8tZml0XCIgOiBpbWcuY2xhc3NOYW1lO1xuICAgIGRvY3VtZW50LmJvZHkuc3R5bGUuYmFja2dyb3VuZCA9IHBhcmFtcy5iYWNrZ3JvdW5kLmNvbG9yO1xuXG4gICAgaWYgKE9iamVjdC5rZXlzKHBhcmFtcy5zdG9yYWdlKS5sZW5ndGggPT09IDApIHtcbiAgICAgIHN0ciA9IHBhcmFtcy51cmwuc3BsaXQoXCI/XCIpO1xuXG4gICAgICBpZiAoc3RyLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICBzZXBhcmF0b3IgPSBcIj9cIjtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBzZXBhcmF0b3IgPSBcIiZcIjtcbiAgICAgIH1cblxuICAgICAgaW1nLnN0eWxlLmJhY2tncm91bmRJbWFnZSA9IFwidXJsKFwiICsgcGFyYW1zLnVybCArIFwiKVwiO1xuICAgICAgc3RhcnRUaW1lcigpO1xuICAgICAgcmVhZHkoKTtcbiAgICB9XG4gICAgLy8gUmlzZSBTdG9yYWdlXG4gICAgZWxzZSB7XG4gICAgICBzdG9yYWdlID0gbmV3IFJpc2VWaXNpb24uSW1hZ2UuU3RvcmFnZShwYXJhbXMpO1xuICAgICAgc3RvcmFnZS5pbml0KCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gc3RhcnRUaW1lcigpIHtcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgaW1nLnN0eWxlLmJhY2tncm91bmRJbWFnZSA9IFwidXJsKFwiICsgcGFyYW1zLnVybCArIHNlcGFyYXRvciArIFwiY2I9XCIgKyBuZXcgRGF0ZSgpLmdldFRpbWUoKSArIFwiKVwiO1xuICAgICAgc3RhcnRUaW1lcigpO1xuICAgIH0sIHJlZnJlc2hJbnRlcnZhbCk7XG4gIH1cblxuICAvKlxuICAgKiAgUHVibGljIE1ldGhvZHNcbiAgICovXG4gIGZ1bmN0aW9uIGdldEFkZGl0aW9uYWxQYXJhbXMobmFtZXMsIHZhbHVlcykge1xuICAgIGlmIChBcnJheS5pc0FycmF5KG5hbWVzKSAmJiBuYW1lcy5sZW5ndGggPiAwICYmIG5hbWVzWzBdID09PSBcImFkZGl0aW9uYWxQYXJhbXNcIikge1xuICAgICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWVzKSAmJiB2YWx1ZXMubGVuZ3RoID4gMCkge1xuICAgICAgICBwYXJhbXMgPSBKU09OLnBhcnNlKHZhbHVlc1swXSk7XG5cbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjb250YWluZXJcIikuc3R5bGUuaGVpZ2h0ID0gcHJlZnMuZ2V0SW50KFwicnNIXCIpICsgXCJweFwiO1xuICAgICAgICBpbml0KCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcmVhZHkoKSB7XG4gICAgZ2FkZ2V0cy5ycGMuY2FsbChcIlwiLCBcInJzZXZlbnRfcmVhZHlcIiwgbnVsbCwgcHJlZnMuZ2V0U3RyaW5nKFwiaWRcIiksIGZhbHNlLFxuICAgICAgZmFsc2UsIGZhbHNlLCB0cnVlLCBmYWxzZSk7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIFwicmVhZHlcIjogcmVhZHksXG4gICAgXCJnZXRBZGRpdGlvbmFsUGFyYW1zXCI6IGdldEFkZGl0aW9uYWxQYXJhbXNcbiAgfTtcbn0pKGdhZGdldHMpO1xuXG52YXIgUmlzZVZpc2lvbiA9IFJpc2VWaXNpb24gfHwge307XG5SaXNlVmlzaW9uLkltYWdlID0gUmlzZVZpc2lvbi5JbWFnZSB8fCB7fTtcblxuUmlzZVZpc2lvbi5JbWFnZS5TdG9yYWdlID0gZnVuY3Rpb24gKHBhcmFtcykge1xuICBcInVzZSBzdHJpY3RcIjtcblxuICAvKlxuICAgKiAgUHVibGljIE1ldGhvZHNcbiAgICovXG4gIGZ1bmN0aW9uIGluaXQoKSB7XG4gICAgdmFyIHN0b3JhZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwicmlzZS1zdG9yYWdlXCIpLFxuICAgICAgaW1nID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJpbWFnZVwiKTtcblxuICAgIHN0b3JhZ2UuYWRkRXZlbnRMaXN0ZW5lcihcInJpc2Utc3RvcmFnZS1yZXNwb25zZVwiLCBmdW5jdGlvbihlKSB7XG4gICAgICBpbWcuc3R5bGUuYmFja2dyb3VuZEltYWdlID0gXCJ1cmwoXCIgKyBlLmRldGFpbFswXSArIFwiKVwiO1xuICAgICAgUmlzZVZpc2lvbi5JbWFnZS5yZWFkeSgpO1xuICAgIH0pO1xuXG4gICAgc3RvcmFnZS5zZXRBdHRyaWJ1dGUoXCJmb2xkZXJcIiwgcGFyYW1zLnN0b3JhZ2UuZm9sZGVyKTtcbiAgICBzdG9yYWdlLnNldEF0dHJpYnV0ZShcImZpbGVOYW1lXCIsIHBhcmFtcy5zdG9yYWdlLmZpbGVOYW1lKTtcbiAgICBzdG9yYWdlLnNldEF0dHJpYnV0ZShcImNvbXBhbnlJZFwiLCBwYXJhbXMuc3RvcmFnZS5jb21wYW55SWQpO1xuICAgIHN0b3JhZ2UuZ28oKTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgXCJpbml0XCI6IGluaXRcbiAgfTtcbn07XG5cbi8qIGdsb2JhbCBSaXNlVmlzaW9uLCBnYWRnZXRzICovXG4oZnVuY3Rpb24gKHdpbmRvdywgZG9jdW1lbnQsIGdhZGdldHMpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgdmFyIGlkID0gbmV3IGdhZGdldHMuUHJlZnMoKS5nZXRTdHJpbmcoXCJpZFwiKTtcblxuICB3aW5kb3cub25jb250ZXh0bWVudSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH07XG5cbiAgZG9jdW1lbnQuYm9keS5vbm1vdXNlZG93biA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfTtcblxuICBnYWRnZXRzLnJwYy5yZWdpc3RlcihcInJzcGFyYW1fc2V0X1wiICsgaWQsIFJpc2VWaXNpb24uSW1hZ2UuZ2V0QWRkaXRpb25hbFBhcmFtcyk7XG4gIGdhZGdldHMucnBjLmNhbGwoXCJcIiwgXCJyc3BhcmFtX2dldFwiLCBudWxsLCBpZCwgW1wiYWRkaXRpb25hbFBhcmFtc1wiXSk7XG59KSh3aW5kb3csIGRvY3VtZW50LCBnYWRnZXRzKTtcblxuLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xudmFyIF9nYXEgPSBfZ2FxIHx8IFtdO1xuXG5fZ2FxLnB1c2goWydfc2V0QWNjb3VudCcsICdVQS01NzA5MjE1OS0zJ10pO1xuX2dhcS5wdXNoKFsnX3RyYWNrUGFnZXZpZXcnXSk7XG5cbihmdW5jdGlvbigpIHtcbiAgdmFyIGdhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7IGdhLnR5cGUgPSAndGV4dC9qYXZhc2NyaXB0JzsgZ2EuYXN5bmMgPSB0cnVlO1xuICBnYS5zcmMgPSAoJ2h0dHBzOicgPT0gZG9jdW1lbnQubG9jYXRpb24ucHJvdG9jb2wgPyAnaHR0cHM6Ly9zc2wnIDogJ2h0dHA6Ly93d3cnKSArICcuZ29vZ2xlLWFuYWx5dGljcy5jb20vZ2EuanMnO1xuICB2YXIgcyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdzY3JpcHQnKVswXTsgcy5wYXJlbnROb2RlLmluc2VydEJlZm9yZShnYSwgcyk7XG59KSgpO1xuLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==