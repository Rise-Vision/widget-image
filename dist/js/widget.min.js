var WIDGET_COMMON_CONFIG={AUTH_PATH_URL:"v1/widget/auth",LOGGER_CLIENT_ID:"1088527147109-6q1o2vtihn34292pjt4ckhmhck0rk0o7.apps.googleusercontent.com",LOGGER_CLIENT_SECRET:"nlZyrcPLg6oEwO9f9Wfn29Wh",LOGGER_REFRESH_TOKEN:"1/xzt4kwzE1H7W9VnKB8cAaCx6zb4Es4nKEoqaYHdTD15IgOrJDtdun6zK6XiATCKT",STORAGE_ENV:"prod",STORE_URL:"https://store-dot-rvaserver2.appspot.com/"},RiseVision=RiseVision||{};RiseVision.Common=RiseVision.Common||{},RiseVision.Common.LoggerUtils=function(){"use strict";function e(e,t){var i=null;e.event?(i=e,i.file_url&&(i.file_format=n(i.file_url)),i.company_id=a,i.display_id=s,t(i)):t(i)}function t(){var e=new Date,t=e.getUTCFullYear(),n=e.getUTCMonth()+1,i=e.getUTCDate();return 10>n&&(n="0"+n),10>i&&(i="0"+i),t+n+i}function n(e){var t,n=/[?#&]/;return e&&"string"==typeof e?(t=e.substr(e.lastIndexOf(".")+1),n.test(t)&&(t=t.substr(0,-1!==t.indexOf("?")?t.indexOf("?"):t.length),t=t.substr(0,-1!==t.indexOf("#")?t.indexOf("#"):t.length),t=t.substr(0,-1!==t.indexOf("&")?t.indexOf("&"):t.length)),t.toLowerCase()):null}function i(e){var n={kind:"bigquery#tableDataInsertAllRequest",skipInvalidRows:!1,ignoreUnknownValues:!1,templateSuffix:t(),rows:[{insertId:""}]},i=JSON.parse(JSON.stringify(n));return i.rows[0].insertId=Math.random().toString(36).substr(2).toUpperCase(),i.rows[0].json=JSON.parse(JSON.stringify(e)),i.rows[0].json.ts=(new Date).toISOString(),i}function o(t,n){e(n,function(e){null!==e&&RiseVision.Common.Logger.log(t,e)})}function r(e,t){a=e,s=t}var s="",a="";return{getInsertData:i,getFileFormat:n,logEvent:o,setIds:r}}(),RiseVision.Common.Logger=function(e){"use strict";function t(e){var t=new XMLHttpRequest;return new Date-d<358e4?e({}):(t.open("POST",o,!0),t.onloadend=function(){var n=JSON.parse(t.response);e({token:n.access_token,refreshedAt:new Date})},t.send(),void 0)}function n(e){return s&&l===e}function i(i,o){function c(t){var n,s,a=new XMLHttpRequest;s=r.replace("TABLE_ID",i),d=t.refreshedAt||d,u=t.token||u,n=e.getInsertData(o),a.open("POST",s,!0),a.setRequestHeader("Content-Type","application/json"),a.setRequestHeader("Authorization","Bearer "+u),o.cb&&"function"==typeof o.cb&&(a.onloadend=function(){o.cb(a.response)}),a.send(JSON.stringify(n))}if(!(!i||!o||o.hasOwnProperty("event")&&!o.event||o.hasOwnProperty("event")&&n(o.event)))return s=!0,l=o.event,setTimeout(function(){s=!1},a),t(c)}var o="https://www.googleapis.com/oauth2/v3/token?client_id="+WIDGET_COMMON_CONFIG.LOGGER_CLIENT_ID+"&client_secret="+WIDGET_COMMON_CONFIG.LOGGER_CLIENT_SECRET+"&refresh_token="+WIDGET_COMMON_CONFIG.LOGGER_REFRESH_TOKEN+"&grant_type=refresh_token",r="https://www.googleapis.com/bigquery/v2/projects/client-side-events/datasets/Widget_Events/tables/TABLE_ID/insertAll",s=!1,a=1e3,l="",d=0,u="";return{log:i}}(RiseVision.Common.LoggerUtils);var RiseVision=RiseVision||{};RiseVision.Common=RiseVision.Common||{},RiseVision.Common.RiseCache=function(){"use strict";function e(e){var t=new XMLHttpRequest;e&&"function"==typeof e&&(t.open("GET",n+"ping?callback=_",!0),t.onreadystatechange=function(){try{4===t.readyState&&(i=!0,200===t.status?(o=!0,e(!0,t.responseText)):(console.debug("Rise Cache is not running"),o=!1,e(!1,null)))}catch(n){console.debug("Caught exception: ",n.description)}},t.send())}function t(e,t,r){function s(){var t,i,s;o?t=r?n+"?url="+encodeURIComponent(e):n+"cb="+(new Date).getTime()+"?url="+encodeURIComponent(e):r?t=e:(i=e.split("?"),s=1===i.length?"?":"&",t=e+s+"cb="+(new Date).getTime()),a("HEAD",t)}function a(e,n){var i=new XMLHttpRequest,r={xhr:i,url:n};o?(i.open(e,n,!0),i.addEventListener("loadend",function(){var o=i.status||0;o>=200&&300>o?t(r):"HEAD"===e?a("GET",n):t(r,new Error("The request failed with status code: "+o))}),i.send()):t(r)}if(e&&t&&"function"==typeof t)return i?s():this.ping(s)}var n="//localhost:9494/",i=!1,o=!1;return{getFile:t,ping:e}}();var RiseVision=RiseVision||{};RiseVision.Common=RiseVision.Common||{},RiseVision.Common.Utilities=function(){function e(e,t){var n="font-family:"+t.font.family+"; ",i="color: "+(t.color?t.color:t.forecolor)+"; ",o="font-size: "+(-1===t.size.indexOf("px")?t.size+"px; ":t.size+"; "),r="font-weight: "+(t.bold?"bold":"normal")+"; ",s="font-style: "+(t.italic?"italic":"normal")+"; ",a="text-decoration: "+(t.underline?"underline":"none")+"; ",l="background-color: "+(t.highlightColor?t.highlightColor:t.backcolor)+"; ";return"."+e+" {"+n+i+o+r+s+a+l+"}"}function t(e){for(var t=document.createElement("style"),n=0,i=e.length;i>n;n++)t.appendChild(document.createTextNode(e[n]));document.head.appendChild(t)}function n(n,r){n.forEach(function(n){n.class&&n.fontSetting&&t([e(n.class,n.fontSetting)]),n.fontSetting.font.type&&("custom"===n.fontSetting.font.type&&n.fontSetting.font.family&&n.fontSetting.font.url?i(n.fontSetting.font.family,n.fontSetting.font.url,r):"google"===n.fontSetting.font.type&&n.fontSetting.font.family&&o(n.fontSetting.font.family,r))})}function i(e,t,n){var i=null,o="font-family: "+e+"; src: url('"+t+"');";n=n||document,i=n.styleSheets[0],null!==i&&i.addRule("@font-face",o)}function o(e,t){var n=document.createElement("link");t=t||document,n.setAttribute("rel","stylesheet"),n.setAttribute("type","text/css"),n.setAttribute("href","https://fonts.googleapis.com/css?family="+e.split(",")[0]),null!==n&&t.getElementsByTagName("head")[0].appendChild(n)}function r(e){for(var t=e.length,n=[],i=0;t>i;i++)n[i]=new Image,n[i].src=e[i]}function s(e){for(var t,n=window.location.search.substring(1),i=n.split("&"),o=0;o<i.length;o++)if(t=i[o].split("="),t[0]==e)return decodeURIComponent(t[1]);return""}function a(e){var t="";switch(e){case 404:t="The file does not exist or cannot be accessed.";break;case 507:t="There is not enough disk space to save the file on Rise Cache.";break;default:t="There was a problem retrieving the file from Rise Cache."}return t}return{getQueryParameter:s,getFontCssStyle:e,addCSSRules:t,loadFonts:n,loadCustomFont:i,loadGoogleFont:o,preloadImages:r,getRiseCacheErrorMessage:a}}(),"undefined"!=typeof angular&&angular.module("risevision.common.i18n.config",[]).constant("LOCALES_PREFIX","locales/translation_").constant("LOCALES_SUFIX",".json");var config={STORAGE_ENV:"prod"},RiseVision=RiseVision||{};RiseVision.Image={},RiseVision.Image=function(e){"use strict";function t(){e.rpc.call("","rsevent_ready",null,b.getString("id"),!0,!0,!0,!0,!0)}function n(){e.rpc.call("","rsevent_done",null,b.getString("id")),null!==L&&u(L,!0),u({event:"done",file_url:r()},!1)}function i(){clearTimeout(k),k=null}function o(){i(),k=setTimeout(function(){n()},5e3)}function r(){var e=-1;if(O&&O.length>0){if("file"===I)return O[0];if("folder"===I&&T&&T.isReady()&&(e=T.getCurrentSlide(),-1!==e))return O[e]}return null}function s(){var e,n=document.getElementById("container"),i=document.createDocumentFragment(),o=document.createElement("div");V=new RiseVision.Common.Message(document.getElementById("container"),document.getElementById("messageContainer")),V.show("Please wait while your image is downloaded."),w.background&&Object.keys(w.background).length>0&&(document.body.style.background=w.background.color),"file"===I?(o=a(),i.appendChild(o),n.appendChild(i),e=0!==Object.keys(w.storage).length,e?(A="storage file",C=new RiseVision.Image.StorageFile(w),C.init()):(A="custom",S=new RiseVision.Image.NonStorage(w),S.init())):"folder"===I&&(o.className="tp-banner-container",i.appendChild(o),n.appendChild(i),A="storage folder",C=new RiseVision.Image.StorageFolder(w),C.init()),t()}function a(){var e=document.createElement("div");return e.setAttribute("id","image"),e.className=w.position,e.className=w.scaleToFit?e.className+" scale-to-fit":e.className,e}function l(e){var t=document.getElementById("container"),n=document.querySelector("#container #image"),i=document.createDocumentFragment(),o=a();o.style.backgroundImage="url('"+e+"')",o.style.opacity="0",i.appendChild(o),t.appendChild(i),o.style.opacity="1",setTimeout(function(){t.removeChild(n)},3e3)}function d(){return F}function u(e,t){t&&(L=e),RiseVision.Common.LoggerUtils.logEvent(R(),e)}function c(e){"file"===I?(O[0]=e,V.hide(),l(O[0])):"folder"===I&&(O=e,T=new RiseVision.Image.Slider(w),T.init(e))}function g(e){"file"===I?(O[0]=e,l(O[0])):"folder"===I&&(O=e,T.refresh(O)),N=!1,F=!1,L=null}function m(e,t){w=_.clone(e),I=t,w.width=b.getInt("rsW"),w.height=b.getInt("rsH"),document.getElementById("container").style.height=b.getInt("rsH")+"px",s()}function f(){V.hide(),q||T.play()}function p(){n()}function h(){q=!0,i(),"folder"===I&&T&&T.isReady()&&T.pause()}function v(){return q=!1,x||(u({event:"configuration",event_details:A},!1),x=!0),u({event:"play",file_url:r()},!1),N?(o(),void 0):("folder"===I&&T&&T.isReady()&&T.play(),void 0)}function R(){return"image_events"}function y(e,t){N=!0,F="undefined"!=typeof t,V.show(e),"folder"===I&&T&&T.isReady()&&T.destroy(),q||o()}function E(){h()}var I,b=new e.Prefs,V=null,w=null,C=null,S=null,T=null,O=[],L=null,A=null,k=null,N=!1,F=!1,x=!1,q=!0;return{hasStorageError:d,logEvent:u,onFileInit:c,onFileRefresh:g,onSliderComplete:p,onSliderReady:f,pause:h,play:v,setAdditionalParams:m,getTableName:R,showError:y,stop:E}}(gadgets);var RiseVision=RiseVision||{};RiseVision.Image=RiseVision.Image||{},RiseVision.Image.Slider=function(e){"use strict";function t(){var t=document.querySelector(".tp-banner ul"),n=document.createDocumentFragment(),i=[],o=null,r=null,s="";m=p.length,p.forEach(function(t){switch(o=document.createElement("li"),r=document.createElement("img"),o.setAttribute("data-transition","fade"),o.setAttribute("data-masterspeed",500),o.setAttribute("data-delay",1e3*e.duration),r.src=t.url,e.position){case"top-left":s="left top";break;case"top-center":s="center top";break;case"top-right":s="right top";break;case"middle-left":s="left center";break;case"middle-center":s="center center";break;case"middle-right":s="right center";break;case"bottom-left":s="left bottom";break;case"bottom-center":s="center bottom";break;case"bottom-right":s="right bottom";break;default:s="left top"}r.setAttribute("data-bgposition",s),e.scaleToFit?r.setAttribute("data-bgfit","contain"):r.setAttribute("data-bgfit","normal"),o.appendChild(r),i.push(o)}),i.forEach(function(e){n.appendChild(e)}),t.appendChild(n)}function n(e){V?c():y&&(y=!1,c(),RiseVision.Image.onSliderComplete(),E&&(f&&(i(),l(h)),E=!1)),e.slideIndex===m&&(y=!0)}function i(){$("body").off("touchend"),f.off("revolution.slide.onloaded"),f.off("revolution.slide.onchange"),f.revkill(),f=null}function o(){V=!0,clearTimeout(R),R=setTimeout(function(){f.revnext(),f.revresume(),V=!1,b=!0},1e3*e.pause),r()}function r(){e.autoHide&&(clearTimeout(v),v=setTimeout(function(){$(".tp-leftarrow, .tp-rightarrow").addClass("hidearrows")},w))}function s(){f&&(y=!1,c(),i())}function a(){return f&&p&&p.length>0?f.revcurrentslide():-1}function l(i){var s=document.querySelector(".tp-banner-container"),a=document.createDocumentFragment(),l=document.createElement("div"),d=document.createElement("ul");l.setAttribute("class","tp-banner"),l.appendChild(d),a.appendChild(l),s.appendChild(a),p=_.clone(i),t(),I=!0,f=$(".tp-banner").revolution({hideThumbs:0,hideTimerBar:"on",navigationType:"none",onHoverStop:"off",startwidth:e.width,startheight:e.height}),f.on("revolution.slide.onloaded",function(){c(),I=!1,RiseVision.Image.onSliderReady()}),f.on("revolution.slide.onchange",function(e,t){n(t)}),$("body").on("touchend",".tp-banner",function(){o(),$(".tp-leftarrow, .tp-rightarrow").removeClass("hidearrows")}),$("body").on("touchend",".tp-leftarrow, .tp-rightarrow",function(){o()}),r()}function d(){return!I}function u(){f&&(e.hasOwnProperty("resume")&&!e.resume&&f.revshowslide(0),b||(f.revresume(),b=!0))}function c(){f&&b&&(f.revpause(),b=!1)}function g(e){RiseVision.Common.Utilities.preloadImages(e),h=_.clone(e),E=!0}var m=0,f=null,p=null,h=null,v=null,R=null,y=!1,E=!1,I=!0,b=!1,V=!1,w=3e3;return{getCurrentSlide:a,destroy:s,init:l,isReady:d,play:u,pause:c,refresh:g}};var RiseVision=RiseVision||{};RiseVision.Image=RiseVision.Image||{},RiseVision.Image.StorageFile=function(e){"use strict";function t(){var t=document.querySelector("rise-storage");t.addEventListener("rise-storage-response",function(e){var t;e.detail&&e.detail.url&&(t=e.detail.url.replace("'","\\'"),n?(n=!1,RiseVision.Image.onFileInit(t)):e.detail.hasOwnProperty("changed")&&(e.detail.changed?RiseVision.Image.onFileRefresh(t):RiseVision.Image.hasStorageError()&&RiseVision.Image.onFileRefresh(e.detail.url)))}),t.addEventListener("rise-storage-api-error",function(e){var t={event:"error",event_details:"storage api error",error_details:"Response code: "+e.detail.code+", message: "+e.detail.message};RiseVision.Image.logEvent(t,!0),RiseVision.Image.showError("Sorry, there was a problem communicating with Rise Storage.")}),t.addEventListener("rise-storage-no-file",function(e){var t={event:"error",event_details:"storage file not found",file_url:e.detail},n=document.getElementById("image");n.style.background="",RiseVision.Image.logEvent(t,!0),RiseVision.Image.showError("The selected image does not exist or has been moved to Trash.")}),t.addEventListener("rise-storage-file-throttled",function(e){var t={event:"error",event_details:"storage file throttled",file_url:e.detail};RiseVision.Image.logEvent(t,!0),RiseVision.Image.showError("The selected image is temporarily unavailable.")}),t.addEventListener("rise-storage-subscription-expired",function(){var e={event:"error",event_details:"storage subscription expired"};RiseVision.Image.logEvent(e,!0),RiseVision.Image.showError("Rise Storage subscription is not active.")}),t.addEventListener("rise-storage-error",function(e){var t=e.detail&&e.detail.request&&e.detail.request.url?e.detail.request.url:null,n={event:"error",event_details:"rise storage error",error_details:"The request failed with status code: "+e.detail.error.currentTarget.status,file_url:t};RiseVision.Image.logEvent(n,!0),RiseVision.Image.showError("Sorry, there was a problem communicating with Rise Storage.",!0)}),t.addEventListener("rise-cache-error",function(e){var t=e.detail&&e.detail.request&&e.detail.request.url?e.detail.request.url:null,n={event:"error",event_details:"rise cache error",error_details:e.detail.error.message,file_url:t};RiseVision.Image.logEvent(n,!0);var i=0;e.detail.error.message&&(i=+e.detail.error.message.substring(e.detail.error.message.indexOf(":")+2));var o=RiseVision.Common.Utilities.getRiseCacheErrorMessage(i);RiseVision.Image.showError(o)}),t.setAttribute("folder",e.storage.folder),t.setAttribute("fileName",e.storage.fileName),t.setAttribute("companyId",e.storage.companyId),t.setAttribute("env",config.STORAGE_ENV),t.go()}var n=!0;return{init:t}};var RiseVision=RiseVision||{};RiseVision.Image=RiseVision.Image||{},RiseVision.Image.StorageFolder=function(e){"use strict";function t(e){var t;e.detail&&(e.detail.added&&r.push({name:e.detail.name,url:e.detail.url}),e.detail.changed&&(t=_.find(r,function(t){return t.name===e.detail.name}),t.url=e.detail.url),e.detail.deleted&&(r=_.reject(r,function(t){return t.name===e.detail.name}))),r=_.sortBy(r,function(e){return e.name.toLowerCase()})}function n(e){return t(e),e.detail.added&&o?(r.length>1?(o=!1,clearTimeout(s),RiseVision.Image.onFileInit(r)):s=setTimeout(function(){o=!1,RiseVision.Image.onFileInit(r)},5e3),void 0):((!e.detail.hasOwnProperty("changed")||e.detail.changed||RiseVision.Image.hasStorageError())&&RiseVision.Image.onFileRefresh(r),void 0)}function i(){var t=document.querySelector("rise-storage");t.addEventListener("rise-storage-response",n),t.addEventListener("rise-storage-api-error",function(e){var t={event:"error",event_details:"storage api error",error_details:"Response code: "+e.detail.code+", message: "+e.detail.message};RiseVision.Image.logEvent(t,!0),RiseVision.Image.showError("Sorry, there was a problem communicating with Rise Storage.")}),t.addEventListener("rise-storage-empty-folder",function(){var e={event:"error",event_details:"storage folder empty"};RiseVision.Image.logEvent(e,!0),RiseVision.Image.showError("The selected folder does not contain any images.")}),t.addEventListener("rise-storage-no-folder",function(e){var t={event:"error",event_details:"storage folder doesn't exist",error_details:e.detail};RiseVision.Image.logEvent(t,!0),RiseVision.Image.showError("The selected folder does not exist or has been moved to Trash.")}),t.addEventListener("rise-storage-folder-invalid",function(){var e={event:"error",event_details:"storage folder format(s) invalid"};RiseVision.Image.logEvent(e,!0),RiseVision.Image.showError("The selected folder does not contain any supported image formats.")}),t.addEventListener("rise-storage-subscription-expired",function(){var e={event:"error",event_details:"storage subscription expired"};RiseVision.Image.logEvent(e,!0),RiseVision.Image.showError("Rise Storage subscription is not active.")}),t.addEventListener("rise-storage-error",function(e){var t={event:"rise storage error",event_details:"The request failed with status code: "+e.detail.error.currentTarget.status};RiseVision.Image.logEvent(t,!0),RiseVision.Image.showError("Sorry, there was a problem communicating with Rise Storage.",!0)}),t.addEventListener("rise-cache-error",function(e){var t={event:"rise cache error",event_details:e.detail.error.message};RiseVision.Image.logEvent(t,!0);var n=0;e.detail.error.message&&(n=+e.detail.error.message.substring(e.detail.error.message.indexOf(":")+2));var i=RiseVision.Common.Utilities.getRiseCacheErrorMessage(n);RiseVision.Image.showError(i)}),t.setAttribute("fileType","image"),t.setAttribute("companyId",e.storage.companyId),t.setAttribute("folder",e.storage.folder),t.setAttribute("env",config.STORAGE_ENV),t.go()}var o=!0,r=[],s=null;return{init:i}};var RiseVision=RiseVision||{};RiseVision.Image=RiseVision.Image||{},RiseVision.Image.NonStorage=function(e){"use strict";function t(e){var t;o.getFile(l,function(e,i){if(i){t={event:"error",event_details:"non-storage error",error_details:i.message,file_url:e.url},RiseVision.Image.logEvent(t,!0);var o=0;i.message&&(o=+i.message.substring(i.message.indexOf(":")+2));var r=RiseVision.Common.Utilities.getRiseCacheErrorMessage(o);RiseVision.Image.showError(r)}else a?(a=!1,RiseVision.Image.onFileInit(e.url),n()):RiseVision.Image.onFileRefresh(e.url)},e)}function n(){null===s&&(s=setInterval(function(){t(!1)},r))}function i(){l=e.url&&""!==e.url?e.url:e.selector.url,t(!0)}var o=RiseVision.Common.RiseCache,r=3e5,s=null,a=!0,l="";return{init:i}};var RiseVision=RiseVision||{};RiseVision.Common=RiseVision.Common||{},RiseVision.Common.Message=function(e,t){"use strict";function n(){try{t.style.height=e.style.height}catch(n){console.warn("Can't initialize Message - ",n.message)}}function i(){if(r){for(;t.firstChild;)t.removeChild(t.firstChild);t.style.display="none",e.style.visibility="visible",r=!1}}function o(n){var i,o=document.createDocumentFragment();r?(i=t.querySelector(".message"),i.innerHTML=n):(e.style.visibility="hidden",t.style.display="block",i=document.createElement("p"),i.innerHTML=n,i.setAttribute("class","message"),o.appendChild(i),t.appendChild(o),r=!0)}var r=!1;return n(),{hide:i,show:o}},function(e,t,n){"use strict";function i(e,t){var n,i,o="",r="";Array.isArray(e)&&e.length>0&&Array.isArray(t)&&t.length>0&&("companyId"===e[0]&&(o=t[0]),"displayId"===e[1]&&(r=t[1]?t[1]:"preview"),RiseVision.Common.LoggerUtils.setIds(o,r),"additionalParams"===e[2]&&(n=JSON.parse(t[2]),i=0!==Object.keys(n.storage).length?n.storage.fileName?"file":"folder":"file",RiseVision.Image.setAdditionalParams(n,i)))}function o(){RiseVision.Image.pause()}function r(){RiseVision.Image.play()}function s(){RiseVision.Image.stop()}function a(){e.removeEventListener("WebComponentsReady",a),l&&""!==l&&(n.rpc.register("rscmd_play_"+l,r),n.rpc.register("rscmd_pause_"+l,o),n.rpc.register("rscmd_stop_"+l,s),n.rpc.register("rsparam_set_"+l,i),n.rpc.call("","rsparam_get",null,l,["companyId","displayId","additionalParams"]))}var l=(new n.Prefs).getString("id");e.oncontextmenu=function(){return!1},t.body.onmousedown=function(){return!1},e.addEventListener("WebComponentsReady",a)}(window,document,gadgets);var _gaq=_gaq||[];_gaq.push(["_setAccount","UA-57092159-3"]),_gaq.push(["_trackPageview"]),function(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src=("https:"==document.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImpzL3dpZGdldC5taW4uanMiXSwibmFtZXMiOlsiV0lER0VUX0NPTU1PTl9DT05GSUciLCJBVVRIX1BBVEhfVVJMIiwiTE9HR0VSX0NMSUVOVF9JRCIsIkxPR0dFUl9DTElFTlRfU0VDUkVUIiwiTE9HR0VSX1JFRlJFU0hfVE9LRU4iLCJTVE9SQUdFX0VOViIsIlNUT1JFX1VSTCIsIlJpc2VWaXNpb24iLCJDb21tb24iLCJMb2dnZXJVdGlscyIsImdldEV2ZW50UGFyYW1zIiwicGFyYW1zIiwiY2IiLCJqc29uIiwiZXZlbnQiLCJmaWxlX3VybCIsImZpbGVfZm9ybWF0IiwiZ2V0RmlsZUZvcm1hdCIsImNvbXBhbnlfaWQiLCJjb21wYW55SWQiLCJkaXNwbGF5X2lkIiwiZGlzcGxheUlkIiwiZ2V0U3VmZml4IiwiZGF0ZSIsIkRhdGUiLCJ5ZWFyIiwiZ2V0VVRDRnVsbFllYXIiLCJtb250aCIsImdldFVUQ01vbnRoIiwiZGF5IiwiZ2V0VVRDRGF0ZSIsInVybCIsInN0ciIsImhhc1BhcmFtcyIsInN1YnN0ciIsImxhc3RJbmRleE9mIiwidGVzdCIsImluZGV4T2YiLCJsZW5ndGgiLCJ0b0xvd2VyQ2FzZSIsImdldEluc2VydERhdGEiLCJCQVNFX0lOU0VSVF9TQ0hFTUEiLCJraW5kIiwic2tpcEludmFsaWRSb3dzIiwiaWdub3JlVW5rbm93blZhbHVlcyIsInRlbXBsYXRlU3VmZml4Iiwicm93cyIsImluc2VydElkIiwiZGF0YSIsIkpTT04iLCJwYXJzZSIsInN0cmluZ2lmeSIsIk1hdGgiLCJyYW5kb20iLCJ0b1N0cmluZyIsInRvVXBwZXJDYXNlIiwidHMiLCJ0b0lTT1N0cmluZyIsImxvZ0V2ZW50IiwidGFibGUiLCJMb2dnZXIiLCJsb2ciLCJzZXRJZHMiLCJjb21wYW55IiwiZGlzcGxheSIsInV0aWxzIiwicmVmcmVzaFRva2VuIiwieGhyIiwiWE1MSHR0cFJlcXVlc3QiLCJyZWZyZXNoRGF0ZSIsIm9wZW4iLCJSRUZSRVNIX1VSTCIsIm9ubG9hZGVuZCIsInJlc3AiLCJyZXNwb25zZSIsInRva2VuIiwiYWNjZXNzX3Rva2VuIiwicmVmcmVzaGVkQXQiLCJzZW5kIiwiaXNUaHJvdHRsZWQiLCJ0aHJvdHRsZSIsImxhc3RFdmVudCIsInRhYmxlTmFtZSIsImluc2VydFdpdGhUb2tlbiIsInJlZnJlc2hEYXRhIiwiaW5zZXJ0RGF0YSIsInNlcnZpY2VVcmwiLCJyZXBsYWNlIiwic2V0UmVxdWVzdEhlYWRlciIsImhhc093blByb3BlcnR5Iiwic2V0VGltZW91dCIsInRocm90dGxlRGVsYXkiLCJSaXNlQ2FjaGUiLCJwaW5nIiwiY2FsbGJhY2siLCJyIiwiQkFTRV9DQUNIRV9VUkwiLCJvbnJlYWR5c3RhdGVjaGFuZ2UiLCJyZWFkeVN0YXRlIiwiX3BpbmdSZWNlaXZlZCIsInN0YXR1cyIsIl9pc0NhY2hlUnVubmluZyIsInJlc3BvbnNlVGV4dCIsImNvbnNvbGUiLCJkZWJ1ZyIsImUiLCJkZXNjcmlwdGlvbiIsImdldEZpbGUiLCJmaWxlVXJsIiwibm9jYWNoZWJ1c3RlciIsImZpbGVSZXF1ZXN0Iiwic2VwYXJhdG9yIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiZ2V0VGltZSIsInNwbGl0IiwibWFrZVJlcXVlc3QiLCJtZXRob2QiLCJyZXF1ZXN0IiwiYWRkRXZlbnRMaXN0ZW5lciIsIkVycm9yIiwidGhpcyIsIlV0aWxpdGllcyIsImdldEZvbnRDc3NTdHlsZSIsImNsYXNzTmFtZSIsImZvbnRPYmoiLCJmYW1pbHkiLCJmb250IiwiY29sb3IiLCJmb3JlY29sb3IiLCJzaXplIiwid2VpZ2h0IiwiYm9sZCIsIml0YWxpYyIsInVuZGVybGluZSIsImhpZ2hsaWdodCIsImhpZ2hsaWdodENvbG9yIiwiYmFja2NvbG9yIiwiYWRkQ1NTUnVsZXMiLCJydWxlcyIsInN0eWxlIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiaSIsImFwcGVuZENoaWxkIiwiY3JlYXRlVGV4dE5vZGUiLCJoZWFkIiwibG9hZEZvbnRzIiwic2V0dGluZ3MiLCJjb250ZW50RG9jIiwiZm9yRWFjaCIsIml0ZW0iLCJjbGFzcyIsImZvbnRTZXR0aW5nIiwidHlwZSIsImxvYWRDdXN0b21Gb250IiwibG9hZEdvb2dsZUZvbnQiLCJzaGVldCIsInJ1bGUiLCJzdHlsZVNoZWV0cyIsImFkZFJ1bGUiLCJzdHlsZXNoZWV0Iiwic2V0QXR0cmlidXRlIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJwcmVsb2FkSW1hZ2VzIiwidXJscyIsImltYWdlcyIsIkltYWdlIiwic3JjIiwiZ2V0UXVlcnlQYXJhbWV0ZXIiLCJwYXJhbSIsInBhaXIiLCJxdWVyeSIsIndpbmRvdyIsImxvY2F0aW9uIiwic2VhcmNoIiwic3Vic3RyaW5nIiwidmFycyIsImRlY29kZVVSSUNvbXBvbmVudCIsImdldFJpc2VDYWNoZUVycm9yTWVzc2FnZSIsInN0YXR1c0NvZGUiLCJlcnJvck1lc3NhZ2UiLCJhbmd1bGFyIiwibW9kdWxlIiwiY29uc3RhbnQiLCJjb25maWciLCJnYWRnZXRzIiwiX3JlYWR5IiwicnBjIiwiY2FsbCIsIl9wcmVmcyIsImdldFN0cmluZyIsIl9kb25lIiwiX2Vycm9yTG9nIiwiX2dldEN1cnJlbnRGaWxlIiwiX2NsZWFyRXJyb3JUaW1lciIsImNsZWFyVGltZW91dCIsIl9lcnJvclRpbWVyIiwiX3N0YXJ0RXJyb3JUaW1lciIsInNsaWRlTnVtIiwiX2N1cnJlbnRGaWxlcyIsIl9tb2RlIiwiX3NsaWRlciIsImlzUmVhZHkiLCJnZXRDdXJyZW50U2xpZGUiLCJpbml0IiwiaXNTdG9yYWdlRmlsZSIsImNvbnRhaW5lciIsImdldEVsZW1lbnRCeUlkIiwiZnJhZ21lbnQiLCJjcmVhdGVEb2N1bWVudEZyYWdtZW50IiwiZWwiLCJfbWVzc2FnZSIsIk1lc3NhZ2UiLCJzaG93IiwiX3BhcmFtcyIsImJhY2tncm91bmQiLCJPYmplY3QiLCJrZXlzIiwiYm9keSIsIl9nZXRJbWFnZUVsZW1lbnQiLCJzdG9yYWdlIiwiX2NvbmZpZ3VyYXRpb25UeXBlIiwiX3N0b3JhZ2UiLCJTdG9yYWdlRmlsZSIsIl9ub25TdG9yYWdlIiwiTm9uU3RvcmFnZSIsIlN0b3JhZ2VGb2xkZXIiLCJwb3NpdGlvbiIsInNjYWxlVG9GaXQiLCJzZXRTaW5nbGVJbWFnZSIsImltYWdlIiwicXVlcnlTZWxlY3RvciIsImJhY2tncm91bmRJbWFnZSIsIm9wYWNpdHkiLCJyZW1vdmVDaGlsZCIsImhhc1N0b3JhZ2VFcnJvciIsIl9zdG9yYWdlRXJyb3JGbGFnIiwiaXNFcnJvciIsImdldFRhYmxlTmFtZSIsIm9uRmlsZUluaXQiLCJoaWRlIiwiU2xpZGVyIiwib25GaWxlUmVmcmVzaCIsInJlZnJlc2giLCJfZXJyb3JGbGFnIiwic2V0QWRkaXRpb25hbFBhcmFtcyIsImFkZGl0aW9uYWxQYXJhbXMiLCJtb2RlVHlwZSIsIl8iLCJjbG9uZSIsIndpZHRoIiwiZ2V0SW50IiwiaGVpZ2h0Iiwib25TbGlkZXJSZWFkeSIsIl92aWV3ZXJQYXVzZWQiLCJwbGF5Iiwib25TbGlkZXJDb21wbGV0ZSIsInBhdXNlIiwiX2NvbmZpZ3VyYXRpb25Mb2dnZWQiLCJldmVudF9kZXRhaWxzIiwic2hvd0Vycm9yIiwibWVzc2FnZSIsImlzU3RvcmFnZUVycm9yIiwiZGVzdHJveSIsInN0b3AiLCJQcmVmcyIsImFkZFNsaWRlcyIsImxpc3QiLCJzbGlkZXMiLCJzbGlkZSIsInRvdGFsU2xpZGVzIiwiY3VycmVudEZpbGVzIiwiZmlsZSIsImR1cmF0aW9uIiwicHVzaCIsIm9uU2xpZGVDaGFuZ2VkIiwiaXNJbnRlcmFjdGluZyIsImlzTGFzdFNsaWRlIiwicmVmcmVzaFNsaWRlciIsIiRhcGkiLCJkZXN0cm95U2xpZGVyIiwibmV3RmlsZXMiLCJzbGlkZUluZGV4IiwiJCIsIm9mZiIsInJldmtpbGwiLCJoYW5kbGVVc2VyQWN0aXZpdHkiLCJzbGlkZVRpbWVyIiwicmV2bmV4dCIsInJldnJlc3VtZSIsImlzUGxheWluZyIsImhpZGVOYXYiLCJhdXRvSGlkZSIsIm5hdlRpbWVyIiwiYWRkQ2xhc3MiLCJuYXZUaW1lb3V0IiwicmV2Y3VycmVudHNsaWRlIiwiZmlsZXMiLCJ0cEJhbm5lckNvbnRhaW5lciIsInRwQmFubmVyIiwidWwiLCJpc0xvYWRpbmciLCJyZXZvbHV0aW9uIiwiaGlkZVRodW1icyIsImhpZGVUaW1lckJhciIsIm5hdmlnYXRpb25UeXBlIiwib25Ib3ZlclN0b3AiLCJzdGFydHdpZHRoIiwic3RhcnRoZWlnaHQiLCJvbiIsInJlbW92ZUNsYXNzIiwicmVzdW1lIiwicmV2c2hvd3NsaWRlIiwicmV2cGF1c2UiLCJkZXRhaWwiLCJfaW5pdGlhbExvYWQiLCJjaGFuZ2VkIiwiZXJyb3JfZGV0YWlscyIsImNvZGUiLCJpbWciLCJlcnJvciIsImN1cnJlbnRUYXJnZXQiLCJmb2xkZXIiLCJmaWxlTmFtZSIsImdvIiwicHJvY2Vzc1VybCIsImFkZGVkIiwiX2ZpbGVzIiwibmFtZSIsImZpbmQiLCJkZWxldGVkIiwicmVqZWN0Iiwic29ydEJ5IiwiaGFuZGxlUmVzcG9uc2UiLCJfaXNMb2FkaW5nIiwiX3RpbWVyIiwiX2dldEZpbGUiLCJvbWl0Q2FjaGVCdXN0ZXIiLCJyaXNlQ2FjaGUiLCJfdXJsIiwiX3N0YXJ0UmVmcmVzaEludGVydmFsIiwiX3JlZnJlc2hJbnRlcnZhbElkIiwic2V0SW50ZXJ2YWwiLCJfcmVmcmVzaER1cmF0aW9uIiwic2VsZWN0b3IiLCJtYWluQ29udGFpbmVyIiwibWVzc2FnZUNvbnRhaW5lciIsIl9pbml0Iiwid2FybiIsIl9hY3RpdmUiLCJmaXJzdENoaWxkIiwidmlzaWJpbGl0eSIsInAiLCJpbm5lckhUTUwiLCJjb25maWd1cmUiLCJuYW1lcyIsInZhbHVlcyIsIm1vZGUiLCJBcnJheSIsImlzQXJyYXkiLCJwb2x5bWVyUmVhZHkiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiaWQiLCJyZWdpc3RlciIsIm9uY29udGV4dG1lbnUiLCJvbm1vdXNlZG93biIsIl9nYXEiLCJnYSIsImFzeW5jIiwicHJvdG9jb2wiLCJzIiwicGFyZW50Tm9kZSIsImluc2VydEJlZm9yZSJdLCJtYXBwaW5ncyI6IkFBQUEsR0FBSUEsdUJBQ0ZDLGNBQWUsaUJBQ2ZDLGlCQUFrQiw0RUFDbEJDLHFCQUFzQiwyQkFDdEJDLHFCQUFzQixxRUFDdEJDLFlBQWEsT0FDYkMsVUFBVyw2Q0FJVEMsV0FBYUEsY0FDakJBLFlBQVdDLE9BQVNELFdBQVdDLFdBRS9CRCxXQUFXQyxPQUFPQyxZQUFjLFdBQzlCLFlBVUEsU0FBU0MsR0FBZUMsRUFBUUMsR0FDOUIsR0FBSUMsR0FBTyxJQUdQRixHQUFPRyxPQUNURCxFQUFPRixFQUVIRSxFQUFLRSxXQUNQRixFQUFLRyxZQUFjQyxFQUFjSixFQUFLRSxXQUd4Q0YsRUFBS0ssV0FBYUMsRUFDbEJOLEVBQUtPLFdBQWFDLEVBRWxCVCxFQUFHQyxJQUdIRCxFQUFHQyxHQUtQLFFBQVNTLEtBQ1AsR0FBSUMsR0FBTyxHQUFJQyxNQUNiQyxFQUFPRixFQUFLRyxpQkFDWkMsRUFBUUosRUFBS0ssY0FBZ0IsRUFDN0JDLEVBQU1OLEVBQUtPLFlBVWIsT0FSWSxJQUFSSCxJQUNGQSxFQUFRLElBQU1BLEdBR04sR0FBTkUsSUFDRkEsRUFBTSxJQUFNQSxHQUdQSixFQUFPRSxFQUFRRSxFQU14QixRQUFTWixHQUFjYyxHQUNyQixHQUNFQyxHQURFQyxFQUFZLE9BR2hCLE9BQUtGLElBQXNCLGdCQUFSQSxJQUluQkMsRUFBTUQsRUFBSUcsT0FBT0gsRUFBSUksWUFBWSxLQUFPLEdBR3BDRixFQUFVRyxLQUFLSixLQUNqQkEsRUFBTUEsRUFBSUUsT0FBTyxFQUF5QixLQUFyQkYsRUFBSUssUUFBUSxLQUFlTCxFQUFJSyxRQUFRLEtBQU9MLEVBQUlNLFFBRXZFTixFQUFNQSxFQUFJRSxPQUFPLEVBQXlCLEtBQXJCRixFQUFJSyxRQUFRLEtBQWVMLEVBQUlLLFFBQVEsS0FBT0wsRUFBSU0sUUFFdkVOLEVBQU1BLEVBQUlFLE9BQU8sRUFBeUIsS0FBckJGLEVBQUlLLFFBQVEsS0FBZUwsRUFBSUssUUFBUSxLQUFPTCxFQUFJTSxTQUdsRU4sRUFBSU8sZUFkRixLQWlCWCxRQUFTQyxHQUFjN0IsR0FDckIsR0FBSThCLElBQ0ZDLEtBQVEscUNBQ1JDLGlCQUFtQixFQUNuQkMscUJBQXVCLEVBQ3ZCQyxlQUFrQnZCLElBQ2xCd0IsT0FDRUMsU0FBWSxNQUdoQkMsRUFBT0MsS0FBS0MsTUFBTUQsS0FBS0UsVUFBVVYsR0FNakMsT0FKQU8sR0FBS0YsS0FBSyxHQUFHQyxTQUFXSyxLQUFLQyxTQUFTQyxTQUFTLElBQUlwQixPQUFPLEdBQUdxQixjQUM3RFAsRUFBS0YsS0FBSyxHQUFHakMsS0FBT29DLEtBQUtDLE1BQU1ELEtBQUtFLFVBQVV4QyxJQUM5Q3FDLEVBQUtGLEtBQUssR0FBR2pDLEtBQUsyQyxJQUFLLEdBQUloQyxPQUFPaUMsY0FFM0JULEVBR1QsUUFBU1UsR0FBU0MsRUFBT2hELEdBQ3ZCRCxFQUFlQyxFQUFRLFNBQVNFLEdBQ2pCLE9BQVRBLEdBQ0ZOLFdBQVdDLE9BQU9vRCxPQUFPQyxJQUFJRixFQUFPOUMsS0FNMUMsUUFBU2lELEdBQU9DLEVBQVNDLEdBQ3ZCN0MsRUFBWTRDLEVBQ1oxQyxFQUFZMkMsRUF0R2IsR0FBSTNDLEdBQVksR0FDZkYsRUFBWSxFQXdHZCxRQUNFcUIsY0FBaUJBLEVBQ2pCdkIsY0FBaUJBLEVBQ2pCeUMsU0FBWUEsRUFDWkksT0FBVUEsTUFJZHZELFdBQVdDLE9BQU9vRCxPQUFTLFNBQVVLLEdBQ25DLFlBaUJBLFNBQVNDLEdBQWF0RCxHQUNwQixHQUFJdUQsR0FBTSxHQUFJQyxlQUVkLE9BQUksSUFBSTVDLE1BQVM2QyxFQUFjLE1BQ3RCekQsT0FHVHVELEVBQUlHLEtBQUssT0FBUUMsR0FBYSxHQUM5QkosRUFBSUssVUFBWSxXQUNkLEdBQUlDLEdBQU94QixLQUFLQyxNQUFNaUIsRUFBSU8sU0FFMUI5RCxJQUFLK0QsTUFBT0YsRUFBS0csYUFBY0MsWUFBYSxHQUFJckQsU0FHbEQyQyxFQUFJVyxPQVBKWCxRQVVGLFFBQVNZLEdBQVlqRSxHQUNuQixNQUFPa0UsSUFBYUMsSUFBY25FLEVBTXBDLFFBQVMrQyxHQUFJcUIsRUFBV3ZFLEdBYXRCLFFBQVN3RSxHQUFnQkMsR0FDdkIsR0FDRUMsR0FBWXRELEVBRFZvQyxFQUFNLEdBQUlDLGVBR2RyQyxHQUFNdUQsRUFBV0MsUUFBUSxXQUFZTCxHQUNyQ2IsRUFBY2UsRUFBWVAsYUFBZVIsRUFDekNNLEVBQVFTLEVBQVlULE9BQVNBLEVBQzdCVSxFQUFhcEIsRUFBTXpCLGNBQWM3QixHQUdqQ3dELEVBQUlHLEtBQUssT0FBUXZDLEdBQUssR0FDdEJvQyxFQUFJcUIsaUJBQWlCLGVBQWdCLG9CQUNyQ3JCLEVBQUlxQixpQkFBaUIsZ0JBQWlCLFVBQVliLEdBRTlDaEUsRUFBT0MsSUFBMkIsa0JBQWRELEdBQU9DLEtBQzdCdUQsRUFBSUssVUFBWSxXQUNkN0QsRUFBT0MsR0FBR3VELEVBQUlPLFlBSWxCUCxFQUFJVyxLQUFLN0IsS0FBS0UsVUFBVWtDLElBaEMxQixNQUFLSCxJQUFjdkUsR0FBV0EsRUFBTzhFLGVBQWUsV0FBYTlFLEVBQU9HLE9BQ3JFSCxFQUFPOEUsZUFBZSxVQUFZVixFQUFZcEUsRUFBT0csUUFrQ3hELE1BOUJBa0UsSUFBVyxFQUNYQyxFQUFZdEUsRUFBT0csTUFFbkI0RSxXQUFXLFdBQ1RWLEdBQVcsR0FDVlcsR0F5Qkl6QixFQUFhaUIsR0EzRXRCLEdBQUlaLEdBQWMsd0RBQTBEdkUscUJBQXFCRSxpQkFDN0Ysa0JBQW9CRixxQkFBcUJHLHFCQUN6QyxrQkFBb0JILHFCQUFxQkkscUJBQ3pDLDRCQUVBa0YsRUFBYSxzSEFDZk4sR0FBVyxFQUNYVyxFQUFnQixJQUNoQlYsRUFBWSxHQUNaWixFQUFjLEVBQ2RNLEVBQVEsRUFvRVYsUUFDRWQsSUFBT0EsSUFFUnRELFdBQVdDLE9BQU9DLFlBQ3JCLElBQUlGLFlBQWFBLGNBQ2pCQSxZQUFXQyxPQUFTRCxXQUFXQyxXQUUvQkQsV0FBV0MsT0FBT29GLFVBQVksV0FDNUIsWUFPQSxTQUFTQyxHQUFLQyxHQUNaLEdBQUlDLEdBQUksR0FBSTNCLGVBRVAwQixJQUFnQyxrQkFBYkEsS0FJeEJDLEVBQUV6QixLQUFLLE1BQU8wQixFQUFpQixtQkFBbUIsR0FDbERELEVBQUVFLG1CQUFxQixXQUNyQixJQUN1QixJQUFqQkYsRUFBRUcsYUFFSkMsR0FBZ0IsRUFFQSxNQUFiSixFQUFFSyxRQUNIQyxHQUFrQixFQUVsQlAsR0FBUyxFQUFNQyxFQUFFTyxnQkFFakJDLFFBQVFDLE1BQU0sNkJBQ2RILEdBQWtCLEVBRWxCUCxHQUFTLEVBQU8sUUFJdEIsTUFBT1csR0FDTEYsUUFBUUMsTUFBTSxxQkFBc0JDLEVBQUVDLGVBSTFDWCxFQUFFakIsUUFHSixRQUFTNkIsR0FBUUMsRUFBU2QsRUFBVWUsR0FLbEMsUUFBU0MsS0FDUCxHQUFJL0UsR0FBS0MsRUFBSytFLENBRVZWLEdBRUZ0RSxFQUFNLEVBQWtCaUUsRUFBaUIsUUFBVWdCLG1CQUFtQkosR0FDdEVaLEVBQWlCLE9BQVEsR0FBSXhFLE9BQU95RixVQUFZLFFBQVVELG1CQUFtQkosR0FFekVDLEVBQ0Y5RSxFQUFNNkUsR0FFTjVFLEVBQU00RSxFQUFRTSxNQUFNLEtBQ3BCSCxFQUE0QixJQUFmL0UsRUFBSU0sT0FBZ0IsSUFBTSxJQUN2Q1AsRUFBTTZFLEVBQVVHLEVBQVksT0FBUSxHQUFJdkYsT0FBT3lGLFdBSW5ERSxFQUFZLE9BQVFwRixHQUd0QixRQUFTb0YsR0FBWUMsRUFBUXJGLEdBQzNCLEdBQUlvQyxHQUFNLEdBQUlDLGdCQUNaaUQsR0FDRWxELElBQUtBLEVBQ0xwQyxJQUFLQSxFQUdMc0UsSUFDRmxDLEVBQUlHLEtBQUs4QyxFQUFRckYsR0FBSyxHQUV0Qm9DLEVBQUltRCxpQkFBaUIsVUFBVyxXQUM5QixHQUFJbEIsR0FBU2pDLEVBQUlpQyxRQUFVLENBRXZCQSxJQUFVLEtBQWdCLElBQVRBLEVBQ25CTixFQUFTdUIsR0FHTSxTQUFYRCxFQUNGRCxFQUFZLE1BQU9wRixHQUVuQitELEVBQVN1QixFQUFTLEdBQUlFLE9BQU0sd0NBQTBDbkIsTUFLNUVqQyxFQUFJVyxRQUlKZ0IsRUFBU3VCLEdBckRiLEdBQUtULEdBQVlkLEdBQWdDLGtCQUFiQSxHQTBEcEMsTUFBS0ssR0FJSVcsSUFGQVUsS0FBSzNCLEtBQUtpQixHQXBHckIsR0FBSWQsR0FBaUIsb0JBRWpCRyxHQUFnQixFQUNsQkUsR0FBa0IsQ0F3R3BCLFFBQ0VNLFFBQVNBLEVBQ1RkLEtBQU1BLEtBS1YsSUFBSXRGLFlBQWFBLGNBRWpCQSxZQUFXQyxPQUFTRCxXQUFXQyxXQUUvQkQsV0FBV0MsT0FBT2lILFVBQVksV0FFNUIsUUFBU0MsR0FBZ0JDLEVBQVdDLEdBQ2xDLEdBQUlDLEdBQVMsZUFBaUJELEVBQVFFLEtBQUtELE9BQVMsS0FDaERFLEVBQVEsV0FBYUgsRUFBUUcsTUFBUUgsRUFBUUcsTUFBUUgsRUFBUUksV0FBYSxLQUMxRUMsRUFBTyxlQUFnRCxLQUEvQkwsRUFBUUssS0FBSzVGLFFBQVEsTUFBZXVGLEVBQVFLLEtBQU8sT0FBU0wsRUFBUUssS0FBTyxNQUNuR0MsRUFBUyxpQkFBbUJOLEVBQVFPLEtBQU8sT0FBUyxVQUFZLEtBQ2hFQyxFQUFTLGdCQUFrQlIsRUFBUVEsT0FBUyxTQUFXLFVBQVksS0FDbkVDLEVBQVkscUJBQXVCVCxFQUFRUyxVQUFZLFlBQWMsUUFBVSxLQUMvRUMsRUFBWSxzQkFBd0JWLEVBQVFXLGVBQWlCWCxFQUFRVyxlQUFpQlgsRUFBUVksV0FBYSxJQUUvRyxPQUFPLElBQU1iLEVBQVksS0FBT0UsRUFBU0UsRUFBUUUsRUFBT0MsRUFBU0UsRUFBU0MsRUFBWUMsRUFBWSxJQUdwRyxRQUFTRyxHQUFZQyxHQUduQixJQUFLLEdBRkRDLEdBQVFDLFNBQVNDLGNBQWMsU0FFMUJDLEVBQUksRUFBR3hHLEVBQVNvRyxFQUFNcEcsT0FBWUEsRUFBSndHLEVBQVlBLElBQ2pESCxFQUFNSSxZQUFZSCxTQUFTSSxlQUFlTixFQUFNSSxJQUdsREYsVUFBU0ssS0FBS0YsWUFBWUosR0E4QjVCLFFBQVNPLEdBQVVDLEVBQVVDLEdBQzNCRCxFQUFTRSxRQUFRLFNBQVNDLEdBQ3BCQSxFQUFLQyxPQUFTRCxFQUFLRSxhQUNyQmYsR0FBY2YsRUFBZ0I0QixFQUFLQyxNQUFPRCxFQUFLRSxlQUc3Q0YsRUFBS0UsWUFBWTFCLEtBQUsyQixPQUNXLFdBQS9CSCxFQUFLRSxZQUFZMUIsS0FBSzJCLE1BQXFCSCxFQUFLRSxZQUFZMUIsS0FBS0QsUUFDbkV5QixFQUFLRSxZQUFZMUIsS0FBSy9GLElBQ3RCMkgsRUFBZUosRUFBS0UsWUFBWTFCLEtBQUtELE9BQVF5QixFQUFLRSxZQUFZMUIsS0FBSy9GLElBQ2pFcUgsR0FFb0MsV0FBL0JFLEVBQUtFLFlBQVkxQixLQUFLMkIsTUFBcUJILEVBQUtFLFlBQVkxQixLQUFLRCxRQUN4RThCLEVBQWVMLEVBQUtFLFlBQVkxQixLQUFLRCxPQUFRdUIsTUFNckQsUUFBU00sR0FBZTdCLEVBQVE5RixFQUFLcUgsR0FDbkMsR0FBSVEsR0FBUSxLQUNSQyxFQUFPLGdCQUFrQmhDLEVBQVMsZUFBc0I5RixFQUFNLEtBRWxFcUgsR0FBYUEsR0FBY1IsU0FFM0JnQixFQUFRUixFQUFXVSxZQUFZLEdBRWpCLE9BQVZGLEdBQ0ZBLEVBQU1HLFFBQVEsYUFBY0YsR0FJaEMsUUFBU0YsR0FBZTlCLEVBQVF1QixHQUM5QixHQUFJWSxHQUFhcEIsU0FBU0MsY0FBYyxPQUV4Q08sR0FBYUEsR0FBY1IsU0FFM0JvQixFQUFXQyxhQUFhLE1BQU8sY0FDL0JELEVBQVdDLGFBQWEsT0FBUSxZQUdoQ0QsRUFBV0MsYUFBYSxPQUFRLDJDQUE2Q3BDLEVBQU9YLE1BQU0sS0FBSyxJQUU1RSxPQUFmOEMsR0FDRlosRUFBV2MscUJBQXFCLFFBQVEsR0FBR25CLFlBQVlpQixHQUkzRCxRQUFTRyxHQUFjQyxHQUlyQixJQUFLLEdBSEQ5SCxHQUFTOEgsRUFBSzlILE9BQ2hCK0gsS0FFT3ZCLEVBQUksRUFBT3hHLEVBQUp3RyxFQUFZQSxJQUMxQnVCLEVBQU92QixHQUFLLEdBQUl3QixPQUNoQkQsRUFBT3ZCLEdBQUd5QixJQUFNSCxFQUFLdEIsR0FJekIsUUFBUzBCLEdBQWtCQyxHQUt6QixJQUFLLEdBRkhDLEdBRkVDLEVBQVFDLE9BQU9DLFNBQVNDLE9BQU9DLFVBQVUsR0FDM0NDLEVBQU9MLEVBQU16RCxNQUFNLEtBR1o0QixFQUFJLEVBQUdBLEVBQUlrQyxFQUFLMUksT0FBUXdHLElBRy9CLEdBRkE0QixFQUFPTSxFQUFLbEMsR0FBRzVCLE1BQU0sS0FFakJ3RCxFQUFLLElBQU1ELEVBQ2IsTUFBT1Esb0JBQW1CUCxFQUFLLEdBSW5DLE9BQU8sR0FHVCxRQUFTUSxHQUF5QkMsR0FDaEMsR0FBSUMsR0FBZSxFQUNuQixRQUFRRCxHQUNOLElBQUssS0FDSEMsRUFBZSxnREFDZixNQUNGLEtBQUssS0FDSEEsRUFBZSxnRUFDZixNQUNGLFNBQ0VBLEVBQWUsMkRBR25CLE1BQU9BLEdBR1QsT0FDRVosa0JBQW1CQSxFQUNuQjlDLGdCQUFrQkEsRUFDbEJlLFlBQWtCQSxFQUNsQlMsVUFBa0JBLEVBQ2xCUSxlQUFrQkEsRUFDbEJDLGVBQWtCQSxFQUNsQlEsY0FBa0JBLEVBQ2xCZSx5QkFBMEJBLE1BS1AsbUJBQVpHLFVBQ1RBLFFBQVFDLE9BQU8sb0NBQ1pDLFNBQVMsaUJBQWtCLHdCQUMzQkEsU0FBUyxnQkFBaUIsUUFHL0IsSUFBSUMsU0FDRm5MLFlBQWEsUUFLWEUsV0FBYUEsY0FDakJBLFlBQVcrSixTQUVYL0osV0FBVytKLE1BQVEsU0FBV21CLEdBQzVCLFlBMEJBLFNBQVNDLEtBQ1BELEVBQVFFLElBQUlDLEtBQUssR0FBSSxnQkFBaUIsS0FBTUMsRUFBT0MsVUFBVSxPQUMzRCxHQUFNLEdBQU0sR0FBTSxHQUFNLEdBRzVCLFFBQVNDLEtBQ1BOLEVBQVFFLElBQUlDLEtBQUssR0FBSSxlQUFnQixLQUFNQyxFQUFPQyxVQUFVLE9BRzFDLE9BQWRFLEdBQ0Z0SSxFQUFTc0ksR0FBVyxHQUl0QnRJLEdBQVc1QyxNQUFTLE9BQVFDLFNBQVlrTCxNQUFxQixHQUcvRCxRQUFTQyxLQUNQQyxhQUFhQyxHQUNiQSxFQUFjLEtBR2hCLFFBQVNDLEtBQ1BILElBRUFFLEVBQWMxRyxXQUFXLFdBRXZCcUcsS0FDQyxLQUdMLFFBQVNFLEtBQ1AsR0FBSUssR0FBVyxFQUVmLElBQUlDLEdBQWlCQSxFQUFjakssT0FBUyxFQUFHLENBQzdDLEdBQWMsU0FBVmtLLEVBQ0YsTUFBT0QsR0FBYyxFQUVsQixJQUFjLFdBQVZDLEdBQXNCQyxHQUFXQSxFQUFRQyxZQUVoREosRUFBV0csRUFBUUUsa0JBRUYsS0FBYkwsR0FDRixNQUFPQyxHQUFjRCxHQUszQixNQUFPLE1BR1QsUUFBU00sS0FDUCxHQUdFQyxHQUhFQyxFQUFZbEUsU0FBU21FLGVBQWUsYUFDdENDLEVBQVdwRSxTQUFTcUUseUJBQ3BCQyxFQUFLdEUsU0FBU0MsY0FBYyxNQUk5QnNFLEdBQVcsR0FBSTVNLFlBQVdDLE9BQU80TSxRQUFReEUsU0FBU21FLGVBQWUsYUFDL0RuRSxTQUFTbUUsZUFBZSxxQkFHMUJJLEVBQVNFLEtBQUssK0NBR1ZDLEVBQVFDLFlBQWNDLE9BQU9DLEtBQUtILEVBQVFDLFlBQVlqTCxPQUFTLElBQ2pFc0csU0FBUzhFLEtBQUsvRSxNQUFNNEUsV0FBYUQsRUFBUUMsV0FBV3hGLE9BR3hDLFNBQVZ5RSxHQUVGVSxFQUFLUyxJQUNMWCxFQUFTakUsWUFBWW1FLEdBQ3JCSixFQUFVL0QsWUFBWWlFLEdBRXRCSCxFQUF5RCxJQUF4Q1csT0FBT0MsS0FBS0gsRUFBUU0sU0FBU3RMLE9BRXpDdUssR0FNSGdCLEVBQXFCLGVBR3JCQyxFQUFXLEdBQUl2TixZQUFXK0osTUFBTXlELFlBQVlULEdBQzVDUSxFQUFTbEIsU0FUVGlCLEVBQXFCLFNBRXJCRyxFQUFjLEdBQUl6TixZQUFXK0osTUFBTTJELFdBQVdYLEdBQzlDVSxFQUFZcEIsU0FTRyxXQUFWSixJQUVQVSxFQUFHdkYsVUFBWSxzQkFFZnFGLEVBQVNqRSxZQUFZbUUsR0FDckJKLEVBQVUvRCxZQUFZaUUsR0FFdEJhLEVBQXFCLGlCQUdyQkMsRUFBVyxHQUFJdk4sWUFBVytKLE1BQU00RCxjQUFjWixHQUM5Q1EsRUFBU2xCLFFBR1hsQixJQUdGLFFBQVNpQyxLQUNQLEdBQUlULEdBQUt0RSxTQUFTQyxjQUFjLE1BTWhDLE9BSkFxRSxHQUFHakQsYUFBYSxLQUFNLFNBQ3RCaUQsRUFBR3ZGLFVBQVkyRixFQUFRYSxTQUN2QmpCLEVBQUd2RixVQUFZMkYsRUFBUWMsV0FBYWxCLEVBQUd2RixVQUFZLGdCQUFrQnVGLEVBQUd2RixVQUVqRXVGLEVBR1QsUUFBU21CLEdBQWV0TSxHQUNwQixHQUFJK0ssR0FBWWxFLFNBQVNtRSxlQUFlLGFBQ3hDdUIsRUFBUTFGLFNBQVMyRixjQUFjLHFCQUMvQnZCLEVBQVdwRSxTQUFTcUUseUJBQ3BCQyxFQUFLUyxHQUVMVCxHQUFHdkUsTUFBTTZGLGdCQUFrQixRQUFVek0sRUFBTSxLQUMzQ21MLEVBQUd2RSxNQUFNOEYsUUFBVSxJQUVuQnpCLEVBQVNqRSxZQUFZbUUsR0FDckJKLEVBQVUvRCxZQUFZaUUsR0FDdEJFLEVBQUd2RSxNQUFNOEYsUUFBVSxJQUVuQi9JLFdBQVcsV0FDVG9ILEVBQVU0QixZQUFZSixJQUNyQixLQU1QLFFBQVNLLEtBQ1AsTUFBT0MsR0FHVCxRQUFTbEwsR0FBUy9DLEVBQVFrTyxHQUNwQkEsSUFDRjdDLEVBQVlyTCxHQUdkSixXQUFXQyxPQUFPQyxZQUFZaUQsU0FBU29MLElBQWdCbk8sR0FHekQsUUFBU29PLEdBQVczRSxHQUNKLFNBQVZvQyxHQUVGRCxFQUFjLEdBQUtuQyxFQUduQitDLEVBQVM2QixPQUVUWCxFQUFlOUIsRUFBYyxLQUVWLFdBQVZDLElBRVRELEVBQWdCbkMsRUFHaEJxQyxFQUFVLEdBQUlsTSxZQUFXK0osTUFBTTJFLE9BQU8zQixHQUN0Q2IsRUFBUUcsS0FBS3hDLElBSWpCLFFBQVM4RSxHQUFjOUUsR0FDUCxTQUFWb0MsR0FFRkQsRUFBYyxHQUFLbkMsRUFFbkJpRSxFQUFlOUIsRUFBYyxLQUVWLFdBQVZDLElBRVRELEVBQWdCbkMsRUFFaEJxQyxFQUFRMEMsUUFBUTVDLElBSWxCNkMsR0FBYSxFQUNiUixHQUFvQixFQUNwQjVDLEVBQVksS0FHZCxRQUFTcUQsR0FBb0JDLEVBQWtCQyxHQUM3Q2pDLEVBQVVrQyxFQUFFQyxNQUFNSCxHQUNsQjlDLEVBQVErQyxFQUVSakMsRUFBUW9DLE1BQVE3RCxFQUFPOEQsT0FBTyxPQUM5QnJDLEVBQVFzQyxPQUFTL0QsRUFBTzhELE9BQU8sT0FFL0IvRyxTQUFTbUUsZUFBZSxhQUFhcEUsTUFBTWlILE9BQVMvRCxFQUFPOEQsT0FBTyxPQUFTLEtBQzNFL0MsSUFHRixRQUFTaUQsS0FDUDFDLEVBQVM2QixPQUVKYyxHQUNIckQsRUFBUXNELE9BSVosUUFBU0MsS0FDUGpFLElBR0YsUUFBU2tFLEtBQ1BILEdBQWdCLEVBR2hCNUQsSUFFYyxXQUFWTSxHQUFzQkMsR0FBV0EsRUFBUUMsV0FDM0NELEVBQVF3RCxRQUlaLFFBQVNGLEtBVVAsTUFUQUQsSUFBZ0IsRUFFWEksSUFDSHhNLEdBQVc1QyxNQUFTLGdCQUFpQnFQLGNBQWlCdEMsSUFBc0IsR0FDNUVxQyxHQUF1QixHQUd6QnhNLEdBQVc1QyxNQUFTLE9BQVFDLFNBQVlrTCxNQUFxQixHQUV6RG1ELEdBQ0YvQyxJQUNBLFNBR1ksV0FBVkcsR0FBc0JDLEdBQVdBLEVBQVFDLFdBQzNDRCxFQUFRc0QsT0FEVixRQUtGLFFBQVNqQixLQUNQLE1BQU8sZUFHVCxRQUFTc0IsR0FBVUMsRUFBU0MsR0FDMUJsQixHQUFhLEVBQ2JSLEVBQThDLG1CQUFuQjBCLEdBRTNCbkQsRUFBU0UsS0FBS2dELEdBR0EsV0FBVjdELEdBQXNCQyxHQUFXQSxFQUFRQyxXQUMzQ0QsRUFBUThELFVBR0xULEdBQ0h6RCxJQUlKLFFBQVNtRSxLQUNQUCxJQWpTRixHQUFJekQsR0FFQVgsRUFBUyxHQUFJSixHQUFRZ0YsTUFDdkJ0RCxFQUFXLEtBQ1hHLEVBQVUsS0FFUlEsRUFBVyxLQUNiRSxFQUFjLEtBQ2R2QixFQUFVLEtBRVJGLEtBRUFQLEVBQVksS0FDZDZCLEVBQXFCLEtBQ3JCekIsRUFBYyxLQUNkZ0QsR0FBYSxFQUNiUixHQUFvQixFQUNwQnNCLEdBQXVCLEVBRXJCSixHQUFnQixDQWlScEIsUUFDRW5CLGdCQUFtQkEsRUFDbkJqTCxTQUFZQSxFQUNacUwsV0FBY0EsRUFDZEcsY0FBaUJBLEVBQ2pCYyxpQkFBb0JBLEVBQ3BCSCxjQUFpQkEsRUFDakJJLE1BQVNBLEVBQ1RGLEtBQVFBLEVBQ1JWLG9CQUF1QkEsRUFDdkJQLGFBQWdCQSxFQUNoQnNCLFVBQWFBLEVBQ2JJLEtBQVFBLElBRVQvRSxRQUdILElBQUlsTCxZQUFhQSxjQUNqQkEsWUFBVytKLE1BQVEvSixXQUFXK0osVUFFOUIvSixXQUFXK0osTUFBTTJFLE9BQVMsU0FBVXRPLEdBQ2xDLFlBa0JBLFNBQVMrUCxLQUNQLEdBQUlDLEdBQU8vSCxTQUFTMkYsY0FBYyxpQkFDaEN2QixFQUFXcEUsU0FBU3FFLHlCQUNwQjJELEtBQ0FDLEVBQVEsS0FDUnZDLEVBQVEsS0FDUkgsRUFBVyxFQUViMkMsR0FBY0MsRUFBYXpPLE9BRTNCeU8sRUFBYTFILFFBQVEsU0FBUzJILEdBWTVCLE9BWEFILEVBQVFqSSxTQUFTQyxjQUFjLE1BQy9CeUYsRUFBUTFGLFNBQVNDLGNBQWMsT0FHL0JnSSxFQUFNNUcsYUFBYSxrQkFBbUIsUUFDdEM0RyxFQUFNNUcsYUFBYSxtQkFBb0IsS0FDdkM0RyxFQUFNNUcsYUFBYSxhQUFnQyxJQUFsQnRKLEVBQU9zUSxVQUV4QzNDLEVBQU0vRCxJQUFNeUcsRUFBS2pQLElBR1RwQixFQUFPd04sVUFDYixJQUFLLFdBQ0hBLEVBQVcsVUFDWCxNQUNGLEtBQUssYUFDSEEsRUFBVyxZQUNYLE1BQ0YsS0FBSyxZQUNIQSxFQUFXLFdBQ1gsTUFDRixLQUFLLGNBQ0hBLEVBQVcsYUFDWCxNQUNGLEtBQUssZ0JBQ0hBLEVBQVcsZUFDWCxNQUNGLEtBQUssZUFDSEEsRUFBVyxjQUNYLE1BQ0YsS0FBSyxjQUNIQSxFQUFXLGFBQ1gsTUFDRixLQUFLLGdCQUNIQSxFQUFXLGVBQ1gsTUFDRixLQUFLLGVBQ0hBLEVBQVcsY0FDWCxNQUNGLFNBQ0VBLEVBQVcsV0FHZkcsRUFBTXJFLGFBQWEsa0JBQW1Ca0UsR0FHbEN4TixFQUFPeU4sV0FDVEUsRUFBTXJFLGFBQWEsYUFBYyxXQUdqQ3FFLEVBQU1yRSxhQUFhLGFBQWMsVUFHbkM0RyxFQUFNOUgsWUFBWXVGLEdBQ2xCc0MsRUFBT00sS0FBS0wsS0FHZEQsRUFBT3ZILFFBQVEsU0FBU3dILEdBQ3RCN0QsRUFBU2pFLFlBQVk4SCxLQUd2QkYsRUFBSzVILFlBQVlpRSxHQUduQixRQUFTbUUsR0FBZW5PLEdBQ2xCb08sRUFDRm5CLElBSUlvQixJQUNGQSxHQUFjLEVBQ2RwQixJQUNBMVAsV0FBVytKLE1BQU0wRixtQkFFYnNCLElBRUVDLElBQ0ZDLElBQ0E1RSxFQUFLNkUsSUFHUEgsR0FBZ0IsSUFLbEJ0TyxFQUFLME8sYUFBZVosSUFDdEJPLEdBQWMsR0FJbEIsUUFBU0csS0FFUEcsRUFBRSxRQUFRQyxJQUFJLFlBQ2RMLEVBQUtLLElBQUksNkJBQ1RMLEVBQUtLLElBQUksNkJBR1RMLEVBQUtNLFVBQ0xOLEVBQU8sS0FJVCxRQUFTTyxLQUNQVixHQUFnQixFQUNoQmpGLGFBQWE0RixHQUdiQSxFQUFhck0sV0FBVyxXQUN0QjZMLEVBQUtTLFVBQ0xULEVBQUtVLFlBRUxiLEdBQWdCLEVBQ2hCYyxHQUFZLEdBQ0ksSUFBZnZSLEVBQU9zUCxPQUVWa0MsSUFJRixRQUFTQSxLQUNIeFIsRUFBT3lSLFdBQ1RqRyxhQUFha0csR0FFYkEsRUFBVzNNLFdBQVcsV0FDcEJpTSxFQUFFLGlDQUFpQ1csU0FBUyxlQUMzQ0MsSUFRUCxRQUFTaEMsS0FDSGdCLElBQ0ZGLEdBQWMsRUFDZHBCLElBQ0F1QixLQUlKLFFBQVM3RSxLQUNQLE1BQUk0RSxJQUFRUixHQUFnQkEsRUFBYXpPLE9BQVMsRUFDekNpUCxFQUFLaUIsa0JBR1AsR0FHVCxRQUFTNUYsR0FBSzZGLEdBQ1osR0FBSUMsR0FBb0I5SixTQUFTMkYsY0FBYyx3QkFDN0N2QixFQUFXcEUsU0FBU3FFLHlCQUNwQjBGLEVBQVcvSixTQUFTQyxjQUFjLE9BQ2xDK0osRUFBS2hLLFNBQVNDLGNBQWMsS0FFOUI4SixHQUFTMUksYUFBYSxRQUFTLGFBQy9CMEksRUFBUzVKLFlBQVk2SixHQUNyQjVGLEVBQVNqRSxZQUFZNEosR0FDckJELEVBQWtCM0osWUFBWWlFLEdBRTlCK0QsRUFBZXZCLEVBQUVDLE1BQU1nRCxHQUV2Qi9CLElBRUFtQyxHQUFZLEVBQ1p0QixFQUFPSSxFQUFFLGNBQWNtQixZQUNyQkMsV0FBYyxFQUNkQyxhQUFnQixLQUNoQkMsZUFBa0IsT0FDbEJDLFlBQWUsTUFDZkMsV0FBY3hTLEVBQU8rTyxNQUNyQjBELFlBQWV6UyxFQUFPaVAsU0FHeEIyQixFQUFLOEIsR0FBRyw0QkFBNkIsV0FFbkNwRCxJQUNBNEMsR0FBWSxFQUNadFMsV0FBVytKLE1BQU11RixrQkFHbkIwQixFQUFLOEIsR0FBRyw0QkFBNkIsU0FBVTVNLEVBQUd6RCxHQUNoRG1PLEVBQWVuTyxLQUlqQjJPLEVBQUUsUUFBUTBCLEdBQUcsV0FBWSxhQUFjLFdBQ3JDdkIsSUFDQUgsRUFBRSxpQ0FBaUMyQixZQUFZLGdCQUlqRDNCLEVBQUUsUUFBUTBCLEdBQUcsV0FBWSxnQ0FBaUMsV0FDeER2QixNQUdGSyxJQUdGLFFBQVN6RixLQUNQLE9BQVFtRyxFQUdWLFFBQVM5QyxLQUNId0IsSUFFRTVRLEVBQU84RSxlQUFlLFlBQWM5RSxFQUFPNFMsUUFDN0NoQyxFQUFLaUMsYUFBYSxHQUdmdEIsSUFDSFgsRUFBS1UsWUFDTEMsR0FBWSxJQUtsQixRQUFTakMsS0FDSHNCLEdBQVFXLElBQ1ZYLEVBQUtrQyxXQUNMdkIsR0FBWSxHQUloQixRQUFTL0MsR0FBUXNELEdBRWZsUyxXQUFXQyxPQUFPaUgsVUFBVTBDLGNBQWNzSSxHQUMxQ2hCLEVBQVdqQyxFQUFFQyxNQUFNZ0QsR0FDbkJuQixHQUFnQixFQWpRbEIsR0FBSVIsR0FBYyxFQUNoQlMsRUFBTyxLQUNQUixFQUFlLEtBQ2ZVLEVBQVcsS0FDWFksRUFBVyxLQUNYTixFQUFhLEtBQ2JWLEdBQWMsRUFDZEMsR0FBZ0IsRUFDaEJ1QixHQUFZLEVBQ1pYLEdBQVksRUFDWmQsR0FBZ0IsRUFDaEJtQixFQUFhLEdBeVBmLFFBQ0U1RixnQkFBbUJBLEVBQ25CNEQsUUFBV0EsRUFDWDNELEtBQVFBLEVBQ1JGLFFBQVdBLEVBQ1hxRCxLQUFRQSxFQUNSRSxNQUFTQSxFQUNUZCxRQUFXQSxHQUtmLElBQUk1TyxZQUFhQSxjQUNqQkEsWUFBVytKLE1BQVEvSixXQUFXK0osVUFFOUIvSixXQUFXK0osTUFBTXlELFlBQWMsU0FBVXBOLEdBQ3ZDLFlBT0EsU0FBU2lNLEtBQ1AsR0FBSWdCLEdBQVVoRixTQUFTMkYsY0FBYyxlQUVyQ1gsR0FBUXRHLGlCQUFpQix3QkFBeUIsU0FBU2IsR0FDekQsR0FBSTFFLEVBRUEwRSxHQUFFaU4sUUFBVWpOLEVBQUVpTixPQUFPM1IsTUFFdkJBLEVBQU0wRSxFQUFFaU4sT0FBTzNSLElBQUl3RCxRQUFRLElBQUssT0FFNUJvTyxHQUNGQSxHQUFlLEVBRWZwVCxXQUFXK0osTUFBTXlFLFdBQVdoTixJQUl4QjBFLEVBQUVpTixPQUFPak8sZUFBZSxhQUN0QmdCLEVBQUVpTixPQUFPRSxRQUNYclQsV0FBVytKLE1BQU00RSxjQUFjbk4sR0FJM0J4QixXQUFXK0osTUFBTXFFLG1CQUVuQnBPLFdBQVcrSixNQUFNNEUsY0FBY3pJLEVBQUVpTixPQUFPM1IsU0FRcEQ2TCxFQUFRdEcsaUJBQWlCLHlCQUEwQixTQUFTYixHQUMxRCxHQUFJOUYsSUFDQUcsTUFBUyxRQUNUcVAsY0FBaUIsb0JBQ2pCMEQsY0FBaUIsa0JBQW9CcE4sRUFBRWlOLE9BQU9JLEtBQU8sY0FBZ0JyTixFQUFFaU4sT0FBT3JELFFBR2xGOVAsWUFBVytKLE1BQU01RyxTQUFTL0MsR0FBUSxHQUNsQ0osV0FBVytKLE1BQU04RixVQUFVLGlFQUc3QnhDLEVBQVF0RyxpQkFBaUIsdUJBQXdCLFNBQVNiLEdBQ3hELEdBQUk5RixJQUNGRyxNQUFTLFFBQ1RxUCxjQUFpQix5QkFDakJwUCxTQUFZMEYsRUFBRWlOLFFBRWRLLEVBQU1uTCxTQUFTbUUsZUFBZSxRQUdoQ2dILEdBQUlwTCxNQUFNNEUsV0FBYSxHQUV2QmhOLFdBQVcrSixNQUFNNUcsU0FBUy9DLEdBQVEsR0FDbENKLFdBQVcrSixNQUFNOEYsVUFBVSxtRUFHN0J4QyxFQUFRdEcsaUJBQWlCLDhCQUErQixTQUFTYixHQUMvRCxHQUFJOUYsSUFDRkcsTUFBUyxRQUNUcVAsY0FBaUIseUJBQ2pCcFAsU0FBWTBGLEVBQUVpTixPQUdoQm5ULFlBQVcrSixNQUFNNUcsU0FBUy9DLEdBQVEsR0FDbENKLFdBQVcrSixNQUFNOEYsVUFBVSxvREFHN0J4QyxFQUFRdEcsaUJBQWlCLG9DQUFxQyxXQUM1RCxHQUFJM0csSUFDRkcsTUFBUyxRQUNUcVAsY0FBaUIsK0JBR25CNVAsWUFBVytKLE1BQU01RyxTQUFTL0MsR0FBUSxHQUNsQ0osV0FBVytKLE1BQU04RixVQUFVLDhDQUc3QnhDLEVBQVF0RyxpQkFBaUIscUJBQXNCLFNBQVNiLEdBQ3RELEdBQUlHLEdBQVdILEVBQUVpTixRQUFVak4sRUFBRWlOLE9BQU9yTSxTQUFXWixFQUFFaU4sT0FBT3JNLFFBQVF0RixJQUFPMEUsRUFBRWlOLE9BQU9yTSxRQUFRdEYsSUFBTSxLQUM1RnBCLEdBQ0VHLE1BQVMsUUFDVHFQLGNBQWlCLHFCQUNqQjBELGNBQWlCLHdDQUEwQ3BOLEVBQUVpTixPQUFPTSxNQUFNQyxjQUFjN04sT0FDeEZyRixTQUFZNkYsRUFHaEJyRyxZQUFXK0osTUFBTTVHLFNBQVMvQyxHQUFRLEdBQ2xDSixXQUFXK0osTUFBTThGLFVBQVUsK0RBQStELEtBRzVGeEMsRUFBUXRHLGlCQUFpQixtQkFBb0IsU0FBU2IsR0FDcEQsR0FBSUcsR0FBV0gsRUFBRWlOLFFBQVVqTixFQUFFaU4sT0FBT3JNLFNBQVdaLEVBQUVpTixPQUFPck0sUUFBUXRGLElBQU8wRSxFQUFFaU4sT0FBT3JNLFFBQVF0RixJQUFNLEtBQzVGcEIsR0FDRUcsTUFBUyxRQUNUcVAsY0FBaUIsbUJBQ2pCMEQsY0FBaUJwTixFQUFFaU4sT0FBT00sTUFBTTNELFFBQ2hDdFAsU0FBWTZGLEVBR2hCckcsWUFBVytKLE1BQU01RyxTQUFTL0MsR0FBUSxFQUVsQyxJQUFJd0ssR0FBYSxDQUVkMUUsR0FBRWlOLE9BQU9NLE1BQU0zRCxVQUNoQmxGLEdBQWMxRSxFQUFFaU4sT0FBT00sTUFBTTNELFFBQVF0RixVQUFVdEUsRUFBRWlOLE9BQU9NLE1BQU0zRCxRQUFRaE8sUUFBUSxLQUFLLEdBR3JGLElBQUkrSSxHQUFlN0ssV0FBV0MsT0FBT2lILFVBQVV5RCx5QkFBeUJDLEVBQ3hFNUssWUFBVytKLE1BQU04RixVQUFVaEYsS0FHN0J3QyxFQUFRM0QsYUFBYSxTQUFVdEosRUFBT2lOLFFBQVFzRyxRQUM5Q3RHLEVBQVEzRCxhQUFhLFdBQVl0SixFQUFPaU4sUUFBUXVHLFVBQ2hEdkcsRUFBUTNELGFBQWEsWUFBYXRKLEVBQU9pTixRQUFRek0sV0FDakR5TSxFQUFRM0QsYUFBYSxNQUFPdUIsT0FBT25MLGFBQ25DdU4sRUFBUXdHLEtBM0hWLEdBQUlULElBQWUsQ0E4SG5CLFFBQ0UvRyxLQUFRQSxHQU1aLElBQUlyTSxZQUFhQSxjQUNqQkEsWUFBVytKLE1BQVEvSixXQUFXK0osVUFFOUIvSixXQUFXK0osTUFBTTRELGNBQWdCLFNBQVVsTCxHQUN6QyxZQU1BLFNBQVNxUixHQUFXNU4sR0FDbEIsR0FBSXVLLEVBRUF2SyxHQUFFaU4sU0FHQWpOLEVBQUVpTixPQUFPWSxPQUNYQyxFQUFPckQsTUFDTHNELEtBQVEvTixFQUFFaU4sT0FBT2MsS0FDakJ6UyxJQUFPMEUsRUFBRWlOLE9BQU8zUixNQUtoQjBFLEVBQUVpTixPQUFPRSxVQUNYNUMsRUFBT3hCLEVBQUVpRixLQUFLRixFQUFRLFNBQVV2RCxHQUM5QixNQUFPQSxHQUFLd0QsT0FBUy9OLEVBQUVpTixPQUFPYyxPQUdoQ3hELEVBQUtqUCxJQUFNMEUsRUFBRWlOLE9BQU8zUixLQUlsQjBFLEVBQUVpTixPQUFPZ0IsVUFDWEgsRUFBUy9FLEVBQUVtRixPQUFPSixFQUFRLFNBQVN2RCxHQUNqQyxNQUFPQSxHQUFLd0QsT0FBUy9OLEVBQUVpTixPQUFPYyxTQUtwQ0QsRUFBUy9FLEVBQUVvRixPQUFPTCxFQUFRLFNBQVN2RCxHQUNqQyxNQUFPQSxHQUFLd0QsS0FBS2pTLGdCQUlyQixRQUFTc1MsR0FBZXBPLEdBSXRCLE1BSEE0TixHQUFXNU4sR0FHUEEsRUFBRWlOLE9BQU9ZLE9BQ1BRLEdBSUVQLEVBQU9qUyxPQUFTLEdBQ2xCd1MsR0FBYSxFQUViM0ksYUFBYTRJLEdBQ2J4VSxXQUFXK0osTUFBTXlFLFdBQVd3RixJQUk1QlEsRUFBU3JQLFdBQVcsV0FDbEJvUCxHQUFhLEVBQ2J2VSxXQUFXK0osTUFBTXlFLFdBQVd3RixJQUMzQixLQUdMLFdBS0E5TixFQUFFaU4sT0FBT2pPLGVBQWUsWUFBZWdCLEVBQUVpTixPQUFPRSxTQUU3Q3JULFdBQVcrSixNQUFNcUUsb0JBT3hCcE8sV0FBVytKLE1BQU00RSxjQUFjcUYsR0FUL0IsUUFlRixRQUFTM0gsS0FDUCxHQUFJZ0IsR0FBVWhGLFNBQVMyRixjQUFjLGVBRXJDWCxHQUFRdEcsaUJBQWlCLHdCQUF5QnVOLEdBRWxEakgsRUFBUXRHLGlCQUFpQix5QkFBMEIsU0FBU2IsR0FDMUQsR0FBSTlGLElBQ0ZHLE1BQVMsUUFDVHFQLGNBQWlCLG9CQUNqQjBELGNBQWlCLGtCQUFvQnBOLEVBQUVpTixPQUFPSSxLQUFPLGNBQWdCck4sRUFBRWlOLE9BQU9yRCxRQUdoRjlQLFlBQVcrSixNQUFNNUcsU0FBUy9DLEdBQVEsR0FDbENKLFdBQVcrSixNQUFNOEYsVUFBVSxpRUFHN0J4QyxFQUFRdEcsaUJBQWlCLDRCQUE2QixXQUNwRCxHQUFJM0csSUFDRkcsTUFBUyxRQUNUcVAsY0FBaUIsdUJBR25CNVAsWUFBVytKLE1BQU01RyxTQUFTL0MsR0FBUSxHQUNsQ0osV0FBVytKLE1BQU04RixVQUFVLHNEQUc3QnhDLEVBQVF0RyxpQkFBaUIseUJBQTBCLFNBQVViLEdBQzNELEdBQUk5RixJQUNGRyxNQUFTLFFBQ1RxUCxjQUFpQiwrQkFDakIwRCxjQUFpQnBOLEVBQUVpTixPQUdyQm5ULFlBQVcrSixNQUFNNUcsU0FBUy9DLEdBQVEsR0FDbENKLFdBQVcrSixNQUFNOEYsVUFBVSxvRUFJN0J4QyxFQUFRdEcsaUJBQWlCLDhCQUErQixXQUN0RCxHQUFJM0csSUFDRkcsTUFBUyxRQUNUcVAsY0FBaUIsbUNBR25CNVAsWUFBVytKLE1BQU01RyxTQUFTL0MsR0FBUSxHQUNsQ0osV0FBVytKLE1BQU04RixVQUFVLHVFQUc3QnhDLEVBQVF0RyxpQkFBaUIsb0NBQXFDLFdBQzVELEdBQUkzRyxJQUNGRyxNQUFTLFFBQ1RxUCxjQUFpQiwrQkFHbkI1UCxZQUFXK0osTUFBTTVHLFNBQVMvQyxHQUFRLEdBQ2xDSixXQUFXK0osTUFBTThGLFVBQVUsOENBRzdCeEMsRUFBUXRHLGlCQUFpQixxQkFBc0IsU0FBU2IsR0FDdEQsR0FBSTlGLElBQ0ZHLE1BQVMscUJBQ1RxUCxjQUFpQix3Q0FBMEMxSixFQUFFaU4sT0FBT00sTUFBTUMsY0FBYzdOLE9BRzFGN0YsWUFBVytKLE1BQU01RyxTQUFTL0MsR0FBUSxHQUNsQ0osV0FBVytKLE1BQU04RixVQUFVLCtEQUErRCxLQUc1RnhDLEVBQVF0RyxpQkFBaUIsbUJBQW9CLFNBQVNiLEdBQ3BELEdBQUk5RixJQUNGRyxNQUFTLG1CQUNUcVAsY0FBaUIxSixFQUFFaU4sT0FBT00sTUFBTTNELFFBR2xDOVAsWUFBVytKLE1BQU01RyxTQUFTL0MsR0FBUSxFQUVsQyxJQUFJd0ssR0FBYSxDQUVkMUUsR0FBRWlOLE9BQU9NLE1BQU0zRCxVQUNoQmxGLEdBQWMxRSxFQUFFaU4sT0FBT00sTUFBTTNELFFBQVF0RixVQUFVdEUsRUFBRWlOLE9BQU9NLE1BQU0zRCxRQUFRaE8sUUFBUSxLQUFLLEdBR3JGLElBQUkrSSxHQUFlN0ssV0FBV0MsT0FBT2lILFVBQVV5RCx5QkFBeUJDLEVBQ3hFNUssWUFBVytKLE1BQU04RixVQUFVaEYsS0FHN0J3QyxFQUFRM0QsYUFBYSxXQUFZLFNBQ2pDMkQsRUFBUTNELGFBQWEsWUFBYWpILEVBQUs0SyxRQUFRek0sV0FDL0N5TSxFQUFRM0QsYUFBYSxTQUFVakgsRUFBSzRLLFFBQVFzRyxRQUM1Q3RHLEVBQVEzRCxhQUFhLE1BQU91QixPQUFPbkwsYUFFbkN1TixFQUFRd0csS0E3S1YsR0FBSVUsSUFBYSxFQUNmUCxLQUNBUSxFQUFTLElBOEtYLFFBQ0VuSSxLQUFRQSxHQUlaLElBQUlyTSxZQUFhQSxjQUNqQkEsWUFBVytKLE1BQVEvSixXQUFXK0osVUFFOUIvSixXQUFXK0osTUFBTTJELFdBQWEsU0FBVWpMLEdBQ3RDLFlBV0EsU0FBU2dTLEdBQVNDLEdBQ2hCLEdBQUl0VSxFQUVKdVUsR0FBVXZPLFFBQVF3TyxFQUFNLFNBQVV6USxFQUFVc1AsR0FDMUMsR0FBS0EsRUFjRSxDQUdMclQsR0FDRUcsTUFBUyxRQUNUcVAsY0FBaUIsb0JBQ2pCMEQsY0FBaUJHLEVBQU0zRCxRQUN2QnRQLFNBQVkyRCxFQUFTM0MsS0FHdkJ4QixXQUFXK0osTUFBTTVHLFNBQVMvQyxHQUFRLEVBRWxDLElBQUl3SyxHQUFhLENBRWQ2SSxHQUFNM0QsVUFDUGxGLEdBQWM2SSxFQUFNM0QsUUFBUXRGLFVBQVVpSixFQUFNM0QsUUFBUWhPLFFBQVEsS0FBSyxHQUduRSxJQUFJK0ksR0FBZTdLLFdBQVdDLE9BQU9pSCxVQUFVeUQseUJBQXlCQyxFQUN4RTVLLFlBQVcrSixNQUFNOEYsVUFBVWhGLE9BL0J2QjBKLElBQ0ZBLEdBQWEsRUFFYnZVLFdBQVcrSixNQUFNeUUsV0FBV3JLLEVBQVMzQyxLQUdyQ3FULEtBR0E3VSxXQUFXK0osTUFBTTRFLGNBQWN4SyxFQUFTM0MsTUF3QjNDa1QsR0FHTCxRQUFTRyxLQUNvQixPQUF2QkMsSUFDRkEsRUFBcUJDLFlBQVksV0FDL0JOLEdBQVMsSUFDUk8sSUFPUCxRQUFTM0ksS0FFUHVJLEVBQVFuUyxFQUFLakIsS0FBb0IsS0FBYmlCLEVBQUtqQixJQUFjaUIsRUFBS2pCLElBQU1pQixFQUFLd1MsU0FBU3pULElBRWhFaVQsR0FBUyxHQWxFWCxHQUFJRSxHQUFZM1UsV0FBV0MsT0FBT29GLFVBRTlCMlAsRUFBbUIsSUFDckJGLEVBQXFCLEtBRW5CUCxHQUFhLEVBRWJLLEVBQU8sRUE4RFgsUUFDRXZJLEtBQVFBLEdBSVosSUFBSXJNLFlBQWFBLGNBQ2pCQSxZQUFXQyxPQUFTRCxXQUFXQyxXQUUvQkQsV0FBV0MsT0FBTzRNLFFBQVUsU0FBVXFJLEVBQWVDLEdBQ25ELFlBSUEsU0FBU0MsS0FDUCxJQUNFRCxFQUFpQi9NLE1BQU1pSCxPQUFTNkYsRUFBYzlNLE1BQU1pSCxPQUNwRCxNQUFPbkosR0FDUEYsUUFBUXFQLEtBQUssOEJBQStCblAsRUFBRTRKLFVBT2xELFFBQVNyQixLQUNQLEdBQUk2RyxFQUFTLENBRVgsS0FBT0gsRUFBaUJJLFlBQ3RCSixFQUFpQmhILFlBQVlnSCxFQUFpQkksV0FJaERKLEdBQWlCL00sTUFBTTNFLFFBQVUsT0FHakN5UixFQUFjOU0sTUFBTW9OLFdBQWEsVUFFakNGLEdBQVUsR0FJZCxRQUFTeEksR0FBS2dELEdBQ1osR0FDRTJGLEdBREVoSixFQUFXcEUsU0FBU3FFLHdCQUduQjRJLElBaUJIRyxFQUFJTixFQUFpQm5ILGNBQWMsWUFDbkN5SCxFQUFFQyxVQUFZNUYsSUFoQmRvRixFQUFjOU0sTUFBTW9OLFdBQWEsU0FFakNMLEVBQWlCL00sTUFBTTNFLFFBQVUsUUFHakNnUyxFQUFJcE4sU0FBU0MsY0FBYyxLQUMzQm1OLEVBQUVDLFVBQVk1RixFQUNkMkYsRUFBRS9MLGFBQWEsUUFBUyxXQUV4QitDLEVBQVNqRSxZQUFZaU4sR0FDckJOLEVBQWlCM00sWUFBWWlFLEdBRTdCNkksR0FBVSxHQWhEZCxHQUFJQSxJQUFVLENBMERkLE9BRkFGLE1BR0UzRyxLQUFRQSxFQUNSM0IsS0FBUUEsSUFLWixTQUFXekMsRUFBUWhDLEVBQVU2QyxHQUMzQixZQVlBLFNBQVN5SyxHQUFVQyxFQUFPQyxHQUN4QixHQUFJOUcsR0FBa0IrRyxFQUNwQmxWLEVBQVksR0FDWkUsRUFBWSxFQUVWaVYsT0FBTUMsUUFBUUosSUFBVUEsRUFBTTdULE9BQVMsR0FBS2dVLE1BQU1DLFFBQVFILElBQVdBLEVBQU85VCxPQUFTLElBRXRFLGNBQWI2VCxFQUFNLEtBQ1JoVixFQUFZaVYsRUFBTyxJQUlKLGNBQWJELEVBQU0sS0FFTjlVLEVBREUrVSxFQUFPLEdBQ0dBLEVBQU8sR0FHUCxXQUtoQjdWLFdBQVdDLE9BQU9DLFlBQVlxRCxPQUFPM0MsRUFBV0UsR0FHL0IscUJBQWI4VSxFQUFNLEtBQ1I3RyxFQUFtQnJNLEtBQUtDLE1BQU1rVCxFQUFPLElBU2pDQyxFQVBpRCxJQUFqRDdJLE9BQU9DLEtBQUs2QixFQUFpQjFCLFNBQVN0TCxPQUVuQ2dOLEVBQWlCMUIsUUFBUXVHLFNBS3JCLE9BSEEsU0FPRixPQUdUNVQsV0FBVytKLE1BQU0rRSxvQkFBb0JDLEVBQWtCK0csS0FLN0QsUUFBU3BHLEtBQ1AxUCxXQUFXK0osTUFBTTJGLFFBR25CLFFBQVNGLEtBQ1B4UCxXQUFXK0osTUFBTXlGLE9BR25CLFFBQVNTLEtBQ1BqUSxXQUFXK0osTUFBTWtHLE9BR25CLFFBQVNnRyxLQUNQNUwsRUFBTzZMLG9CQUFvQixxQkFBc0JELEdBRTdDRSxHQUFhLEtBQVBBLElBQ1JqTCxFQUFRRSxJQUFJZ0wsU0FBUyxjQUFnQkQsRUFBSTNHLEdBQ3pDdEUsRUFBUUUsSUFBSWdMLFNBQVMsZUFBaUJELEVBQUl6RyxHQUMxQ3hFLEVBQVFFLElBQUlnTCxTQUFTLGNBQWdCRCxFQUFJbEcsR0FDekMvRSxFQUFRRSxJQUFJZ0wsU0FBUyxlQUFpQkQsRUFBSVIsR0FDMUN6SyxFQUFRRSxJQUFJQyxLQUFLLEdBQUksY0FBZSxLQUFNOEssR0FBSyxZQUFhLFlBQWEsc0JBN0U3RSxHQUFJQSxJQUFLLEdBQUlqTCxHQUFRZ0YsT0FBUTNFLFVBQVUsS0FFdkNsQixHQUFPZ00sY0FBZ0IsV0FDckIsT0FBTyxHQUdUaE8sRUFBUzhFLEtBQUttSixZQUFjLFdBQzFCLE9BQU8sR0EwRVRqTSxFQUFPdEQsaUJBQWlCLHFCQUFzQmtQLElBRTdDNUwsT0FBUWhDLFNBQVU2QyxRQUdyQixJQUFJcUwsTUFBT0EsUUFFWEEsTUFBSzVGLE1BQU0sY0FBZSxrQkFDMUI0RixLQUFLNUYsTUFBTSxtQkFFWCxXQUNFLEdBQUk2RixHQUFLbk8sU0FBU0MsY0FBYyxTQUFXa08sR0FBR3ROLEtBQU8sa0JBQW1Cc04sRUFBR0MsT0FBUSxFQUNuRkQsRUFBR3hNLEtBQU8sVUFBWTNCLFNBQVNpQyxTQUFTb00sU0FBVyxjQUFnQixjQUFnQiw2QkFDbkYsSUFBSUMsR0FBSXRPLFNBQVNzQixxQkFBcUIsVUFBVSxFQUFJZ04sR0FBRUMsV0FBV0MsYUFBYUwsRUFBSUciLCJmaWxlIjoianMvd2lkZ2V0Lm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBXSURHRVRfQ09NTU9OX0NPTkZJRyA9IHtcbiAgQVVUSF9QQVRIX1VSTDogXCJ2MS93aWRnZXQvYXV0aFwiLFxuICBMT0dHRVJfQ0xJRU5UX0lEOiBcIjEwODg1MjcxNDcxMDktNnExbzJ2dGlobjM0MjkycGp0NGNraG1oY2swcmswbzcuYXBwcy5nb29nbGV1c2VyY29udGVudC5jb21cIixcbiAgTE9HR0VSX0NMSUVOVF9TRUNSRVQ6IFwibmxaeXJjUExnNm9Fd085ZjlXZm4yOVdoXCIsXG4gIExPR0dFUl9SRUZSRVNIX1RPS0VOOiBcIjEveHp0NGt3ekUxSDdXOVZuS0I4Y0FhQ3g2emI0RXM0bktFb3FhWUhkVEQxNUlnT3JKRHRkdW42eks2WGlBVENLVFwiLFxuICBTVE9SQUdFX0VOVjogXCJwcm9kXCIsXG4gIFNUT1JFX1VSTDogXCJodHRwczovL3N0b3JlLWRvdC1ydmFzZXJ2ZXIyLmFwcHNwb3QuY29tL1wiXG59O1xuLyogZ2xvYmFsIGdhZGdldHMgKi9cblxudmFyIFJpc2VWaXNpb24gPSBSaXNlVmlzaW9uIHx8IHt9O1xuUmlzZVZpc2lvbi5Db21tb24gPSBSaXNlVmlzaW9uLkNvbW1vbiB8fCB7fTtcblxuUmlzZVZpc2lvbi5Db21tb24uTG9nZ2VyVXRpbHMgPSAoZnVuY3Rpb24oKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuXG4gICB2YXIgZGlzcGxheUlkID0gXCJcIixcbiAgICBjb21wYW55SWQgPSBcIlwiO1xuXG4gIC8qXG4gICAqICBQcml2YXRlIE1ldGhvZHNcbiAgICovXG5cbiAgLyogUmV0cmlldmUgcGFyYW1ldGVycyB0byBwYXNzIHRvIHRoZSBldmVudCBsb2dnZXIuICovXG4gIGZ1bmN0aW9uIGdldEV2ZW50UGFyYW1zKHBhcmFtcywgY2IpIHtcbiAgICB2YXIganNvbiA9IG51bGw7XG5cbiAgICAvLyBldmVudCBpcyByZXF1aXJlZC5cbiAgICBpZiAocGFyYW1zLmV2ZW50KSB7XG4gICAgICBqc29uID0gcGFyYW1zO1xuXG4gICAgICBpZiAoanNvbi5maWxlX3VybCkge1xuICAgICAgICBqc29uLmZpbGVfZm9ybWF0ID0gZ2V0RmlsZUZvcm1hdChqc29uLmZpbGVfdXJsKTtcbiAgICAgIH1cblxuICAgICAganNvbi5jb21wYW55X2lkID0gY29tcGFueUlkO1xuICAgICAganNvbi5kaXNwbGF5X2lkID0gZGlzcGxheUlkO1xuXG4gICAgICBjYihqc29uKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBjYihqc29uKTtcbiAgICB9XG4gIH1cblxuICAvLyBHZXQgc3VmZml4IGZvciBCUSB0YWJsZSBuYW1lLlxuICBmdW5jdGlvbiBnZXRTdWZmaXgoKSB7XG4gICAgdmFyIGRhdGUgPSBuZXcgRGF0ZSgpLFxuICAgICAgeWVhciA9IGRhdGUuZ2V0VVRDRnVsbFllYXIoKSxcbiAgICAgIG1vbnRoID0gZGF0ZS5nZXRVVENNb250aCgpICsgMSxcbiAgICAgIGRheSA9IGRhdGUuZ2V0VVRDRGF0ZSgpO1xuXG4gICAgaWYgKG1vbnRoIDwgMTApIHtcbiAgICAgIG1vbnRoID0gXCIwXCIgKyBtb250aDtcbiAgICB9XG5cbiAgICBpZiAoZGF5IDwgMTApIHtcbiAgICAgIGRheSA9IFwiMFwiICsgZGF5O1xuICAgIH1cblxuICAgIHJldHVybiB5ZWFyICsgbW9udGggKyBkYXk7XG4gIH1cblxuICAvKlxuICAgKiAgUHVibGljIE1ldGhvZHNcbiAgICovXG4gIGZ1bmN0aW9uIGdldEZpbGVGb3JtYXQodXJsKSB7XG4gICAgdmFyIGhhc1BhcmFtcyA9IC9bPyMmXS8sXG4gICAgICBzdHI7XG5cbiAgICBpZiAoIXVybCB8fCB0eXBlb2YgdXJsICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBzdHIgPSB1cmwuc3Vic3RyKHVybC5sYXN0SW5kZXhPZihcIi5cIikgKyAxKTtcblxuICAgIC8vIGRvbid0IGluY2x1ZGUgYW55IHBhcmFtcyBhZnRlciB0aGUgZmlsZW5hbWVcbiAgICBpZiAoaGFzUGFyYW1zLnRlc3Qoc3RyKSkge1xuICAgICAgc3RyID0gc3RyLnN1YnN0cigwICwoc3RyLmluZGV4T2YoXCI/XCIpICE9PSAtMSkgPyBzdHIuaW5kZXhPZihcIj9cIikgOiBzdHIubGVuZ3RoKTtcblxuICAgICAgc3RyID0gc3RyLnN1YnN0cigwLCAoc3RyLmluZGV4T2YoXCIjXCIpICE9PSAtMSkgPyBzdHIuaW5kZXhPZihcIiNcIikgOiBzdHIubGVuZ3RoKTtcblxuICAgICAgc3RyID0gc3RyLnN1YnN0cigwLCAoc3RyLmluZGV4T2YoXCImXCIpICE9PSAtMSkgPyBzdHIuaW5kZXhPZihcIiZcIikgOiBzdHIubGVuZ3RoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gc3RyLnRvTG93ZXJDYXNlKCk7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRJbnNlcnREYXRhKHBhcmFtcykge1xuICAgIHZhciBCQVNFX0lOU0VSVF9TQ0hFTUEgPSB7XG4gICAgICBcImtpbmRcIjogXCJiaWdxdWVyeSN0YWJsZURhdGFJbnNlcnRBbGxSZXF1ZXN0XCIsXG4gICAgICBcInNraXBJbnZhbGlkUm93c1wiOiBmYWxzZSxcbiAgICAgIFwiaWdub3JlVW5rbm93blZhbHVlc1wiOiBmYWxzZSxcbiAgICAgIFwidGVtcGxhdGVTdWZmaXhcIjogZ2V0U3VmZml4KCksXG4gICAgICBcInJvd3NcIjogW3tcbiAgICAgICAgXCJpbnNlcnRJZFwiOiBcIlwiXG4gICAgICB9XVxuICAgIH0sXG4gICAgZGF0YSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoQkFTRV9JTlNFUlRfU0NIRU1BKSk7XG5cbiAgICBkYXRhLnJvd3NbMF0uaW5zZXJ0SWQgPSBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHIoMikudG9VcHBlckNhc2UoKTtcbiAgICBkYXRhLnJvd3NbMF0uanNvbiA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkocGFyYW1zKSk7XG4gICAgZGF0YS5yb3dzWzBdLmpzb24udHMgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XG5cbiAgICByZXR1cm4gZGF0YTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGxvZ0V2ZW50KHRhYmxlLCBwYXJhbXMpIHtcbiAgICBnZXRFdmVudFBhcmFtcyhwYXJhbXMsIGZ1bmN0aW9uKGpzb24pIHtcbiAgICAgIGlmIChqc29uICE9PSBudWxsKSB7XG4gICAgICAgIFJpc2VWaXNpb24uQ29tbW9uLkxvZ2dlci5sb2codGFibGUsIGpzb24pO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgLyogU2V0IHRoZSBDb21wYW55IGFuZCBEaXNwbGF5IElEcy4gKi9cbiAgZnVuY3Rpb24gc2V0SWRzKGNvbXBhbnksIGRpc3BsYXkpIHtcbiAgICBjb21wYW55SWQgPSBjb21wYW55O1xuICAgIGRpc3BsYXlJZCA9IGRpc3BsYXk7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIFwiZ2V0SW5zZXJ0RGF0YVwiOiBnZXRJbnNlcnREYXRhLFxuICAgIFwiZ2V0RmlsZUZvcm1hdFwiOiBnZXRGaWxlRm9ybWF0LFxuICAgIFwibG9nRXZlbnRcIjogbG9nRXZlbnQsXG4gICAgXCJzZXRJZHNcIjogc2V0SWRzXG4gIH07XG59KSgpO1xuXG5SaXNlVmlzaW9uLkNvbW1vbi5Mb2dnZXIgPSAoZnVuY3Rpb24odXRpbHMpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgdmFyIFJFRlJFU0hfVVJMID0gXCJodHRwczovL3d3dy5nb29nbGVhcGlzLmNvbS9vYXV0aDIvdjMvdG9rZW4/Y2xpZW50X2lkPVwiICsgV0lER0VUX0NPTU1PTl9DT05GSUcuTE9HR0VSX0NMSUVOVF9JRCArXG4gICAgICBcIiZjbGllbnRfc2VjcmV0PVwiICsgV0lER0VUX0NPTU1PTl9DT05GSUcuTE9HR0VSX0NMSUVOVF9TRUNSRVQgK1xuICAgICAgXCImcmVmcmVzaF90b2tlbj1cIiArIFdJREdFVF9DT01NT05fQ09ORklHLkxPR0dFUl9SRUZSRVNIX1RPS0VOICtcbiAgICAgIFwiJmdyYW50X3R5cGU9cmVmcmVzaF90b2tlblwiO1xuXG4gIHZhciBzZXJ2aWNlVXJsID0gXCJodHRwczovL3d3dy5nb29nbGVhcGlzLmNvbS9iaWdxdWVyeS92Mi9wcm9qZWN0cy9jbGllbnQtc2lkZS1ldmVudHMvZGF0YXNldHMvV2lkZ2V0X0V2ZW50cy90YWJsZXMvVEFCTEVfSUQvaW5zZXJ0QWxsXCIsXG4gICAgdGhyb3R0bGUgPSBmYWxzZSxcbiAgICB0aHJvdHRsZURlbGF5ID0gMTAwMCxcbiAgICBsYXN0RXZlbnQgPSBcIlwiLFxuICAgIHJlZnJlc2hEYXRlID0gMCxcbiAgICB0b2tlbiA9IFwiXCI7XG5cbiAgLypcbiAgICogIFByaXZhdGUgTWV0aG9kc1xuICAgKi9cbiAgZnVuY3Rpb24gcmVmcmVzaFRva2VuKGNiKSB7XG4gICAgdmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuXG4gICAgaWYgKG5ldyBEYXRlKCkgLSByZWZyZXNoRGF0ZSA8IDM1ODAwMDApIHtcbiAgICAgIHJldHVybiBjYih7fSk7XG4gICAgfVxuXG4gICAgeGhyLm9wZW4oXCJQT1NUXCIsIFJFRlJFU0hfVVJMLCB0cnVlKTtcbiAgICB4aHIub25sb2FkZW5kID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgcmVzcCA9IEpTT04ucGFyc2UoeGhyLnJlc3BvbnNlKTtcblxuICAgICAgY2IoeyB0b2tlbjogcmVzcC5hY2Nlc3NfdG9rZW4sIHJlZnJlc2hlZEF0OiBuZXcgRGF0ZSgpIH0pO1xuICAgIH07XG5cbiAgICB4aHIuc2VuZCgpO1xuICB9XG5cbiAgZnVuY3Rpb24gaXNUaHJvdHRsZWQoZXZlbnQpIHtcbiAgICByZXR1cm4gdGhyb3R0bGUgJiYgKGxhc3RFdmVudCA9PT0gZXZlbnQpO1xuICB9XG5cbiAgLypcbiAgICogIFB1YmxpYyBNZXRob2RzXG4gICAqL1xuICBmdW5jdGlvbiBsb2codGFibGVOYW1lLCBwYXJhbXMpIHtcbiAgICBpZiAoIXRhYmxlTmFtZSB8fCAhcGFyYW1zIHx8IChwYXJhbXMuaGFzT3duUHJvcGVydHkoXCJldmVudFwiKSAmJiAhcGFyYW1zLmV2ZW50KSB8fFxuICAgICAgKHBhcmFtcy5oYXNPd25Qcm9wZXJ0eShcImV2ZW50XCIpICYmIGlzVGhyb3R0bGVkKHBhcmFtcy5ldmVudCkpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhyb3R0bGUgPSB0cnVlO1xuICAgIGxhc3RFdmVudCA9IHBhcmFtcy5ldmVudDtcblxuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgdGhyb3R0bGUgPSBmYWxzZTtcbiAgICB9LCB0aHJvdHRsZURlbGF5KTtcblxuICAgIGZ1bmN0aW9uIGluc2VydFdpdGhUb2tlbihyZWZyZXNoRGF0YSkge1xuICAgICAgdmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpLFxuICAgICAgICBpbnNlcnREYXRhLCB1cmw7XG5cbiAgICAgIHVybCA9IHNlcnZpY2VVcmwucmVwbGFjZShcIlRBQkxFX0lEXCIsIHRhYmxlTmFtZSk7XG4gICAgICByZWZyZXNoRGF0ZSA9IHJlZnJlc2hEYXRhLnJlZnJlc2hlZEF0IHx8IHJlZnJlc2hEYXRlO1xuICAgICAgdG9rZW4gPSByZWZyZXNoRGF0YS50b2tlbiB8fCB0b2tlbjtcbiAgICAgIGluc2VydERhdGEgPSB1dGlscy5nZXRJbnNlcnREYXRhKHBhcmFtcyk7XG5cbiAgICAgIC8vIEluc2VydCB0aGUgZGF0YS5cbiAgICAgIHhoci5vcGVuKFwiUE9TVFwiLCB1cmwsIHRydWUpO1xuICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoXCJDb250ZW50LVR5cGVcIiwgXCJhcHBsaWNhdGlvbi9qc29uXCIpO1xuICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoXCJBdXRob3JpemF0aW9uXCIsIFwiQmVhcmVyIFwiICsgdG9rZW4pO1xuXG4gICAgICBpZiAocGFyYW1zLmNiICYmIHR5cGVvZiBwYXJhbXMuY2IgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICB4aHIub25sb2FkZW5kID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgcGFyYW1zLmNiKHhoci5yZXNwb25zZSk7XG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIHhoci5zZW5kKEpTT04uc3RyaW5naWZ5KGluc2VydERhdGEpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVmcmVzaFRva2VuKGluc2VydFdpdGhUb2tlbik7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIFwibG9nXCI6IGxvZ1xuICB9O1xufSkoUmlzZVZpc2lvbi5Db21tb24uTG9nZ2VyVXRpbHMpO1xudmFyIFJpc2VWaXNpb24gPSBSaXNlVmlzaW9uIHx8IHt9O1xuUmlzZVZpc2lvbi5Db21tb24gPSBSaXNlVmlzaW9uLkNvbW1vbiB8fCB7fTtcblxuUmlzZVZpc2lvbi5Db21tb24uUmlzZUNhY2hlID0gKGZ1bmN0aW9uICgpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgdmFyIEJBU0VfQ0FDSEVfVVJMID0gXCIvL2xvY2FsaG9zdDo5NDk0L1wiO1xuXG4gIHZhciBfcGluZ1JlY2VpdmVkID0gZmFsc2UsXG4gICAgX2lzQ2FjaGVSdW5uaW5nID0gZmFsc2U7XG5cbiAgZnVuY3Rpb24gcGluZyhjYWxsYmFjaykge1xuICAgIHZhciByID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG5cbiAgICBpZiAoIWNhbGxiYWNrIHx8IHR5cGVvZiBjYWxsYmFjayAhPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgci5vcGVuKFwiR0VUXCIsIEJBU0VfQ0FDSEVfVVJMICsgXCJwaW5nP2NhbGxiYWNrPV9cIiwgdHJ1ZSk7XG4gICAgci5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB0cnkge1xuICAgICAgICBpZiAoci5yZWFkeVN0YXRlID09PSA0ICkge1xuICAgICAgICAgIC8vIHNhdmUgdGhpcyByZXN1bHQgZm9yIHVzZSBpbiBnZXRGaWxlKClcbiAgICAgICAgICBfcGluZ1JlY2VpdmVkID0gdHJ1ZTtcblxuICAgICAgICAgIGlmKHIuc3RhdHVzID09PSAyMDApe1xuICAgICAgICAgICAgX2lzQ2FjaGVSdW5uaW5nID0gdHJ1ZTtcblxuICAgICAgICAgICAgY2FsbGJhY2sodHJ1ZSwgci5yZXNwb25zZVRleHQpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLmRlYnVnKFwiUmlzZSBDYWNoZSBpcyBub3QgcnVubmluZ1wiKTtcbiAgICAgICAgICAgIF9pc0NhY2hlUnVubmluZyA9IGZhbHNlO1xuXG4gICAgICAgICAgICBjYWxsYmFjayhmYWxzZSwgbnVsbCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBjYXRjaCAoZSkge1xuICAgICAgICBjb25zb2xlLmRlYnVnKFwiQ2F1Z2h0IGV4Y2VwdGlvbjogXCIsIGUuZGVzY3JpcHRpb24pO1xuICAgICAgfVxuXG4gICAgfTtcbiAgICByLnNlbmQoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldEZpbGUoZmlsZVVybCwgY2FsbGJhY2ssIG5vY2FjaGVidXN0ZXIpIHtcbiAgICBpZiAoIWZpbGVVcmwgfHwgIWNhbGxiYWNrIHx8IHR5cGVvZiBjYWxsYmFjayAhPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZmlsZVJlcXVlc3QoKSB7XG4gICAgICB2YXIgdXJsLCBzdHIsIHNlcGFyYXRvcjtcblxuICAgICAgaWYgKF9pc0NhY2hlUnVubmluZykge1xuICAgICAgICAvLyBjb25maWd1cmUgdXJsIHdpdGggY2FjaGVidXN0ZXIgb3Igbm90XG4gICAgICAgIHVybCA9IChub2NhY2hlYnVzdGVyKSA/IEJBU0VfQ0FDSEVfVVJMICsgXCI/dXJsPVwiICsgZW5jb2RlVVJJQ29tcG9uZW50KGZpbGVVcmwpIDpcbiAgICAgICAgQkFTRV9DQUNIRV9VUkwgKyBcImNiPVwiICsgbmV3IERhdGUoKS5nZXRUaW1lKCkgKyBcIj91cmw9XCIgKyBlbmNvZGVVUklDb21wb25lbnQoZmlsZVVybCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAobm9jYWNoZWJ1c3Rlcikge1xuICAgICAgICAgIHVybCA9IGZpbGVVcmw7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc3RyID0gZmlsZVVybC5zcGxpdChcIj9cIik7XG4gICAgICAgICAgc2VwYXJhdG9yID0gKHN0ci5sZW5ndGggPT09IDEpID8gXCI/XCIgOiBcIiZcIjtcbiAgICAgICAgICB1cmwgPSBmaWxlVXJsICsgc2VwYXJhdG9yICsgXCJjYj1cIiArIG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIG1ha2VSZXF1ZXN0KFwiSEVBRFwiLCB1cmwpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG1ha2VSZXF1ZXN0KG1ldGhvZCwgdXJsKSB7XG4gICAgICB2YXIgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCksXG4gICAgICAgIHJlcXVlc3QgPSB7XG4gICAgICAgICAgeGhyOiB4aHIsXG4gICAgICAgICAgdXJsOiB1cmxcbiAgICAgICAgfTtcblxuICAgICAgaWYgKF9pc0NhY2hlUnVubmluZykge1xuICAgICAgICB4aHIub3BlbihtZXRob2QsIHVybCwgdHJ1ZSk7XG5cbiAgICAgICAgeGhyLmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkZW5kXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICB2YXIgc3RhdHVzID0geGhyLnN0YXR1cyB8fCAwO1xuXG4gICAgICAgICAgaWYgKHN0YXR1cyA+PSAyMDAgJiYgc3RhdHVzIDwgMzAwKSB7XG4gICAgICAgICAgICBjYWxsYmFjayhyZXF1ZXN0KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gU2VydmVyIG1heSBub3Qgc3VwcG9ydCBIRUFEIHJlcXVlc3QuIEZhbGxiYWNrIHRvIGEgR0VUIHJlcXVlc3QuXG4gICAgICAgICAgICBpZiAobWV0aG9kID09PSBcIkhFQURcIikge1xuICAgICAgICAgICAgICBtYWtlUmVxdWVzdChcIkdFVFwiLCB1cmwpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgY2FsbGJhY2socmVxdWVzdCwgbmV3IEVycm9yKFwiVGhlIHJlcXVlc3QgZmFpbGVkIHdpdGggc3RhdHVzIGNvZGU6IFwiICsgc3RhdHVzKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICB4aHIuc2VuZCgpO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIC8vIFJpc2UgQ2FjaGUgaXMgbm90IHJ1bm5pbmcgKHByZXZpZXcpLCBza2lwIEhFQUQgcmVxdWVzdCBhbmQgZXhlY3V0ZSBjYWxsYmFjayBpbW1lZGlhdGVseVxuICAgICAgICBjYWxsYmFjayhyZXF1ZXN0KTtcbiAgICAgIH1cblxuICAgIH1cblxuICAgIGlmICghX3BpbmdSZWNlaXZlZCkge1xuICAgICAgLyoganNoaW50IHZhbGlkdGhpczogdHJ1ZSAqL1xuICAgICAgcmV0dXJuIHRoaXMucGluZyhmaWxlUmVxdWVzdCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmaWxlUmVxdWVzdCgpO1xuICAgIH1cblxuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBnZXRGaWxlOiBnZXRGaWxlLFxuICAgIHBpbmc6IHBpbmdcbiAgfTtcblxufSkoKTtcblxudmFyIFJpc2VWaXNpb24gPSBSaXNlVmlzaW9uIHx8IHt9O1xuXG5SaXNlVmlzaW9uLkNvbW1vbiA9IFJpc2VWaXNpb24uQ29tbW9uIHx8IHt9O1xuXG5SaXNlVmlzaW9uLkNvbW1vbi5VdGlsaXRpZXMgPSAoZnVuY3Rpb24oKSB7XG5cbiAgZnVuY3Rpb24gZ2V0Rm9udENzc1N0eWxlKGNsYXNzTmFtZSwgZm9udE9iaikge1xuICAgIHZhciBmYW1pbHkgPSBcImZvbnQtZmFtaWx5OlwiICsgZm9udE9iai5mb250LmZhbWlseSArIFwiOyBcIjtcbiAgICB2YXIgY29sb3IgPSBcImNvbG9yOiBcIiArIChmb250T2JqLmNvbG9yID8gZm9udE9iai5jb2xvciA6IGZvbnRPYmouZm9yZWNvbG9yKSArIFwiOyBcIjtcbiAgICB2YXIgc2l6ZSA9IFwiZm9udC1zaXplOiBcIiArIChmb250T2JqLnNpemUuaW5kZXhPZihcInB4XCIpID09PSAtMSA/IGZvbnRPYmouc2l6ZSArIFwicHg7IFwiIDogZm9udE9iai5zaXplICsgXCI7IFwiKTtcbiAgICB2YXIgd2VpZ2h0ID0gXCJmb250LXdlaWdodDogXCIgKyAoZm9udE9iai5ib2xkID8gXCJib2xkXCIgOiBcIm5vcm1hbFwiKSArIFwiOyBcIjtcbiAgICB2YXIgaXRhbGljID0gXCJmb250LXN0eWxlOiBcIiArIChmb250T2JqLml0YWxpYyA/IFwiaXRhbGljXCIgOiBcIm5vcm1hbFwiKSArIFwiOyBcIjtcbiAgICB2YXIgdW5kZXJsaW5lID0gXCJ0ZXh0LWRlY29yYXRpb246IFwiICsgKGZvbnRPYmoudW5kZXJsaW5lID8gXCJ1bmRlcmxpbmVcIiA6IFwibm9uZVwiKSArIFwiOyBcIjtcbiAgICB2YXIgaGlnaGxpZ2h0ID0gXCJiYWNrZ3JvdW5kLWNvbG9yOiBcIiArIChmb250T2JqLmhpZ2hsaWdodENvbG9yID8gZm9udE9iai5oaWdobGlnaHRDb2xvciA6IGZvbnRPYmouYmFja2NvbG9yKSArIFwiOyBcIjtcblxuICAgIHJldHVybiBcIi5cIiArIGNsYXNzTmFtZSArIFwiIHtcIiArIGZhbWlseSArIGNvbG9yICsgc2l6ZSArIHdlaWdodCArIGl0YWxpYyArIHVuZGVybGluZSArIGhpZ2hsaWdodCArIFwifVwiO1xuICB9XG5cbiAgZnVuY3Rpb24gYWRkQ1NTUnVsZXMocnVsZXMpIHtcbiAgICB2YXIgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7XG5cbiAgICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoID0gcnVsZXMubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIHN0eWxlLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHJ1bGVzW2ldKSk7XG4gICAgfVxuXG4gICAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChzdHlsZSk7XG4gIH1cblxuICAvKlxuICAgKiBMb2FkcyBHb29nbGUgb3IgY3VzdG9tIGZvbnRzLCBpZiBhcHBsaWNhYmxlLCBhbmQgaW5qZWN0cyBDU1Mgc3R5bGVzXG4gICAqIGludG8gdGhlIGhlYWQgb2YgdGhlIGRvY3VtZW50LlxuICAgKlxuICAgKiBAcGFyYW0gICAgYXJyYXkgICAgc2V0dGluZ3MgICAgQXJyYXkgb2Ygb2JqZWN0cyB3aXRoIHRoZSBmb2xsb3dpbmcgZm9ybTpcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbe1xuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJjbGFzc1wiOiBcImRhdGVcIixcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiZm9udFNldHRpbmdcIjoge1xuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvbGQ6IHRydWUsXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IFwiYmxhY2tcIixcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb250OiB7XG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmYW1pbHk6IFwiQWtyb25pbVwiLFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9udDogXCJBa3JvbmltXCIsXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBcIlZlcmRhbmFcIixcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiZ29vZ2xlXCIsXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmw6IFwiaHR0cDovL2N1c3RvbS1mb250LXVybFwiXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoaWdobGlnaHRDb2xvcjogXCJ0cmFuc3BhcmVudFwiLFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0YWxpYzogZmFsc2UsXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogXCIyMFwiLFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVuZGVybGluZTogZmFsc2VcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XVxuICAgKlxuICAgKiAgICAgICAgICAgb2JqZWN0ICAgY29udGVudERvYyAgICBEb2N1bWVudCBvYmplY3QgaW50byB3aGljaCB0byBpbmplY3Qgc3R5bGVzXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuZCBsb2FkIGZvbnRzIChvcHRpb25hbCkuXG4gICAqL1xuICBmdW5jdGlvbiBsb2FkRm9udHMoc2V0dGluZ3MsIGNvbnRlbnREb2MpIHtcbiAgICBzZXR0aW5ncy5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgIGlmIChpdGVtLmNsYXNzICYmIGl0ZW0uZm9udFNldHRpbmcpIHtcbiAgICAgICAgYWRkQ1NTUnVsZXMoWyBnZXRGb250Q3NzU3R5bGUoaXRlbS5jbGFzcywgaXRlbS5mb250U2V0dGluZykgXSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChpdGVtLmZvbnRTZXR0aW5nLmZvbnQudHlwZSkge1xuICAgICAgICBpZiAoaXRlbS5mb250U2V0dGluZy5mb250LnR5cGUgPT09IFwiY3VzdG9tXCIgJiYgaXRlbS5mb250U2V0dGluZy5mb250LmZhbWlseSAmJlxuICAgICAgICAgIGl0ZW0uZm9udFNldHRpbmcuZm9udC51cmwpIHtcbiAgICAgICAgICBsb2FkQ3VzdG9tRm9udChpdGVtLmZvbnRTZXR0aW5nLmZvbnQuZmFtaWx5LCBpdGVtLmZvbnRTZXR0aW5nLmZvbnQudXJsLFxuICAgICAgICAgICAgY29udGVudERvYyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXRlbS5mb250U2V0dGluZy5mb250LnR5cGUgPT09IFwiZ29vZ2xlXCIgJiYgaXRlbS5mb250U2V0dGluZy5mb250LmZhbWlseSkge1xuICAgICAgICAgIGxvYWRHb29nbGVGb250KGl0ZW0uZm9udFNldHRpbmcuZm9udC5mYW1pbHksIGNvbnRlbnREb2MpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBsb2FkQ3VzdG9tRm9udChmYW1pbHksIHVybCwgY29udGVudERvYykge1xuICAgIHZhciBzaGVldCA9IG51bGw7XG4gICAgdmFyIHJ1bGUgPSBcImZvbnQtZmFtaWx5OiBcIiArIGZhbWlseSArIFwiOyBcIiArIFwic3JjOiB1cmwoJ1wiICsgdXJsICsgXCInKTtcIjtcblxuICAgIGNvbnRlbnREb2MgPSBjb250ZW50RG9jIHx8IGRvY3VtZW50O1xuXG4gICAgc2hlZXQgPSBjb250ZW50RG9jLnN0eWxlU2hlZXRzWzBdO1xuXG4gICAgaWYgKHNoZWV0ICE9PSBudWxsKSB7XG4gICAgICBzaGVldC5hZGRSdWxlKFwiQGZvbnQtZmFjZVwiLCBydWxlKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBsb2FkR29vZ2xlRm9udChmYW1pbHksIGNvbnRlbnREb2MpIHtcbiAgICB2YXIgc3R5bGVzaGVldCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaW5rXCIpO1xuXG4gICAgY29udGVudERvYyA9IGNvbnRlbnREb2MgfHwgZG9jdW1lbnQ7XG5cbiAgICBzdHlsZXNoZWV0LnNldEF0dHJpYnV0ZShcInJlbFwiLCBcInN0eWxlc2hlZXRcIik7XG4gICAgc3R5bGVzaGVldC5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsIFwidGV4dC9jc3NcIik7XG5cbiAgICAvLyBzcGxpdCB0byBhY2NvdW50IGZvciBmYW1pbHkgdmFsdWUgY29udGFpbmluZyBhIGZhbGxiYWNrIChlZy4gQWxhZGluLHNhbnMtc2VyaWYpXG4gICAgc3R5bGVzaGVldC5zZXRBdHRyaWJ1dGUoXCJocmVmXCIsIFwiaHR0cHM6Ly9mb250cy5nb29nbGVhcGlzLmNvbS9jc3M/ZmFtaWx5PVwiICsgZmFtaWx5LnNwbGl0KFwiLFwiKVswXSk7XG5cbiAgICBpZiAoc3R5bGVzaGVldCAhPT0gbnVsbCkge1xuICAgICAgY29udGVudERvYy5nZXRFbGVtZW50c0J5VGFnTmFtZShcImhlYWRcIilbMF0uYXBwZW5kQ2hpbGQoc3R5bGVzaGVldCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcHJlbG9hZEltYWdlcyh1cmxzKSB7XG4gICAgdmFyIGxlbmd0aCA9IHVybHMubGVuZ3RoLFxuICAgICAgaW1hZ2VzID0gW107XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICBpbWFnZXNbaV0gPSBuZXcgSW1hZ2UoKTtcbiAgICAgIGltYWdlc1tpXS5zcmMgPSB1cmxzW2ldO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGdldFF1ZXJ5UGFyYW1ldGVyKHBhcmFtKSB7XG4gICAgdmFyIHF1ZXJ5ID0gd2luZG93LmxvY2F0aW9uLnNlYXJjaC5zdWJzdHJpbmcoMSksXG4gICAgICB2YXJzID0gcXVlcnkuc3BsaXQoXCImXCIpLFxuICAgICAgcGFpcjtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdmFycy5sZW5ndGg7IGkrKykge1xuICAgICAgcGFpciA9IHZhcnNbaV0uc3BsaXQoXCI9XCIpO1xuXG4gICAgICBpZiAocGFpclswXSA9PSBwYXJhbSkge1xuICAgICAgICByZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KHBhaXJbMV0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBcIlwiO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0UmlzZUNhY2hlRXJyb3JNZXNzYWdlKHN0YXR1c0NvZGUpIHtcbiAgICB2YXIgZXJyb3JNZXNzYWdlID0gXCJcIjtcbiAgICBzd2l0Y2ggKHN0YXR1c0NvZGUpIHtcbiAgICAgIGNhc2UgNDA0OlxuICAgICAgICBlcnJvck1lc3NhZ2UgPSBcIlRoZSBmaWxlIGRvZXMgbm90IGV4aXN0IG9yIGNhbm5vdCBiZSBhY2Nlc3NlZC5cIjtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIDUwNzpcbiAgICAgICAgZXJyb3JNZXNzYWdlID0gXCJUaGVyZSBpcyBub3QgZW5vdWdoIGRpc2sgc3BhY2UgdG8gc2F2ZSB0aGUgZmlsZSBvbiBSaXNlIENhY2hlLlwiO1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGVycm9yTWVzc2FnZSA9IFwiVGhlcmUgd2FzIGEgcHJvYmxlbSByZXRyaWV2aW5nIHRoZSBmaWxlIGZyb20gUmlzZSBDYWNoZS5cIjtcbiAgICB9XG5cbiAgICByZXR1cm4gZXJyb3JNZXNzYWdlO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBnZXRRdWVyeVBhcmFtZXRlcjogZ2V0UXVlcnlQYXJhbWV0ZXIsXG4gICAgZ2V0Rm9udENzc1N0eWxlOiAgZ2V0Rm9udENzc1N0eWxlLFxuICAgIGFkZENTU1J1bGVzOiAgICAgIGFkZENTU1J1bGVzLFxuICAgIGxvYWRGb250czogICAgICAgIGxvYWRGb250cyxcbiAgICBsb2FkQ3VzdG9tRm9udDogICBsb2FkQ3VzdG9tRm9udCxcbiAgICBsb2FkR29vZ2xlRm9udDogICBsb2FkR29vZ2xlRm9udCxcbiAgICBwcmVsb2FkSW1hZ2VzOiAgICBwcmVsb2FkSW1hZ2VzLFxuICAgIGdldFJpc2VDYWNoZUVycm9yTWVzc2FnZTogZ2V0UmlzZUNhY2hlRXJyb3JNZXNzYWdlXG4gIH07XG59KSgpO1xuXG4vKiBleHBvcnRlZCBjb25maWcgKi9cbmlmICh0eXBlb2YgYW5ndWxhciAhPT0gXCJ1bmRlZmluZWRcIikge1xuICBhbmd1bGFyLm1vZHVsZShcInJpc2V2aXNpb24uY29tbW9uLmkxOG4uY29uZmlnXCIsIFtdKVxuICAgIC5jb25zdGFudChcIkxPQ0FMRVNfUFJFRklYXCIsIFwibG9jYWxlcy90cmFuc2xhdGlvbl9cIilcbiAgICAuY29uc3RhbnQoXCJMT0NBTEVTX1NVRklYXCIsIFwiLmpzb25cIik7XG59XG5cbnZhciBjb25maWcgPSB7XG4gIFNUT1JBR0VfRU5WOiBcInByb2RcIlxufTtcblxuLyogZ2xvYmFsIGdhZGdldHMsIF8gKi9cblxudmFyIFJpc2VWaXNpb24gPSBSaXNlVmlzaW9uIHx8IHt9O1xuUmlzZVZpc2lvbi5JbWFnZSA9IHt9O1xuXG5SaXNlVmlzaW9uLkltYWdlID0gKGZ1bmN0aW9uIChnYWRnZXRzKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuXG4gIHZhciBfbW9kZTtcblxuICB2YXIgX3ByZWZzID0gbmV3IGdhZGdldHMuUHJlZnMoKSxcbiAgICBfbWVzc2FnZSA9IG51bGwsXG4gICAgX3BhcmFtcyA9IG51bGw7XG5cbiAgdmFyIF9zdG9yYWdlID0gbnVsbCxcbiAgICBfbm9uU3RvcmFnZSA9IG51bGwsXG4gICAgX3NsaWRlciA9IG51bGw7XG5cbiAgdmFyIF9jdXJyZW50RmlsZXMgPSBbXTtcblxuICB2YXIgX2Vycm9yTG9nID0gbnVsbCxcbiAgICBfY29uZmlndXJhdGlvblR5cGUgPSBudWxsLFxuICAgIF9lcnJvclRpbWVyID0gbnVsbCxcbiAgICBfZXJyb3JGbGFnID0gZmFsc2UsXG4gICAgX3N0b3JhZ2VFcnJvckZsYWcgPSBmYWxzZSxcbiAgICBfY29uZmlndXJhdGlvbkxvZ2dlZCA9IGZhbHNlO1xuXG4gIHZhciBfdmlld2VyUGF1c2VkID0gdHJ1ZTtcblxuICAvKlxuICAgKiAgUHJpdmF0ZSBNZXRob2RzXG4gICAqL1xuICBmdW5jdGlvbiBfcmVhZHkoKSB7XG4gICAgZ2FkZ2V0cy5ycGMuY2FsbChcIlwiLCBcInJzZXZlbnRfcmVhZHlcIiwgbnVsbCwgX3ByZWZzLmdldFN0cmluZyhcImlkXCIpLFxuICAgICAgdHJ1ZSwgdHJ1ZSwgdHJ1ZSwgdHJ1ZSwgdHJ1ZSk7XG4gIH1cblxuICBmdW5jdGlvbiBfZG9uZSgpIHtcbiAgICBnYWRnZXRzLnJwYy5jYWxsKFwiXCIsIFwicnNldmVudF9kb25lXCIsIG51bGwsIF9wcmVmcy5nZXRTdHJpbmcoXCJpZFwiKSk7XG5cbiAgICAvLyBBbnkgZXJyb3JzIG5lZWQgdG8gYmUgbG9nZ2VkIGJlZm9yZSB0aGUgZG9uZSBldmVudC5cbiAgICBpZiAoX2Vycm9yTG9nICE9PSBudWxsKSB7XG4gICAgICBsb2dFdmVudChfZXJyb3JMb2csIHRydWUpO1xuICAgIH1cblxuICAgIC8vIGxvZyBcImRvbmVcIiBldmVudFxuICAgIGxvZ0V2ZW50KHsgXCJldmVudFwiOiBcImRvbmVcIiwgXCJmaWxlX3VybFwiOiBfZ2V0Q3VycmVudEZpbGUoKSB9LCBmYWxzZSk7XG4gIH1cblxuICBmdW5jdGlvbiBfY2xlYXJFcnJvclRpbWVyKCkge1xuICAgIGNsZWFyVGltZW91dChfZXJyb3JUaW1lcik7XG4gICAgX2Vycm9yVGltZXIgPSBudWxsO1xuICB9XG5cbiAgZnVuY3Rpb24gX3N0YXJ0RXJyb3JUaW1lcigpIHtcbiAgICBfY2xlYXJFcnJvclRpbWVyKCk7XG5cbiAgICBfZXJyb3JUaW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgLy8gbm90aWZ5IFZpZXdlciB3aWRnZXQgaXMgZG9uZVxuICAgICAgX2RvbmUoKTtcbiAgICB9LCA1MDAwKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9nZXRDdXJyZW50RmlsZSgpIHtcbiAgICB2YXIgc2xpZGVOdW0gPSAtMTtcblxuICAgIGlmIChfY3VycmVudEZpbGVzICYmIF9jdXJyZW50RmlsZXMubGVuZ3RoID4gMCkge1xuICAgICAgaWYgKF9tb2RlID09PSBcImZpbGVcIikge1xuICAgICAgICByZXR1cm4gX2N1cnJlbnRGaWxlc1swXTtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKF9tb2RlID09PSBcImZvbGRlclwiICYmIF9zbGlkZXIgJiYgX3NsaWRlci5pc1JlYWR5KCkpIHtcbiAgICAgICAgLy8gcmV0cmlldmUgdGhlIGN1cnJlbnRseSBwbGF5ZWQgc2xpZGVcbiAgICAgICAgc2xpZGVOdW0gPSBfc2xpZGVyLmdldEN1cnJlbnRTbGlkZSgpO1xuXG4gICAgICAgIGlmIChzbGlkZU51bSAhPT0gLTEpIHtcbiAgICAgICAgICByZXR1cm4gX2N1cnJlbnRGaWxlc1tzbGlkZU51bV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGluaXQoKSB7XG4gICAgdmFyIGNvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY29udGFpbmVyXCIpLFxuICAgICAgZnJhZ21lbnQgPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCksXG4gICAgICBlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksXG4gICAgICBpc1N0b3JhZ2VGaWxlO1xuXG4gICAgLy8gY3JlYXRlIGluc3RhbmNlIG9mIG1lc3NhZ2VcbiAgICBfbWVzc2FnZSA9IG5ldyBSaXNlVmlzaW9uLkNvbW1vbi5NZXNzYWdlKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY29udGFpbmVyXCIpLFxuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtZXNzYWdlQ29udGFpbmVyXCIpKTtcblxuICAgIC8vIHNob3cgd2FpdCBtZXNzYWdlXG4gICAgX21lc3NhZ2Uuc2hvdyhcIlBsZWFzZSB3YWl0IHdoaWxlIHlvdXIgaW1hZ2UgaXMgZG93bmxvYWRlZC5cIik7XG5cbiAgICAvLyBsZWdhY3lcbiAgICBpZiAoX3BhcmFtcy5iYWNrZ3JvdW5kICYmIE9iamVjdC5rZXlzKF9wYXJhbXMuYmFja2dyb3VuZCkubGVuZ3RoID4gMCkge1xuICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5iYWNrZ3JvdW5kID0gX3BhcmFtcy5iYWNrZ3JvdW5kLmNvbG9yO1xuICAgIH1cblxuICAgIGlmIChfbW9kZSA9PT0gXCJmaWxlXCIpIHtcbiAgICAgIC8vIGNyZWF0ZSB0aGUgaW1hZ2UgPGRpdj4gd2l0aGluIHRoZSBjb250YWluZXIgPGRpdj5cbiAgICAgIGVsID0gX2dldEltYWdlRWxlbWVudCgpO1xuICAgICAgZnJhZ21lbnQuYXBwZW5kQ2hpbGQoZWwpO1xuICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGZyYWdtZW50KTtcblxuICAgICAgaXNTdG9yYWdlRmlsZSA9IChPYmplY3Qua2V5cyhfcGFyYW1zLnN0b3JhZ2UpLmxlbmd0aCAhPT0gMCk7XG5cbiAgICAgIGlmICghaXNTdG9yYWdlRmlsZSkge1xuICAgICAgICBfY29uZmlndXJhdGlvblR5cGUgPSBcImN1c3RvbVwiO1xuXG4gICAgICAgIF9ub25TdG9yYWdlID0gbmV3IFJpc2VWaXNpb24uSW1hZ2UuTm9uU3RvcmFnZShfcGFyYW1zKTtcbiAgICAgICAgX25vblN0b3JhZ2UuaW5pdCgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgX2NvbmZpZ3VyYXRpb25UeXBlID0gXCJzdG9yYWdlIGZpbGVcIjtcblxuICAgICAgICAvLyBjcmVhdGUgYW5kIGluaXRpYWxpemUgdGhlIFN0b3JhZ2UgZmlsZSBpbnN0YW5jZVxuICAgICAgICBfc3RvcmFnZSA9IG5ldyBSaXNlVmlzaW9uLkltYWdlLlN0b3JhZ2VGaWxlKF9wYXJhbXMpO1xuICAgICAgICBfc3RvcmFnZS5pbml0KCk7XG4gICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKF9tb2RlID09PSBcImZvbGRlclwiKSB7XG4gICAgICAvLyBjcmVhdGUgdGhlIHNsaWRlciBjb250YWluZXIgPGRpdj4gd2l0aGluIHRoZSBjb250YWluZXIgPGRpdj5cbiAgICAgIGVsLmNsYXNzTmFtZSA9IFwidHAtYmFubmVyLWNvbnRhaW5lclwiO1xuXG4gICAgICBmcmFnbWVudC5hcHBlbmRDaGlsZChlbCk7XG4gICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoZnJhZ21lbnQpO1xuXG4gICAgICBfY29uZmlndXJhdGlvblR5cGUgPSBcInN0b3JhZ2UgZm9sZGVyXCI7XG5cbiAgICAgIC8vIGNyZWF0ZSBhbmQgaW5pdGlhbGl6ZSB0aGUgU3RvcmFnZSBmb2xkZXIgaW5zdGFuY2VcbiAgICAgIF9zdG9yYWdlID0gbmV3IFJpc2VWaXNpb24uSW1hZ2UuU3RvcmFnZUZvbGRlcihfcGFyYW1zKTtcbiAgICAgIF9zdG9yYWdlLmluaXQoKTtcbiAgICB9XG5cbiAgICBfcmVhZHkoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9nZXRJbWFnZUVsZW1lbnQoKSB7XG4gICAgdmFyIGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcblxuICAgIGVsLnNldEF0dHJpYnV0ZShcImlkXCIsIFwiaW1hZ2VcIik7XG4gICAgZWwuY2xhc3NOYW1lID0gX3BhcmFtcy5wb3NpdGlvbjtcbiAgICBlbC5jbGFzc05hbWUgPSBfcGFyYW1zLnNjYWxlVG9GaXQgPyBlbC5jbGFzc05hbWUgKyBcIiBzY2FsZS10by1maXRcIiA6IGVsLmNsYXNzTmFtZTtcblxuICAgIHJldHVybiBlbDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNldFNpbmdsZUltYWdlKHVybCkge1xuICAgICAgdmFyIGNvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY29udGFpbmVyXCIpLFxuICAgICAgaW1hZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2NvbnRhaW5lciAjaW1hZ2VcIiksXG4gICAgICBmcmFnbWVudCA9IGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSxcbiAgICAgIGVsID0gX2dldEltYWdlRWxlbWVudCgpO1xuXG4gICAgICBlbC5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSBcInVybCgnXCIgKyB1cmwgKyBcIicpXCI7XG4gICAgICBlbC5zdHlsZS5vcGFjaXR5ID0gXCIwXCI7XG5cbiAgICAgIGZyYWdtZW50LmFwcGVuZENoaWxkKGVsKTtcbiAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChmcmFnbWVudCk7XG4gICAgICBlbC5zdHlsZS5vcGFjaXR5ID0gXCIxXCI7XG5cbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICBjb250YWluZXIucmVtb3ZlQ2hpbGQoaW1hZ2UpO1xuICAgICAgfSwgMzAwMCk7XG4gIH1cblxuICAvKlxuICAgKiAgUHVibGljIE1ldGhvZHNcbiAgICovXG4gIGZ1bmN0aW9uIGhhc1N0b3JhZ2VFcnJvcigpIHtcbiAgICByZXR1cm4gX3N0b3JhZ2VFcnJvckZsYWc7XG4gIH1cblxuICBmdW5jdGlvbiBsb2dFdmVudChwYXJhbXMsIGlzRXJyb3IpIHtcbiAgICBpZiAoaXNFcnJvcikge1xuICAgICAgX2Vycm9yTG9nID0gcGFyYW1zO1xuICAgIH1cblxuICAgIFJpc2VWaXNpb24uQ29tbW9uLkxvZ2dlclV0aWxzLmxvZ0V2ZW50KGdldFRhYmxlTmFtZSgpLCBwYXJhbXMpO1xuICB9XG5cbiAgZnVuY3Rpb24gb25GaWxlSW5pdCh1cmxzKSB7XG4gICAgaWYgKF9tb2RlID09PSBcImZpbGVcIikge1xuICAgICAgLy8gdXJscyB2YWx1ZSB3aWxsIGJlIGEgc3RyaW5nXG4gICAgICBfY3VycmVudEZpbGVzWzBdID0gdXJscztcblxuICAgICAgLy8gcmVtb3ZlIGEgbWVzc2FnZSBwcmV2aW91c2x5IHNob3duXG4gICAgICBfbWVzc2FnZS5oaWRlKCk7XG5cbiAgICAgIHNldFNpbmdsZUltYWdlKF9jdXJyZW50RmlsZXNbMF0pO1xuXG4gICAgfSBlbHNlIGlmIChfbW9kZSA9PT0gXCJmb2xkZXJcIikge1xuICAgICAgLy8gdXJscyB2YWx1ZSB3aWxsIGJlIGFuIGFycmF5XG4gICAgICBfY3VycmVudEZpbGVzID0gdXJscztcblxuICAgICAgLy8gY3JlYXRlIHNsaWRlciBpbnN0YW5jZVxuICAgICAgX3NsaWRlciA9IG5ldyBSaXNlVmlzaW9uLkltYWdlLlNsaWRlcihfcGFyYW1zKTtcbiAgICAgIF9zbGlkZXIuaW5pdCh1cmxzKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBvbkZpbGVSZWZyZXNoKHVybHMpIHtcbiAgICBpZiAoX21vZGUgPT09IFwiZmlsZVwiKSB7XG4gICAgICAvLyB1cmxzIHZhbHVlIHdpbGwgYmUgYSBzdHJpbmcgb2Ygb25lIHVybFxuICAgICAgX2N1cnJlbnRGaWxlc1swXSA9IHVybHM7XG5cbiAgICAgIHNldFNpbmdsZUltYWdlKF9jdXJyZW50RmlsZXNbMF0pO1xuXG4gICAgfSBlbHNlIGlmIChfbW9kZSA9PT0gXCJmb2xkZXJcIikge1xuICAgICAgLy8gdXJscyB2YWx1ZSB3aWxsIGJlIGFuIGFycmF5IG9mIHVybHNcbiAgICAgIF9jdXJyZW50RmlsZXMgPSB1cmxzO1xuXG4gICAgICBfc2xpZGVyLnJlZnJlc2goX2N1cnJlbnRGaWxlcyk7XG4gICAgfVxuXG4gICAgLy8gaW4gY2FzZSByZWZyZXNoZWQgZmlsZSBmaXhlcyBhbiBlcnJvciB3aXRoIHByZXZpb3VzIGZpbGUsIGVuc3VyZSBmbGFnIGlzIHJlbW92ZWQgc28gcGxheWJhY2sgaXMgYXR0ZW1wdGVkIGFnYWluXG4gICAgX2Vycm9yRmxhZyA9IGZhbHNlO1xuICAgIF9zdG9yYWdlRXJyb3JGbGFnID0gZmFsc2U7XG4gICAgX2Vycm9yTG9nID0gbnVsbDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNldEFkZGl0aW9uYWxQYXJhbXMoYWRkaXRpb25hbFBhcmFtcywgbW9kZVR5cGUpIHtcbiAgICBfcGFyYW1zID0gXy5jbG9uZShhZGRpdGlvbmFsUGFyYW1zKTtcbiAgICBfbW9kZSA9IG1vZGVUeXBlO1xuXG4gICAgX3BhcmFtcy53aWR0aCA9IF9wcmVmcy5nZXRJbnQoXCJyc1dcIik7XG4gICAgX3BhcmFtcy5oZWlnaHQgPSBfcHJlZnMuZ2V0SW50KFwicnNIXCIpO1xuXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjb250YWluZXJcIikuc3R5bGUuaGVpZ2h0ID0gX3ByZWZzLmdldEludChcInJzSFwiKSArIFwicHhcIjtcbiAgICBpbml0KCk7XG4gIH1cblxuICBmdW5jdGlvbiBvblNsaWRlclJlYWR5KCkge1xuICAgIF9tZXNzYWdlLmhpZGUoKTtcblxuICAgIGlmICghX3ZpZXdlclBhdXNlZCkge1xuICAgICAgX3NsaWRlci5wbGF5KCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gb25TbGlkZXJDb21wbGV0ZSgpIHtcbiAgICBfZG9uZSgpO1xuICB9XG5cbiAgZnVuY3Rpb24gcGF1c2UoKSB7XG4gICAgX3ZpZXdlclBhdXNlZCA9IHRydWU7XG5cbiAgICAvLyBpbiBjYXNlIGVycm9yIHRpbWVyIHN0aWxsIHJ1bm5pbmcgKG5vIGNvbmRpdGlvbmFsIGNoZWNrIG9uIGVycm9yRmxhZywgaXQgbWF5IGhhdmUgYmVlbiByZXNldCBpbiBvbkZpbGVSZWZyZXNoKVxuICAgIF9jbGVhckVycm9yVGltZXIoKTtcblxuICAgIGlmIChfbW9kZSA9PT0gXCJmb2xkZXJcIiAmJiBfc2xpZGVyICYmIF9zbGlkZXIuaXNSZWFkeSgpKSB7XG4gICAgICBfc2xpZGVyLnBhdXNlKCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcGxheSgpIHtcbiAgICBfdmlld2VyUGF1c2VkID0gZmFsc2U7XG5cbiAgICBpZiAoIV9jb25maWd1cmF0aW9uTG9nZ2VkKSB7XG4gICAgICBsb2dFdmVudCh7IFwiZXZlbnRcIjogXCJjb25maWd1cmF0aW9uXCIsIFwiZXZlbnRfZGV0YWlsc1wiOiBfY29uZmlndXJhdGlvblR5cGUgfSwgZmFsc2UpO1xuICAgICAgX2NvbmZpZ3VyYXRpb25Mb2dnZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIGxvZ0V2ZW50KHsgXCJldmVudFwiOiBcInBsYXlcIiwgXCJmaWxlX3VybFwiOiBfZ2V0Q3VycmVudEZpbGUoKSB9LCBmYWxzZSk7XG5cbiAgICBpZiAoX2Vycm9yRmxhZykge1xuICAgICAgX3N0YXJ0RXJyb3JUaW1lcigpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChfbW9kZSA9PT0gXCJmb2xkZXJcIiAmJiBfc2xpZGVyICYmIF9zbGlkZXIuaXNSZWFkeSgpKSB7XG4gICAgICBfc2xpZGVyLnBsYXkoKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBnZXRUYWJsZU5hbWUoKSB7XG4gICAgcmV0dXJuIFwiaW1hZ2VfZXZlbnRzXCI7XG4gIH1cblxuICBmdW5jdGlvbiBzaG93RXJyb3IobWVzc2FnZSwgaXNTdG9yYWdlRXJyb3IpIHtcbiAgICBfZXJyb3JGbGFnID0gdHJ1ZTtcbiAgICBfc3RvcmFnZUVycm9yRmxhZyA9IHR5cGVvZiBpc1N0b3JhZ2VFcnJvciAhPT0gXCJ1bmRlZmluZWRcIjtcblxuICAgIF9tZXNzYWdlLnNob3cobWVzc2FnZSk7XG5cbiAgICAvLyBkZXN0cm95IHNsaWRlciBpZiBpdCBleGlzdHMgYW5kIHByZXZpb3VzbHkgbm90aWZpZWQgcmVhZHlcbiAgICBpZiAoX21vZGUgPT09IFwiZm9sZGVyXCIgJiYgX3NsaWRlciAmJiBfc2xpZGVyLmlzUmVhZHkoKSkge1xuICAgICAgX3NsaWRlci5kZXN0cm95KCk7XG4gICAgfVxuXG4gICAgaWYgKCFfdmlld2VyUGF1c2VkKSB7XG4gICAgICBfc3RhcnRFcnJvclRpbWVyKCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gc3RvcCgpIHtcbiAgICBwYXVzZSgpO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBcImhhc1N0b3JhZ2VFcnJvclwiOiBoYXNTdG9yYWdlRXJyb3IsXG4gICAgXCJsb2dFdmVudFwiOiBsb2dFdmVudCxcbiAgICBcIm9uRmlsZUluaXRcIjogb25GaWxlSW5pdCxcbiAgICBcIm9uRmlsZVJlZnJlc2hcIjogb25GaWxlUmVmcmVzaCxcbiAgICBcIm9uU2xpZGVyQ29tcGxldGVcIjogb25TbGlkZXJDb21wbGV0ZSxcbiAgICBcIm9uU2xpZGVyUmVhZHlcIjogb25TbGlkZXJSZWFkeSxcbiAgICBcInBhdXNlXCI6IHBhdXNlLFxuICAgIFwicGxheVwiOiBwbGF5LFxuICAgIFwic2V0QWRkaXRpb25hbFBhcmFtc1wiOiBzZXRBZGRpdGlvbmFsUGFyYW1zLFxuICAgIFwiZ2V0VGFibGVOYW1lXCI6IGdldFRhYmxlTmFtZSxcbiAgICBcInNob3dFcnJvclwiOiBzaG93RXJyb3IsXG4gICAgXCJzdG9wXCI6IHN0b3BcbiAgfTtcbn0pKGdhZGdldHMpO1xuXG4vKiBnbG9iYWwgXyAqL1xudmFyIFJpc2VWaXNpb24gPSBSaXNlVmlzaW9uIHx8IHt9O1xuUmlzZVZpc2lvbi5JbWFnZSA9IFJpc2VWaXNpb24uSW1hZ2UgfHwge307XG5cblJpc2VWaXNpb24uSW1hZ2UuU2xpZGVyID0gZnVuY3Rpb24gKHBhcmFtcykge1xuICBcInVzZSBzdHJpY3RcIjtcblxuICB2YXIgdG90YWxTbGlkZXMgPSAwLFxuICAgICRhcGkgPSBudWxsLFxuICAgIGN1cnJlbnRGaWxlcyA9IG51bGwsXG4gICAgbmV3RmlsZXMgPSBudWxsLFxuICAgIG5hdlRpbWVyID0gbnVsbCxcbiAgICBzbGlkZVRpbWVyID0gbnVsbCxcbiAgICBpc0xhc3RTbGlkZSA9IGZhbHNlLFxuICAgIHJlZnJlc2hTbGlkZXIgPSBmYWxzZSxcbiAgICBpc0xvYWRpbmcgPSB0cnVlLFxuICAgIGlzUGxheWluZyA9IGZhbHNlLFxuICAgIGlzSW50ZXJhY3RpbmcgPSBmYWxzZSxcbiAgICBuYXZUaW1lb3V0ID0gMzAwMDtcblxuICAvKlxuICAgKiAgUHJpdmF0ZSBNZXRob2RzXG4gICAqL1xuICBmdW5jdGlvbiBhZGRTbGlkZXMoKSB7XG4gICAgdmFyIGxpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRwLWJhbm5lciB1bFwiKSxcbiAgICAgIGZyYWdtZW50ID0gZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLFxuICAgICAgc2xpZGVzID0gW10sXG4gICAgICBzbGlkZSA9IG51bGwsXG4gICAgICBpbWFnZSA9IG51bGwsXG4gICAgICBwb3NpdGlvbiA9IFwiXCI7XG5cbiAgICB0b3RhbFNsaWRlcyA9IGN1cnJlbnRGaWxlcy5sZW5ndGg7XG5cbiAgICBjdXJyZW50RmlsZXMuZm9yRWFjaChmdW5jdGlvbihmaWxlKSB7XG4gICAgICBzbGlkZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaVwiKTtcbiAgICAgIGltYWdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKTtcblxuICAgICAgLy8gVHJhbnNpdGlvblxuICAgICAgc2xpZGUuc2V0QXR0cmlidXRlKFwiZGF0YS10cmFuc2l0aW9uXCIsIFwiZmFkZVwiKTtcbiAgICAgIHNsaWRlLnNldEF0dHJpYnV0ZShcImRhdGEtbWFzdGVyc3BlZWRcIiwgNTAwKTtcbiAgICAgIHNsaWRlLnNldEF0dHJpYnV0ZShcImRhdGEtZGVsYXlcIiwgcGFyYW1zLmR1cmF0aW9uICogMTAwMCk7XG5cbiAgICAgIGltYWdlLnNyYyA9IGZpbGUudXJsO1xuXG4gICAgICAvLyBBbGlnbm1lbnRcbiAgICAgIHN3aXRjaCAocGFyYW1zLnBvc2l0aW9uKSB7XG4gICAgICAgIGNhc2UgXCJ0b3AtbGVmdFwiOlxuICAgICAgICAgIHBvc2l0aW9uID0gXCJsZWZ0IHRvcFwiO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwidG9wLWNlbnRlclwiOlxuICAgICAgICAgIHBvc2l0aW9uID0gXCJjZW50ZXIgdG9wXCI7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJ0b3AtcmlnaHRcIjpcbiAgICAgICAgICBwb3NpdGlvbiA9IFwicmlnaHQgdG9wXCI7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJtaWRkbGUtbGVmdFwiOlxuICAgICAgICAgIHBvc2l0aW9uID0gXCJsZWZ0IGNlbnRlclwiO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwibWlkZGxlLWNlbnRlclwiOlxuICAgICAgICAgIHBvc2l0aW9uID0gXCJjZW50ZXIgY2VudGVyXCI7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJtaWRkbGUtcmlnaHRcIjpcbiAgICAgICAgICBwb3NpdGlvbiA9IFwicmlnaHQgY2VudGVyXCI7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJib3R0b20tbGVmdFwiOlxuICAgICAgICAgIHBvc2l0aW9uID0gXCJsZWZ0IGJvdHRvbVwiO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiYm90dG9tLWNlbnRlclwiOlxuICAgICAgICAgIHBvc2l0aW9uID0gXCJjZW50ZXIgYm90dG9tXCI7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJib3R0b20tcmlnaHRcIjpcbiAgICAgICAgICBwb3NpdGlvbiA9IFwicmlnaHQgYm90dG9tXCI7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcG9zaXRpb24gPSBcImxlZnQgdG9wXCI7XG4gICAgICB9XG5cbiAgICAgIGltYWdlLnNldEF0dHJpYnV0ZShcImRhdGEtYmdwb3NpdGlvblwiLCBwb3NpdGlvbik7XG5cbiAgICAgIC8vIFNjYWxlIHRvIEZpdFxuICAgICAgaWYgKHBhcmFtcy5zY2FsZVRvRml0KSB7XG4gICAgICAgIGltYWdlLnNldEF0dHJpYnV0ZShcImRhdGEtYmdmaXRcIiwgXCJjb250YWluXCIpO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIGltYWdlLnNldEF0dHJpYnV0ZShcImRhdGEtYmdmaXRcIiwgXCJub3JtYWxcIik7XG4gICAgICB9XG5cbiAgICAgIHNsaWRlLmFwcGVuZENoaWxkKGltYWdlKTtcbiAgICAgIHNsaWRlcy5wdXNoKHNsaWRlKTtcbiAgICB9KTtcblxuICAgIHNsaWRlcy5mb3JFYWNoKGZ1bmN0aW9uKHNsaWRlKSB7XG4gICAgICBmcmFnbWVudC5hcHBlbmRDaGlsZChzbGlkZSk7XG4gICAgfSk7XG5cbiAgICBsaXN0LmFwcGVuZENoaWxkKGZyYWdtZW50KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG9uU2xpZGVDaGFuZ2VkKGRhdGEpIHtcbiAgICBpZiAoaXNJbnRlcmFjdGluZykge1xuICAgICAgcGF1c2UoKTtcbiAgICB9XG4gICAgLy8gRG9uJ3QgY2FsbCBcImRvbmVcIiBpZiB1c2VyIGlzIGludGVyYWN0aW5nIHdpdGggdGhlIHNsaWRlc2hvdy5cbiAgICBlbHNlIHtcbiAgICAgIGlmIChpc0xhc3RTbGlkZSkge1xuICAgICAgICBpc0xhc3RTbGlkZSA9IGZhbHNlO1xuICAgICAgICBwYXVzZSgpO1xuICAgICAgICBSaXNlVmlzaW9uLkltYWdlLm9uU2xpZGVyQ29tcGxldGUoKTtcblxuICAgICAgICBpZiAocmVmcmVzaFNsaWRlcikge1xuICAgICAgICAgIC8vIERlc3Ryb3kgYW5kIHJlY3JlYXRlIHRoZSBzbGlkZXIgaWYgdGhlIGZpbGVzIGhhdmUgY2hhbmdlZC5cbiAgICAgICAgICBpZiAoJGFwaSkge1xuICAgICAgICAgICAgZGVzdHJveVNsaWRlcigpO1xuICAgICAgICAgICAgaW5pdChuZXdGaWxlcyk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmVmcmVzaFNsaWRlciA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGRhdGEuc2xpZGVJbmRleCA9PT0gdG90YWxTbGlkZXMpIHtcbiAgICAgIGlzTGFzdFNsaWRlID0gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBkZXN0cm95U2xpZGVyKCkge1xuICAgIC8vIFJlbW92ZSBldmVudCBoYW5kbGVycy5cbiAgICAkKFwiYm9keVwiKS5vZmYoXCJ0b3VjaGVuZFwiKTtcbiAgICAkYXBpLm9mZihcInJldm9sdXRpb24uc2xpZGUub25sb2FkZWRcIik7XG4gICAgJGFwaS5vZmYoXCJyZXZvbHV0aW9uLnNsaWRlLm9uY2hhbmdlXCIpO1xuXG4gICAgLy8gTGV0IHRoZSBzbGlkZXIgY2xlYW4gdXAgYWZ0ZXIgaXRzZWxmLlxuICAgICRhcGkucmV2a2lsbCgpO1xuICAgICRhcGkgPSBudWxsO1xuICB9XG5cbiAgLy8gVXNlciBoYXMgaW50ZXJhY3RlZCB3aXRoIHRoZSBzbGlkZXNob3cuXG4gIGZ1bmN0aW9uIGhhbmRsZVVzZXJBY3Rpdml0eSgpIHtcbiAgICBpc0ludGVyYWN0aW5nID0gdHJ1ZTtcbiAgICBjbGVhclRpbWVvdXQoc2xpZGVUaW1lcik7XG5cbiAgICAvLyBNb3ZlIHRvIG5leHQgc2xpZGUgYW5kIHJlc3VtZSB0aGUgc2xpZGVzaG93IGFmdGVyIGEgZGVsYXkuXG4gICAgc2xpZGVUaW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAkYXBpLnJldm5leHQoKTtcbiAgICAgICRhcGkucmV2cmVzdW1lKCk7XG5cbiAgICAgIGlzSW50ZXJhY3RpbmcgPSBmYWxzZTtcbiAgICAgIGlzUGxheWluZyA9IHRydWU7XG4gICAgfSwgcGFyYW1zLnBhdXNlICogMTAwMCk7XG5cbiAgICBoaWRlTmF2KCk7XG4gIH1cblxuICAvLyBIaWRlIHRoZSBuYXZpZ2F0aW9uIGFmdGVyIGEgZGVsYXkuXG4gIGZ1bmN0aW9uIGhpZGVOYXYoKSB7XG4gICAgaWYgKHBhcmFtcy5hdXRvSGlkZSkge1xuICAgICAgY2xlYXJUaW1lb3V0KG5hdlRpbWVyKTtcblxuICAgICAgbmF2VGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAkKFwiLnRwLWxlZnRhcnJvdywgLnRwLXJpZ2h0YXJyb3dcIikuYWRkQ2xhc3MoXCJoaWRlYXJyb3dzXCIpO1xuICAgICAgfSwgbmF2VGltZW91dCk7XG4gICAgfVxuICB9XG5cbiAgLypcbiAgICogIFB1YmxpYyBNZXRob2RzXG4gICAqICBUT0RPOiBUZXN0IHdoYXQgaGFwcGVucyB3aGVuIGZvbGRlciBpc24ndCBmb3VuZC5cbiAgICovXG4gIGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgaWYgKCRhcGkpIHtcbiAgICAgIGlzTGFzdFNsaWRlID0gZmFsc2U7XG4gICAgICBwYXVzZSgpO1xuICAgICAgZGVzdHJveVNsaWRlcigpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGdldEN1cnJlbnRTbGlkZSgpIHtcbiAgICBpZiAoJGFwaSAmJiBjdXJyZW50RmlsZXMgJiYgY3VycmVudEZpbGVzLmxlbmd0aCA+IDApIHtcbiAgICAgIHJldHVybiAkYXBpLnJldmN1cnJlbnRzbGlkZSgpO1xuICAgIH1cblxuICAgIHJldHVybiAtMTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGluaXQoZmlsZXMpIHtcbiAgICB2YXIgdHBCYW5uZXJDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRwLWJhbm5lci1jb250YWluZXJcIiksXG4gICAgICBmcmFnbWVudCA9IGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSxcbiAgICAgIHRwQmFubmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSxcbiAgICAgIHVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInVsXCIpO1xuXG4gICAgdHBCYW5uZXIuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJ0cC1iYW5uZXJcIik7XG4gICAgdHBCYW5uZXIuYXBwZW5kQ2hpbGQodWwpO1xuICAgIGZyYWdtZW50LmFwcGVuZENoaWxkKHRwQmFubmVyKTtcbiAgICB0cEJhbm5lckNvbnRhaW5lci5hcHBlbmRDaGlsZChmcmFnbWVudCk7XG5cbiAgICBjdXJyZW50RmlsZXMgPSBfLmNsb25lKGZpbGVzKTtcblxuICAgIGFkZFNsaWRlcygpO1xuXG4gICAgaXNMb2FkaW5nID0gdHJ1ZTtcbiAgICAkYXBpID0gJChcIi50cC1iYW5uZXJcIikucmV2b2x1dGlvbih7XG4gICAgICBcImhpZGVUaHVtYnNcIjogMCxcbiAgICAgIFwiaGlkZVRpbWVyQmFyXCI6IFwib25cIixcbiAgICAgIFwibmF2aWdhdGlvblR5cGVcIjogXCJub25lXCIsXG4gICAgICBcIm9uSG92ZXJTdG9wXCI6IFwib2ZmXCIsXG4gICAgICBcInN0YXJ0d2lkdGhcIjogcGFyYW1zLndpZHRoLFxuICAgICAgXCJzdGFydGhlaWdodFwiOiBwYXJhbXMuaGVpZ2h0XG4gICAgfSk7XG5cbiAgICAkYXBpLm9uKFwicmV2b2x1dGlvbi5zbGlkZS5vbmxvYWRlZFwiLCBmdW5jdGlvbigpIHtcbiAgICAgIC8vIFBhdXNlIHNsaWRlc2hvdyBzaW5jZSBpdCB3aWxsIGF1dG9wbGF5IGFuZCB0aGlzIGlzIG5vdCBjb25maWd1cmFibGUuXG4gICAgICBwYXVzZSgpO1xuICAgICAgaXNMb2FkaW5nID0gZmFsc2U7XG4gICAgICBSaXNlVmlzaW9uLkltYWdlLm9uU2xpZGVyUmVhZHkoKTtcbiAgICB9KTtcblxuICAgICRhcGkub24oXCJyZXZvbHV0aW9uLnNsaWRlLm9uY2hhbmdlXCIsIGZ1bmN0aW9uIChlLCBkYXRhKSB7XG4gICAgICBvblNsaWRlQ2hhbmdlZChkYXRhKTtcbiAgICB9KTtcblxuICAgIC8vIFN3aXBlIHRoZSBzbGlkZXIuXG4gICAgJChcImJvZHlcIikub24oXCJ0b3VjaGVuZFwiLCBcIi50cC1iYW5uZXJcIiwgZnVuY3Rpb24oKSB7XG4gICAgICBoYW5kbGVVc2VyQWN0aXZpdHkoKTtcbiAgICAgICQoXCIudHAtbGVmdGFycm93LCAudHAtcmlnaHRhcnJvd1wiKS5yZW1vdmVDbGFzcyhcImhpZGVhcnJvd3NcIik7XG4gICAgfSk7XG5cbiAgICAvLyBUb3VjaCB0aGUgbmF2aWdhdGlvbiBhcnJvd3MuXG4gICAgJChcImJvZHlcIikub24oXCJ0b3VjaGVuZFwiLCBcIi50cC1sZWZ0YXJyb3csIC50cC1yaWdodGFycm93XCIsIGZ1bmN0aW9uKCkge1xuICAgICAgaGFuZGxlVXNlckFjdGl2aXR5KCk7XG4gICAgfSk7XG5cbiAgICBoaWRlTmF2KCk7XG4gIH1cblxuICBmdW5jdGlvbiBpc1JlYWR5KCkge1xuICAgIHJldHVybiAhaXNMb2FkaW5nO1xuICB9XG5cbiAgZnVuY3Rpb24gcGxheSgpIHtcbiAgICBpZiAoJGFwaSkge1xuICAgICAgLy8gUmVzZXQgc2xpZGVzaG93IHRvIGZpcnN0IHNsaWRlLlxuICAgICAgaWYgKHBhcmFtcy5oYXNPd25Qcm9wZXJ0eShcInJlc3VtZVwiKSAmJiAhcGFyYW1zLnJlc3VtZSkge1xuICAgICAgICAkYXBpLnJldnNob3dzbGlkZSgwKTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFpc1BsYXlpbmcpIHtcbiAgICAgICAgJGFwaS5yZXZyZXN1bWUoKTtcbiAgICAgICAgaXNQbGF5aW5nID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBwYXVzZSgpIHtcbiAgICBpZiAoJGFwaSAmJiBpc1BsYXlpbmcpIHtcbiAgICAgICRhcGkucmV2cGF1c2UoKTtcbiAgICAgIGlzUGxheWluZyA9IGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHJlZnJlc2goZmlsZXMpIHtcbiAgICAvLyBTdGFydCBwcmVsb2FkaW5nIGltYWdlcyByaWdodCBhd2F5LlxuICAgIFJpc2VWaXNpb24uQ29tbW9uLlV0aWxpdGllcy5wcmVsb2FkSW1hZ2VzKGZpbGVzKTtcbiAgICBuZXdGaWxlcyA9IF8uY2xvbmUoZmlsZXMpO1xuICAgIHJlZnJlc2hTbGlkZXIgPSB0cnVlO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBcImdldEN1cnJlbnRTbGlkZVwiOiBnZXRDdXJyZW50U2xpZGUsXG4gICAgXCJkZXN0cm95XCI6IGRlc3Ryb3ksXG4gICAgXCJpbml0XCI6IGluaXQsXG4gICAgXCJpc1JlYWR5XCI6IGlzUmVhZHksXG4gICAgXCJwbGF5XCI6IHBsYXksXG4gICAgXCJwYXVzZVwiOiBwYXVzZSxcbiAgICBcInJlZnJlc2hcIjogcmVmcmVzaFxuICB9O1xufTtcblxuLyogZ2xvYmFsIGNvbmZpZyAqL1xudmFyIFJpc2VWaXNpb24gPSBSaXNlVmlzaW9uIHx8IHt9O1xuUmlzZVZpc2lvbi5JbWFnZSA9IFJpc2VWaXNpb24uSW1hZ2UgfHwge307XG5cblJpc2VWaXNpb24uSW1hZ2UuU3RvcmFnZUZpbGUgPSBmdW5jdGlvbiAocGFyYW1zKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuXG4gIHZhciBfaW5pdGlhbExvYWQgPSB0cnVlO1xuXG4gIC8qXG4gICAqICBQdWJsaWMgTWV0aG9kc1xuICAgKi9cbiAgZnVuY3Rpb24gaW5pdCgpIHtcbiAgICB2YXIgc3RvcmFnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJyaXNlLXN0b3JhZ2VcIik7XG5cbiAgICBzdG9yYWdlLmFkZEV2ZW50TGlzdGVuZXIoXCJyaXNlLXN0b3JhZ2UtcmVzcG9uc2VcIiwgZnVuY3Rpb24oZSkge1xuICAgICAgdmFyIHVybDtcblxuICAgICAgaWYgKGUuZGV0YWlsICYmIGUuZGV0YWlsLnVybCkge1xuXG4gICAgICAgIHVybCA9IGUuZGV0YWlsLnVybC5yZXBsYWNlKFwiJ1wiLCBcIlxcXFwnXCIpO1xuXG4gICAgICAgIGlmIChfaW5pdGlhbExvYWQpIHtcbiAgICAgICAgICBfaW5pdGlhbExvYWQgPSBmYWxzZTtcblxuICAgICAgICAgIFJpc2VWaXNpb24uSW1hZ2Uub25GaWxlSW5pdCh1cmwpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIC8vIGNoZWNrIGZvciBcImNoYW5nZWRcIiBwcm9wZXJ0eVxuICAgICAgICAgIGlmIChlLmRldGFpbC5oYXNPd25Qcm9wZXJ0eShcImNoYW5nZWRcIikpIHtcbiAgICAgICAgICAgIGlmIChlLmRldGFpbC5jaGFuZ2VkKSB7XG4gICAgICAgICAgICAgIFJpc2VWaXNpb24uSW1hZ2Uub25GaWxlUmVmcmVzaCh1cmwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgIC8vIGluIHRoZSBldmVudCBvZiBhIG5ldHdvcmsgZmFpbHVyZSBhbmQgcmVjb3ZlcnksIGNoZWNrIGlmIHRoZSBXaWRnZXQgaXMgaW4gYSBzdGF0ZSBvZiBzdG9yYWdlIGVycm9yXG4gICAgICAgICAgICAgIGlmIChSaXNlVmlzaW9uLkltYWdlLmhhc1N0b3JhZ2VFcnJvcigpKSB7XG4gICAgICAgICAgICAgICAgLy8gcHJvY2VlZCB3aXRoIHJlZnJlc2ggbG9naWMgc28gdGhlIFdpZGdldCBjYW4gZXZlbnR1YWxseSBwbGF5IHZpZGVvIGFnYWluIGZyb20gYSBuZXR3b3JrIHJlY292ZXJ5XG4gICAgICAgICAgICAgICAgUmlzZVZpc2lvbi5JbWFnZS5vbkZpbGVSZWZyZXNoKGUuZGV0YWlsLnVybCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHN0b3JhZ2UuYWRkRXZlbnRMaXN0ZW5lcihcInJpc2Utc3RvcmFnZS1hcGktZXJyb3JcIiwgZnVuY3Rpb24oZSkge1xuICAgICAgdmFyIHBhcmFtcyA9IHtcbiAgICAgICAgICBcImV2ZW50XCI6IFwiZXJyb3JcIixcbiAgICAgICAgICBcImV2ZW50X2RldGFpbHNcIjogXCJzdG9yYWdlIGFwaSBlcnJvclwiLFxuICAgICAgICAgIFwiZXJyb3JfZGV0YWlsc1wiOiBcIlJlc3BvbnNlIGNvZGU6IFwiICsgZS5kZXRhaWwuY29kZSArIFwiLCBtZXNzYWdlOiBcIiArIGUuZGV0YWlsLm1lc3NhZ2VcbiAgICAgICAgfTtcblxuICAgICAgUmlzZVZpc2lvbi5JbWFnZS5sb2dFdmVudChwYXJhbXMsIHRydWUpO1xuICAgICAgUmlzZVZpc2lvbi5JbWFnZS5zaG93RXJyb3IoXCJTb3JyeSwgdGhlcmUgd2FzIGEgcHJvYmxlbSBjb21tdW5pY2F0aW5nIHdpdGggUmlzZSBTdG9yYWdlLlwiKTtcbiAgICB9KTtcblxuICAgIHN0b3JhZ2UuYWRkRXZlbnRMaXN0ZW5lcihcInJpc2Utc3RvcmFnZS1uby1maWxlXCIsIGZ1bmN0aW9uKGUpIHtcbiAgICAgIHZhciBwYXJhbXMgPSB7XG4gICAgICAgIFwiZXZlbnRcIjogXCJlcnJvclwiLFxuICAgICAgICBcImV2ZW50X2RldGFpbHNcIjogXCJzdG9yYWdlIGZpbGUgbm90IGZvdW5kXCIsXG4gICAgICAgIFwiZmlsZV91cmxcIjogZS5kZXRhaWxcbiAgICAgIH0sXG4gICAgICAgIGltZyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiaW1hZ2VcIik7XG5cbiAgICAgIC8vIGNsZWFyIHRoZSBleGlzdGluZyBpbWFnZVxuICAgICAgaW1nLnN0eWxlLmJhY2tncm91bmQgPSBcIlwiO1xuXG4gICAgICBSaXNlVmlzaW9uLkltYWdlLmxvZ0V2ZW50KHBhcmFtcywgdHJ1ZSk7XG4gICAgICBSaXNlVmlzaW9uLkltYWdlLnNob3dFcnJvcihcIlRoZSBzZWxlY3RlZCBpbWFnZSBkb2VzIG5vdCBleGlzdCBvciBoYXMgYmVlbiBtb3ZlZCB0byBUcmFzaC5cIik7XG4gICAgfSk7XG5cbiAgICBzdG9yYWdlLmFkZEV2ZW50TGlzdGVuZXIoXCJyaXNlLXN0b3JhZ2UtZmlsZS10aHJvdHRsZWRcIiwgZnVuY3Rpb24oZSkge1xuICAgICAgdmFyIHBhcmFtcyA9IHtcbiAgICAgICAgXCJldmVudFwiOiBcImVycm9yXCIsXG4gICAgICAgIFwiZXZlbnRfZGV0YWlsc1wiOiBcInN0b3JhZ2UgZmlsZSB0aHJvdHRsZWRcIixcbiAgICAgICAgXCJmaWxlX3VybFwiOiBlLmRldGFpbFxuICAgICAgfTtcblxuICAgICAgUmlzZVZpc2lvbi5JbWFnZS5sb2dFdmVudChwYXJhbXMsIHRydWUpO1xuICAgICAgUmlzZVZpc2lvbi5JbWFnZS5zaG93RXJyb3IoXCJUaGUgc2VsZWN0ZWQgaW1hZ2UgaXMgdGVtcG9yYXJpbHkgdW5hdmFpbGFibGUuXCIpO1xuICAgIH0pO1xuXG4gICAgc3RvcmFnZS5hZGRFdmVudExpc3RlbmVyKFwicmlzZS1zdG9yYWdlLXN1YnNjcmlwdGlvbi1leHBpcmVkXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHBhcmFtcyA9IHtcbiAgICAgICAgXCJldmVudFwiOiBcImVycm9yXCIsXG4gICAgICAgIFwiZXZlbnRfZGV0YWlsc1wiOiBcInN0b3JhZ2Ugc3Vic2NyaXB0aW9uIGV4cGlyZWRcIlxuICAgICAgfTtcblxuICAgICAgUmlzZVZpc2lvbi5JbWFnZS5sb2dFdmVudChwYXJhbXMsIHRydWUpO1xuICAgICAgUmlzZVZpc2lvbi5JbWFnZS5zaG93RXJyb3IoXCJSaXNlIFN0b3JhZ2Ugc3Vic2NyaXB0aW9uIGlzIG5vdCBhY3RpdmUuXCIpO1xuICAgIH0pO1xuXG4gICAgc3RvcmFnZS5hZGRFdmVudExpc3RlbmVyKFwicmlzZS1zdG9yYWdlLWVycm9yXCIsIGZ1bmN0aW9uKGUpIHtcbiAgICAgIHZhciBmaWxlVXJsID0gKGUuZGV0YWlsICYmIGUuZGV0YWlsLnJlcXVlc3QgJiYgZS5kZXRhaWwucmVxdWVzdC51cmwpID8gZS5kZXRhaWwucmVxdWVzdC51cmwgOiBudWxsLFxuICAgICAgICBwYXJhbXMgPSB7XG4gICAgICAgICAgXCJldmVudFwiOiBcImVycm9yXCIsXG4gICAgICAgICAgXCJldmVudF9kZXRhaWxzXCI6IFwicmlzZSBzdG9yYWdlIGVycm9yXCIsXG4gICAgICAgICAgXCJlcnJvcl9kZXRhaWxzXCI6IFwiVGhlIHJlcXVlc3QgZmFpbGVkIHdpdGggc3RhdHVzIGNvZGU6IFwiICsgZS5kZXRhaWwuZXJyb3IuY3VycmVudFRhcmdldC5zdGF0dXMsXG4gICAgICAgICAgXCJmaWxlX3VybFwiOiBmaWxlVXJsXG4gICAgICAgIH07XG5cbiAgICAgIFJpc2VWaXNpb24uSW1hZ2UubG9nRXZlbnQocGFyYW1zLCB0cnVlKTtcbiAgICAgIFJpc2VWaXNpb24uSW1hZ2Uuc2hvd0Vycm9yKFwiU29ycnksIHRoZXJlIHdhcyBhIHByb2JsZW0gY29tbXVuaWNhdGluZyB3aXRoIFJpc2UgU3RvcmFnZS5cIiwgdHJ1ZSk7XG4gICAgfSk7XG5cbiAgICBzdG9yYWdlLmFkZEV2ZW50TGlzdGVuZXIoXCJyaXNlLWNhY2hlLWVycm9yXCIsIGZ1bmN0aW9uKGUpIHtcbiAgICAgIHZhciBmaWxlVXJsID0gKGUuZGV0YWlsICYmIGUuZGV0YWlsLnJlcXVlc3QgJiYgZS5kZXRhaWwucmVxdWVzdC51cmwpID8gZS5kZXRhaWwucmVxdWVzdC51cmwgOiBudWxsLFxuICAgICAgICBwYXJhbXMgPSB7XG4gICAgICAgICAgXCJldmVudFwiOiBcImVycm9yXCIsXG4gICAgICAgICAgXCJldmVudF9kZXRhaWxzXCI6IFwicmlzZSBjYWNoZSBlcnJvclwiLFxuICAgICAgICAgIFwiZXJyb3JfZGV0YWlsc1wiOiBlLmRldGFpbC5lcnJvci5tZXNzYWdlLFxuICAgICAgICAgIFwiZmlsZV91cmxcIjogZmlsZVVybFxuICAgICAgICB9O1xuXG4gICAgICBSaXNlVmlzaW9uLkltYWdlLmxvZ0V2ZW50KHBhcmFtcywgdHJ1ZSk7XG5cbiAgICAgIHZhciBzdGF0dXNDb2RlID0gMDtcbiAgICAgIC8vIFNob3cgYSBkaWZmZXJlbnQgbWVzc2FnZSBpZiB0aGVyZSBpcyBhIDQwNCBjb21pbmcgZnJvbSByaXNlIGNhY2hlXG4gICAgICBpZihlLmRldGFpbC5lcnJvci5tZXNzYWdlKXtcbiAgICAgICAgc3RhdHVzQ29kZSA9ICtlLmRldGFpbC5lcnJvci5tZXNzYWdlLnN1YnN0cmluZyhlLmRldGFpbC5lcnJvci5tZXNzYWdlLmluZGV4T2YoXCI6XCIpKzIpO1xuICAgICAgfVxuXG4gICAgICB2YXIgZXJyb3JNZXNzYWdlID0gUmlzZVZpc2lvbi5Db21tb24uVXRpbGl0aWVzLmdldFJpc2VDYWNoZUVycm9yTWVzc2FnZShzdGF0dXNDb2RlKTtcbiAgICAgIFJpc2VWaXNpb24uSW1hZ2Uuc2hvd0Vycm9yKGVycm9yTWVzc2FnZSk7XG4gICAgfSk7XG5cbiAgICBzdG9yYWdlLnNldEF0dHJpYnV0ZShcImZvbGRlclwiLCBwYXJhbXMuc3RvcmFnZS5mb2xkZXIpO1xuICAgIHN0b3JhZ2Uuc2V0QXR0cmlidXRlKFwiZmlsZU5hbWVcIiwgcGFyYW1zLnN0b3JhZ2UuZmlsZU5hbWUpO1xuICAgIHN0b3JhZ2Uuc2V0QXR0cmlidXRlKFwiY29tcGFueUlkXCIsIHBhcmFtcy5zdG9yYWdlLmNvbXBhbnlJZCk7XG4gICAgc3RvcmFnZS5zZXRBdHRyaWJ1dGUoXCJlbnZcIiwgY29uZmlnLlNUT1JBR0VfRU5WKTtcbiAgICBzdG9yYWdlLmdvKCk7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIFwiaW5pdFwiOiBpbml0XG4gIH07XG59O1xuXG4vKiBnbG9iYWwgY29uZmlnLCBfICovXG5cbnZhciBSaXNlVmlzaW9uID0gUmlzZVZpc2lvbiB8fCB7fTtcblJpc2VWaXNpb24uSW1hZ2UgPSBSaXNlVmlzaW9uLkltYWdlIHx8IHt9O1xuXG5SaXNlVmlzaW9uLkltYWdlLlN0b3JhZ2VGb2xkZXIgPSBmdW5jdGlvbiAoZGF0YSkge1xuICBcInVzZSBzdHJpY3RcIjtcblxuICB2YXIgX2lzTG9hZGluZyA9IHRydWUsXG4gICAgX2ZpbGVzID0gW10sXG4gICAgX3RpbWVyID0gbnVsbDtcblxuICBmdW5jdGlvbiBwcm9jZXNzVXJsKGUpIHtcbiAgICB2YXIgZmlsZTtcblxuICAgIGlmIChlLmRldGFpbCkge1xuXG4gICAgICAvLyBJbWFnZSBoYXMgYmVlbiBhZGRlZC5cbiAgICAgIGlmIChlLmRldGFpbC5hZGRlZCkge1xuICAgICAgICBfZmlsZXMucHVzaCh7XG4gICAgICAgICAgXCJuYW1lXCI6IGUuZGV0YWlsLm5hbWUsXG4gICAgICAgICAgXCJ1cmxcIjogZS5kZXRhaWwudXJsXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICAvLyBJbWFnZSBoYXMgYmVlbiBjaGFuZ2VkLlxuICAgICAgaWYgKGUuZGV0YWlsLmNoYW5nZWQpIHtcbiAgICAgICAgZmlsZSA9IF8uZmluZChfZmlsZXMsIGZ1bmN0aW9uIChmaWxlKSB7XG4gICAgICAgICAgcmV0dXJuIGZpbGUubmFtZSA9PT0gZS5kZXRhaWwubmFtZTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZmlsZS51cmwgPSBlLmRldGFpbC51cmw7XG4gICAgICB9XG5cbiAgICAgIC8vIEltYWdlIGhhcyBiZWVuIGRlbGV0ZWQuXG4gICAgICBpZiAoZS5kZXRhaWwuZGVsZXRlZCkge1xuICAgICAgICBfZmlsZXMgPSBfLnJlamVjdChfZmlsZXMsIGZ1bmN0aW9uKGZpbGUpIHtcbiAgICAgICAgICByZXR1cm4gZmlsZS5uYW1lID09PSBlLmRldGFpbC5uYW1lO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBfZmlsZXMgPSBfLnNvcnRCeShfZmlsZXMsIGZ1bmN0aW9uKGZpbGUpIHtcbiAgICAgIHJldHVybiBmaWxlLm5hbWUudG9Mb3dlckNhc2UoKTtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGhhbmRsZVJlc3BvbnNlKGUpIHtcbiAgICBwcm9jZXNzVXJsKGUpO1xuXG4gICAgLy8gSW1hZ2UgaGFzIGJlZW4gYWRkZWQuXG4gICAgaWYgKGUuZGV0YWlsLmFkZGVkKSB7XG4gICAgICBpZiAoX2lzTG9hZGluZykge1xuICAgICAgICAvLyBOZWVkIHRvIHdhaXQgZm9yIGF0IGxlYXN0IDIgaW1hZ2VzIHRvIGxvYWQgYmVmb3JlIGluaXRpYWxpemluZyB0aGUgc2xpZGVyLlxuICAgICAgICAvLyBPdGhlcndpc2UsIHRoZSByZXZvbHV0aW9uLnNsaWRlLm9uY2hhbmdlIGV2ZW50IHdpbGwgbmV2ZXIgZmlyZSwgYW5kIHRoaXMgZXZlbnQgaXMgdXNlZFxuICAgICAgICAvLyB0byBjaGVjayB3aGV0aGVyIG9yIG5vdCB0aGUgc2xpZGVyIHNob3VsZCByZWZyZXNoLlxuICAgICAgICBpZiAoX2ZpbGVzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICBfaXNMb2FkaW5nID0gZmFsc2U7XG5cbiAgICAgICAgICBjbGVhclRpbWVvdXQoX3RpbWVyKTtcbiAgICAgICAgICBSaXNlVmlzaW9uLkltYWdlLm9uRmlsZUluaXQoX2ZpbGVzKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBTZXQgYSB0aW1lb3V0IGluIGNhc2UgdGhlcmUgaXMgb25seSBvbmUgaW1hZ2UgaW4gdGhlIGZvbGRlci5cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgX3RpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIF9pc0xvYWRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIFJpc2VWaXNpb24uSW1hZ2Uub25GaWxlSW5pdChfZmlsZXMpO1xuICAgICAgICAgIH0sIDUwMDApO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIFVuY2hhbmdlZFxuICAgIGlmIChlLmRldGFpbC5oYXNPd25Qcm9wZXJ0eShcImNoYW5nZWRcIikgJiYgIWUuZGV0YWlsLmNoYW5nZWQpIHtcbiAgICAgIC8vIGluIHRoZSBldmVudCBvZiBhIG5ldHdvcmsgZmFpbHVyZSBhbmQgcmVjb3ZlcnksIGNoZWNrIGlmIHRoZSBXaWRnZXQgaXMgaW4gYSBzdGF0ZSBvZiBzdG9yYWdlIGVycm9yXG4gICAgICBpZiAoIVJpc2VWaXNpb24uSW1hZ2UuaGFzU3RvcmFnZUVycm9yKCkpIHtcbiAgICAgICAgLy8gb25seSBwcm9jZWVkIHdpdGggcmVmcmVzaCBsb2dpYyBiZWxvdyBpZiB0aGVyZSdzIGJlZW4gYSBzdG9yYWdlIGVycm9yLCBvdGhlcndpc2UgZG8gbm90aGluZ1xuICAgICAgICAvLyB0aGlzIGlzIHNvIHRoZSBXaWRnZXQgY2FuIGV2ZW50dWFsbHkgcGxheSBzbGlkZXNob3cgYWdhaW4gZnJvbSBhIG5ldHdvcmsgcmVjb3ZlcnlcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cblxuICAgIFJpc2VWaXNpb24uSW1hZ2Uub25GaWxlUmVmcmVzaChfZmlsZXMpO1xuICB9XG5cbiAgLypcbiAgICogIFB1YmxpYyBNZXRob2RzXG4gICAqL1xuICBmdW5jdGlvbiBpbml0KCkge1xuICAgIHZhciBzdG9yYWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcInJpc2Utc3RvcmFnZVwiKTtcblxuICAgIHN0b3JhZ2UuYWRkRXZlbnRMaXN0ZW5lcihcInJpc2Utc3RvcmFnZS1yZXNwb25zZVwiLCBoYW5kbGVSZXNwb25zZSk7XG5cbiAgICBzdG9yYWdlLmFkZEV2ZW50TGlzdGVuZXIoXCJyaXNlLXN0b3JhZ2UtYXBpLWVycm9yXCIsIGZ1bmN0aW9uKGUpIHtcbiAgICAgIHZhciBwYXJhbXMgPSB7XG4gICAgICAgIFwiZXZlbnRcIjogXCJlcnJvclwiLFxuICAgICAgICBcImV2ZW50X2RldGFpbHNcIjogXCJzdG9yYWdlIGFwaSBlcnJvclwiLFxuICAgICAgICBcImVycm9yX2RldGFpbHNcIjogXCJSZXNwb25zZSBjb2RlOiBcIiArIGUuZGV0YWlsLmNvZGUgKyBcIiwgbWVzc2FnZTogXCIgKyBlLmRldGFpbC5tZXNzYWdlXG4gICAgICB9O1xuXG4gICAgICBSaXNlVmlzaW9uLkltYWdlLmxvZ0V2ZW50KHBhcmFtcywgdHJ1ZSk7XG4gICAgICBSaXNlVmlzaW9uLkltYWdlLnNob3dFcnJvcihcIlNvcnJ5LCB0aGVyZSB3YXMgYSBwcm9ibGVtIGNvbW11bmljYXRpbmcgd2l0aCBSaXNlIFN0b3JhZ2UuXCIpO1xuICAgIH0pO1xuXG4gICAgc3RvcmFnZS5hZGRFdmVudExpc3RlbmVyKFwicmlzZS1zdG9yYWdlLWVtcHR5LWZvbGRlclwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgcGFyYW1zID0ge1xuICAgICAgICBcImV2ZW50XCI6IFwiZXJyb3JcIixcbiAgICAgICAgXCJldmVudF9kZXRhaWxzXCI6IFwic3RvcmFnZSBmb2xkZXIgZW1wdHlcIlxuICAgICAgfTtcblxuICAgICAgUmlzZVZpc2lvbi5JbWFnZS5sb2dFdmVudChwYXJhbXMsIHRydWUpO1xuICAgICAgUmlzZVZpc2lvbi5JbWFnZS5zaG93RXJyb3IoXCJUaGUgc2VsZWN0ZWQgZm9sZGVyIGRvZXMgbm90IGNvbnRhaW4gYW55IGltYWdlcy5cIik7XG4gICAgfSk7XG5cbiAgICBzdG9yYWdlLmFkZEV2ZW50TGlzdGVuZXIoXCJyaXNlLXN0b3JhZ2Utbm8tZm9sZGVyXCIsIGZ1bmN0aW9uIChlKSB7XG4gICAgICB2YXIgcGFyYW1zID0ge1xuICAgICAgICBcImV2ZW50XCI6IFwiZXJyb3JcIixcbiAgICAgICAgXCJldmVudF9kZXRhaWxzXCI6IFwic3RvcmFnZSBmb2xkZXIgZG9lc24ndCBleGlzdFwiLFxuICAgICAgICBcImVycm9yX2RldGFpbHNcIjogZS5kZXRhaWxcbiAgICAgIH07XG5cbiAgICAgIFJpc2VWaXNpb24uSW1hZ2UubG9nRXZlbnQocGFyYW1zLCB0cnVlKTtcbiAgICAgIFJpc2VWaXNpb24uSW1hZ2Uuc2hvd0Vycm9yKFwiVGhlIHNlbGVjdGVkIGZvbGRlciBkb2VzIG5vdCBleGlzdCBvciBoYXMgYmVlbiBtb3ZlZCB0byBUcmFzaC5cIik7XG4gICAgfSk7XG5cblxuICAgIHN0b3JhZ2UuYWRkRXZlbnRMaXN0ZW5lcihcInJpc2Utc3RvcmFnZS1mb2xkZXItaW52YWxpZFwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgcGFyYW1zID0ge1xuICAgICAgICBcImV2ZW50XCI6IFwiZXJyb3JcIixcbiAgICAgICAgXCJldmVudF9kZXRhaWxzXCI6IFwic3RvcmFnZSBmb2xkZXIgZm9ybWF0KHMpIGludmFsaWRcIlxuICAgICAgfTtcblxuICAgICAgUmlzZVZpc2lvbi5JbWFnZS5sb2dFdmVudChwYXJhbXMsIHRydWUpO1xuICAgICAgUmlzZVZpc2lvbi5JbWFnZS5zaG93RXJyb3IoXCJUaGUgc2VsZWN0ZWQgZm9sZGVyIGRvZXMgbm90IGNvbnRhaW4gYW55IHN1cHBvcnRlZCBpbWFnZSBmb3JtYXRzLlwiKTtcbiAgICB9KTtcblxuICAgIHN0b3JhZ2UuYWRkRXZlbnRMaXN0ZW5lcihcInJpc2Utc3RvcmFnZS1zdWJzY3JpcHRpb24tZXhwaXJlZFwiLCBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBwYXJhbXMgPSB7XG4gICAgICAgIFwiZXZlbnRcIjogXCJlcnJvclwiLFxuICAgICAgICBcImV2ZW50X2RldGFpbHNcIjogXCJzdG9yYWdlIHN1YnNjcmlwdGlvbiBleHBpcmVkXCJcbiAgICAgIH07XG5cbiAgICAgIFJpc2VWaXNpb24uSW1hZ2UubG9nRXZlbnQocGFyYW1zLCB0cnVlKTtcbiAgICAgIFJpc2VWaXNpb24uSW1hZ2Uuc2hvd0Vycm9yKFwiUmlzZSBTdG9yYWdlIHN1YnNjcmlwdGlvbiBpcyBub3QgYWN0aXZlLlwiKTtcbiAgICB9KTtcblxuICAgIHN0b3JhZ2UuYWRkRXZlbnRMaXN0ZW5lcihcInJpc2Utc3RvcmFnZS1lcnJvclwiLCBmdW5jdGlvbihlKSB7XG4gICAgICB2YXIgcGFyYW1zID0ge1xuICAgICAgICBcImV2ZW50XCI6IFwicmlzZSBzdG9yYWdlIGVycm9yXCIsXG4gICAgICAgIFwiZXZlbnRfZGV0YWlsc1wiOiBcIlRoZSByZXF1ZXN0IGZhaWxlZCB3aXRoIHN0YXR1cyBjb2RlOiBcIiArIGUuZGV0YWlsLmVycm9yLmN1cnJlbnRUYXJnZXQuc3RhdHVzXG4gICAgICB9O1xuXG4gICAgICBSaXNlVmlzaW9uLkltYWdlLmxvZ0V2ZW50KHBhcmFtcywgdHJ1ZSk7XG4gICAgICBSaXNlVmlzaW9uLkltYWdlLnNob3dFcnJvcihcIlNvcnJ5LCB0aGVyZSB3YXMgYSBwcm9ibGVtIGNvbW11bmljYXRpbmcgd2l0aCBSaXNlIFN0b3JhZ2UuXCIsIHRydWUpO1xuICAgIH0pO1xuXG4gICAgc3RvcmFnZS5hZGRFdmVudExpc3RlbmVyKFwicmlzZS1jYWNoZS1lcnJvclwiLCBmdW5jdGlvbihlKSB7XG4gICAgICB2YXIgcGFyYW1zID0ge1xuICAgICAgICBcImV2ZW50XCI6IFwicmlzZSBjYWNoZSBlcnJvclwiLFxuICAgICAgICBcImV2ZW50X2RldGFpbHNcIjogZS5kZXRhaWwuZXJyb3IubWVzc2FnZVxuICAgICAgfTtcblxuICAgICAgUmlzZVZpc2lvbi5JbWFnZS5sb2dFdmVudChwYXJhbXMsIHRydWUpO1xuXG4gICAgICB2YXIgc3RhdHVzQ29kZSA9IDA7XG4gICAgICAvLyBTaG93IGEgZGlmZmVyZW50IG1lc3NhZ2UgaWYgdGhlcmUgaXMgYSA0MDQgY29taW5nIGZyb20gcmlzZSBjYWNoZVxuICAgICAgaWYoZS5kZXRhaWwuZXJyb3IubWVzc2FnZSl7XG4gICAgICAgIHN0YXR1c0NvZGUgPSArZS5kZXRhaWwuZXJyb3IubWVzc2FnZS5zdWJzdHJpbmcoZS5kZXRhaWwuZXJyb3IubWVzc2FnZS5pbmRleE9mKFwiOlwiKSsyKTtcbiAgICAgIH1cblxuICAgICAgdmFyIGVycm9yTWVzc2FnZSA9IFJpc2VWaXNpb24uQ29tbW9uLlV0aWxpdGllcy5nZXRSaXNlQ2FjaGVFcnJvck1lc3NhZ2Uoc3RhdHVzQ29kZSk7XG4gICAgICBSaXNlVmlzaW9uLkltYWdlLnNob3dFcnJvcihlcnJvck1lc3NhZ2UpO1xuICAgIH0pO1xuXG4gICAgc3RvcmFnZS5zZXRBdHRyaWJ1dGUoXCJmaWxlVHlwZVwiLCBcImltYWdlXCIpO1xuICAgIHN0b3JhZ2Uuc2V0QXR0cmlidXRlKFwiY29tcGFueUlkXCIsIGRhdGEuc3RvcmFnZS5jb21wYW55SWQpO1xuICAgIHN0b3JhZ2Uuc2V0QXR0cmlidXRlKFwiZm9sZGVyXCIsIGRhdGEuc3RvcmFnZS5mb2xkZXIpO1xuICAgIHN0b3JhZ2Uuc2V0QXR0cmlidXRlKFwiZW52XCIsIGNvbmZpZy5TVE9SQUdFX0VOVik7XG5cbiAgICBzdG9yYWdlLmdvKCk7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIFwiaW5pdFwiOiBpbml0XG4gIH07XG59O1xuXG52YXIgUmlzZVZpc2lvbiA9IFJpc2VWaXNpb24gfHwge307XG5SaXNlVmlzaW9uLkltYWdlID0gUmlzZVZpc2lvbi5JbWFnZSB8fCB7fTtcblxuUmlzZVZpc2lvbi5JbWFnZS5Ob25TdG9yYWdlID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgdmFyIHJpc2VDYWNoZSA9IFJpc2VWaXNpb24uQ29tbW9uLlJpc2VDYWNoZTtcblxuICB2YXIgX3JlZnJlc2hEdXJhdGlvbiA9IDMwMDAwMCwgIC8vIDUgbWludXRlc1xuICAgIF9yZWZyZXNoSW50ZXJ2YWxJZCA9IG51bGw7XG5cbiAgdmFyIF9pc0xvYWRpbmcgPSB0cnVlO1xuXG4gIHZhciBfdXJsID0gXCJcIjtcblxuICBmdW5jdGlvbiBfZ2V0RmlsZShvbWl0Q2FjaGVCdXN0ZXIpIHtcbiAgICB2YXIgcGFyYW1zO1xuXG4gICAgcmlzZUNhY2hlLmdldEZpbGUoX3VybCwgZnVuY3Rpb24gKHJlc3BvbnNlLCBlcnJvcikge1xuICAgICAgaWYgKCFlcnJvcikge1xuXG4gICAgICAgIGlmIChfaXNMb2FkaW5nKSB7XG4gICAgICAgICAgX2lzTG9hZGluZyA9IGZhbHNlO1xuXG4gICAgICAgICAgUmlzZVZpc2lvbi5JbWFnZS5vbkZpbGVJbml0KHJlc3BvbnNlLnVybCk7XG5cbiAgICAgICAgICAvLyBzdGFydCB0aGUgcmVmcmVzaCBpbnRlcnZhbFxuICAgICAgICAgIF9zdGFydFJlZnJlc2hJbnRlcnZhbCgpO1xuXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgUmlzZVZpc2lvbi5JbWFnZS5vbkZpbGVSZWZyZXNoKHJlc3BvbnNlLnVybCk7XG4gICAgICAgIH1cblxuICAgICAgfSBlbHNlIHtcblxuICAgICAgICAvLyBlcnJvciBvY2N1cnJlZFxuICAgICAgICBwYXJhbXMgPSB7XG4gICAgICAgICAgXCJldmVudFwiOiBcImVycm9yXCIsXG4gICAgICAgICAgXCJldmVudF9kZXRhaWxzXCI6IFwibm9uLXN0b3JhZ2UgZXJyb3JcIixcbiAgICAgICAgICBcImVycm9yX2RldGFpbHNcIjogZXJyb3IubWVzc2FnZSxcbiAgICAgICAgICBcImZpbGVfdXJsXCI6IHJlc3BvbnNlLnVybFxuICAgICAgICB9O1xuXG4gICAgICAgIFJpc2VWaXNpb24uSW1hZ2UubG9nRXZlbnQocGFyYW1zLCB0cnVlKTtcblxuICAgICAgICB2YXIgc3RhdHVzQ29kZSA9IDA7XG4gICAgICAgIC8vIFNob3cgYSBkaWZmZXJlbnQgbWVzc2FnZSBpZiB0aGVyZSBpcyBhIDQwNCBjb21pbmcgZnJvbSByaXNlIGNhY2hlXG4gICAgICAgIGlmKGVycm9yLm1lc3NhZ2Upe1xuICAgICAgICAgIHN0YXR1c0NvZGUgPSArZXJyb3IubWVzc2FnZS5zdWJzdHJpbmcoZXJyb3IubWVzc2FnZS5pbmRleE9mKFwiOlwiKSsyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBlcnJvck1lc3NhZ2UgPSBSaXNlVmlzaW9uLkNvbW1vbi5VdGlsaXRpZXMuZ2V0UmlzZUNhY2hlRXJyb3JNZXNzYWdlKHN0YXR1c0NvZGUpO1xuICAgICAgICBSaXNlVmlzaW9uLkltYWdlLnNob3dFcnJvcihlcnJvck1lc3NhZ2UpO1xuICAgICAgfVxuICAgIH0sIG9taXRDYWNoZUJ1c3Rlcik7XG4gIH1cblxuICBmdW5jdGlvbiBfc3RhcnRSZWZyZXNoSW50ZXJ2YWwoKSB7XG4gICAgaWYgKF9yZWZyZXNoSW50ZXJ2YWxJZCA9PT0gbnVsbCkge1xuICAgICAgX3JlZnJlc2hJbnRlcnZhbElkID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkge1xuICAgICAgICBfZ2V0RmlsZShmYWxzZSk7XG4gICAgICB9LCBfcmVmcmVzaER1cmF0aW9uKTtcbiAgICB9XG4gIH1cblxuICAvKlxuICAgKiAgUHVibGljIE1ldGhvZHNcbiAgICovXG4gIGZ1bmN0aW9uIGluaXQoKSB7XG4gICAgLy8gSGFuZGxlIHByZS1tZXJnZSB1c2Ugb2YgXCJ1cmxcIiBzZXR0aW5nIHByb3BlcnR5XG4gICAgX3VybCA9IChkYXRhLnVybCAmJiBkYXRhLnVybCAhPT0gXCJcIikgPyBkYXRhLnVybCA6IGRhdGEuc2VsZWN0b3IudXJsO1xuXG4gICAgX2dldEZpbGUodHJ1ZSk7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIFwiaW5pdFwiOiBpbml0XG4gIH07XG59O1xuXG52YXIgUmlzZVZpc2lvbiA9IFJpc2VWaXNpb24gfHwge307XG5SaXNlVmlzaW9uLkNvbW1vbiA9IFJpc2VWaXNpb24uQ29tbW9uIHx8IHt9O1xuXG5SaXNlVmlzaW9uLkNvbW1vbi5NZXNzYWdlID0gZnVuY3Rpb24gKG1haW5Db250YWluZXIsIG1lc3NhZ2VDb250YWluZXIpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgdmFyIF9hY3RpdmUgPSBmYWxzZTtcblxuICBmdW5jdGlvbiBfaW5pdCgpIHtcbiAgICB0cnkge1xuICAgICAgbWVzc2FnZUNvbnRhaW5lci5zdHlsZS5oZWlnaHQgPSBtYWluQ29udGFpbmVyLnN0eWxlLmhlaWdodDtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBjb25zb2xlLndhcm4oXCJDYW4ndCBpbml0aWFsaXplIE1lc3NhZ2UgLSBcIiwgZS5tZXNzYWdlKTtcbiAgICB9XG4gIH1cblxuICAvKlxuICAgKiAgUHVibGljIE1ldGhvZHNcbiAgICovXG4gIGZ1bmN0aW9uIGhpZGUoKSB7XG4gICAgaWYgKF9hY3RpdmUpIHtcbiAgICAgIC8vIGNsZWFyIGNvbnRlbnQgb2YgbWVzc2FnZSBjb250YWluZXJcbiAgICAgIHdoaWxlIChtZXNzYWdlQ29udGFpbmVyLmZpcnN0Q2hpbGQpIHtcbiAgICAgICAgbWVzc2FnZUNvbnRhaW5lci5yZW1vdmVDaGlsZChtZXNzYWdlQ29udGFpbmVyLmZpcnN0Q2hpbGQpO1xuICAgICAgfVxuXG4gICAgICAvLyBoaWRlIG1lc3NhZ2UgY29udGFpbmVyXG4gICAgICBtZXNzYWdlQ29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcblxuICAgICAgLy8gc2hvdyBtYWluIGNvbnRhaW5lclxuICAgICAgbWFpbkNvbnRhaW5lci5zdHlsZS52aXNpYmlsaXR5ID0gXCJ2aXNpYmxlXCI7XG5cbiAgICAgIF9hY3RpdmUgPSBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBzaG93KG1lc3NhZ2UpIHtcbiAgICB2YXIgZnJhZ21lbnQgPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCksXG4gICAgICBwO1xuXG4gICAgaWYgKCFfYWN0aXZlKSB7XG4gICAgICAvLyBoaWRlIG1haW4gY29udGFpbmVyXG4gICAgICBtYWluQ29udGFpbmVyLnN0eWxlLnZpc2liaWxpdHkgPSBcImhpZGRlblwiO1xuXG4gICAgICBtZXNzYWdlQ29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG5cbiAgICAgIC8vIGNyZWF0ZSBtZXNzYWdlIGVsZW1lbnRcbiAgICAgIHAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcbiAgICAgIHAuaW5uZXJIVE1MID0gbWVzc2FnZTtcbiAgICAgIHAuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJtZXNzYWdlXCIpO1xuXG4gICAgICBmcmFnbWVudC5hcHBlbmRDaGlsZChwKTtcbiAgICAgIG1lc3NhZ2VDb250YWluZXIuYXBwZW5kQ2hpbGQoZnJhZ21lbnQpO1xuXG4gICAgICBfYWN0aXZlID0gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gbWVzc2FnZSBhbHJlYWR5IGJlaW5nIHNob3duLCB1cGRhdGUgbWVzc2FnZSB0ZXh0XG4gICAgICBwID0gbWVzc2FnZUNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKFwiLm1lc3NhZ2VcIik7XG4gICAgICBwLmlubmVySFRNTCA9IG1lc3NhZ2U7XG4gICAgfVxuICB9XG5cbiAgX2luaXQoKTtcblxuICByZXR1cm4ge1xuICAgIFwiaGlkZVwiOiBoaWRlLFxuICAgIFwic2hvd1wiOiBzaG93XG4gIH07XG59O1xuXG4vKiBnbG9iYWwgUmlzZVZpc2lvbiwgZ2FkZ2V0cyAqL1xuKGZ1bmN0aW9uICh3aW5kb3csIGRvY3VtZW50LCBnYWRnZXRzKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuXG4gIHZhciBpZCA9IG5ldyBnYWRnZXRzLlByZWZzKCkuZ2V0U3RyaW5nKFwiaWRcIik7XG5cbiAgd2luZG93Lm9uY29udGV4dG1lbnUgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9O1xuXG4gIGRvY3VtZW50LmJvZHkub25tb3VzZWRvd24gPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH07XG5cbiAgZnVuY3Rpb24gY29uZmlndXJlKG5hbWVzLCB2YWx1ZXMpIHtcbiAgICB2YXIgYWRkaXRpb25hbFBhcmFtcywgbW9kZSxcbiAgICAgIGNvbXBhbnlJZCA9IFwiXCIsXG4gICAgICBkaXNwbGF5SWQgPSBcIlwiO1xuXG4gICAgaWYgKEFycmF5LmlzQXJyYXkobmFtZXMpICYmIG5hbWVzLmxlbmd0aCA+IDAgJiYgQXJyYXkuaXNBcnJheSh2YWx1ZXMpICYmIHZhbHVlcy5sZW5ndGggPiAwKSB7XG4gICAgICAvLyBjb21wYW55IGlkXG4gICAgICBpZiAobmFtZXNbMF0gPT09IFwiY29tcGFueUlkXCIpIHtcbiAgICAgICAgY29tcGFueUlkID0gdmFsdWVzWzBdO1xuICAgICAgfVxuXG4gICAgICAvLyBkaXNwbGF5IGlkXG4gICAgICBpZiAobmFtZXNbMV0gPT09IFwiZGlzcGxheUlkXCIpIHtcbiAgICAgICAgaWYgKHZhbHVlc1sxXSkge1xuICAgICAgICAgIGRpc3BsYXlJZCA9IHZhbHVlc1sxXTtcbiAgICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgICAgZGlzcGxheUlkID0gXCJwcmV2aWV3XCI7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gcHJvdmlkZSBMb2dnZXJVdGlscyB0aGUgaWRzIHRvIHVzZVxuICAgICAgUmlzZVZpc2lvbi5Db21tb24uTG9nZ2VyVXRpbHMuc2V0SWRzKGNvbXBhbnlJZCwgZGlzcGxheUlkKTtcblxuICAgICAgLy8gYWRkaXRpb25hbCBwYXJhbXNcbiAgICAgIGlmIChuYW1lc1syXSA9PT0gXCJhZGRpdGlvbmFsUGFyYW1zXCIpIHtcbiAgICAgICAgYWRkaXRpb25hbFBhcmFtcyA9IEpTT04ucGFyc2UodmFsdWVzWzJdKTtcblxuICAgICAgICBpZiAoT2JqZWN0LmtleXMoYWRkaXRpb25hbFBhcmFtcy5zdG9yYWdlKS5sZW5ndGggIT09IDApIHtcbiAgICAgICAgICAvLyBzdG9yYWdlIGZpbGUgb3IgZm9sZGVyIHNlbGVjdGVkXG4gICAgICAgICAgaWYgKCFhZGRpdGlvbmFsUGFyYW1zLnN0b3JhZ2UuZmlsZU5hbWUpIHtcbiAgICAgICAgICAgIC8vIGZvbGRlciB3YXMgc2VsZWN0ZWRcbiAgICAgICAgICAgIG1vZGUgPSBcImZvbGRlclwiO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBmaWxlIHdhcyBzZWxlY3RlZFxuICAgICAgICAgICAgbW9kZSA9IFwiZmlsZVwiO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBub24tc3RvcmFnZSBmaWxlIHdhcyBzZWxlY3RlZFxuICAgICAgICAgIG1vZGUgPSBcImZpbGVcIjtcbiAgICAgICAgfVxuXG4gICAgICAgIFJpc2VWaXNpb24uSW1hZ2Uuc2V0QWRkaXRpb25hbFBhcmFtcyhhZGRpdGlvbmFsUGFyYW1zLCBtb2RlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBwYXVzZSgpIHtcbiAgICBSaXNlVmlzaW9uLkltYWdlLnBhdXNlKCk7XG4gIH1cblxuICBmdW5jdGlvbiBwbGF5KCkge1xuICAgIFJpc2VWaXNpb24uSW1hZ2UucGxheSgpO1xuICB9XG5cbiAgZnVuY3Rpb24gc3RvcCgpIHtcbiAgICBSaXNlVmlzaW9uLkltYWdlLnN0b3AoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBvbHltZXJSZWFkeSgpIHtcbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIldlYkNvbXBvbmVudHNSZWFkeVwiLCBwb2x5bWVyUmVhZHkpO1xuXG4gICAgaWYgKGlkICYmIGlkICE9PSBcIlwiKSB7XG4gICAgICBnYWRnZXRzLnJwYy5yZWdpc3RlcihcInJzY21kX3BsYXlfXCIgKyBpZCwgcGxheSk7XG4gICAgICBnYWRnZXRzLnJwYy5yZWdpc3RlcihcInJzY21kX3BhdXNlX1wiICsgaWQsIHBhdXNlKTtcbiAgICAgIGdhZGdldHMucnBjLnJlZ2lzdGVyKFwicnNjbWRfc3RvcF9cIiArIGlkLCBzdG9wKTtcbiAgICAgIGdhZGdldHMucnBjLnJlZ2lzdGVyKFwicnNwYXJhbV9zZXRfXCIgKyBpZCwgY29uZmlndXJlKTtcbiAgICAgIGdhZGdldHMucnBjLmNhbGwoXCJcIiwgXCJyc3BhcmFtX2dldFwiLCBudWxsLCBpZCwgW1wiY29tcGFueUlkXCIsIFwiZGlzcGxheUlkXCIsIFwiYWRkaXRpb25hbFBhcmFtc1wiXSk7XG4gICAgfVxuICB9XG5cbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJXZWJDb21wb25lbnRzUmVhZHlcIiwgcG9seW1lclJlYWR5KTtcblxufSkod2luZG93LCBkb2N1bWVudCwgZ2FkZ2V0cyk7XG5cbi8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbnZhciBfZ2FxID0gX2dhcSB8fCBbXTtcblxuX2dhcS5wdXNoKFsnX3NldEFjY291bnQnLCAnVUEtNTcwOTIxNTktMyddKTtcbl9nYXEucHVzaChbJ190cmFja1BhZ2V2aWV3J10pO1xuXG4oZnVuY3Rpb24oKSB7XG4gIHZhciBnYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpOyBnYS50eXBlID0gJ3RleHQvamF2YXNjcmlwdCc7IGdhLmFzeW5jID0gdHJ1ZTtcbiAgZ2Euc3JjID0gKCdodHRwczonID09IGRvY3VtZW50LmxvY2F0aW9uLnByb3RvY29sID8gJ2h0dHBzOi8vc3NsJyA6ICdodHRwOi8vd3d3JykgKyAnLmdvb2dsZS1hbmFseXRpY3MuY29tL2dhLmpzJztcbiAgdmFyIHMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnc2NyaXB0JylbMF07IHMucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZ2EsIHMpO1xufSkoKTtcbi8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
