(function(){function e(e){function n(n,t,r,i,o,a){for(;o>=0&&a>o;o+=e){var s=i?i[o]:o;r=t(r,n[s],s,n)}return r}return function(t,r,i,o){r=R(r,o,4);var a=!C(t)&&y.keys(t),s=(a||t).length,u=e>0?0:s-1;return arguments.length<3&&(i=t[a?a[u]:u],u+=e),n(t,r,i,a,u,s)}}function n(e){return function(n,t,r){t=b(t,r);for(var i=V(n),o=e>0?0:i-1;o>=0&&i>o;o+=e)if(t(n[o],o,n))return o;return-1}}function t(e,n,t){return function(r,i,o){var a=0,s=V(r);if("number"==typeof o)e>0?a=o>=0?o:Math.max(o+s,a):s=o>=0?Math.min(o+1,s):o+s+1;else if(t&&o&&s)return o=t(r,i),r[o]===i?o:-1;if(i!==i)return o=n(c.call(r,a,s),y.isNaN),o>=0?o+a:-1;for(o=e>0?a:s-1;o>=0&&s>o;o+=e)if(r[o]===i)return o;return-1}}function r(e,n){var t=x.length,r=e.constructor,i=y.isFunction(r)&&r.prototype||s,o="constructor";for(y.has(e,o)&&!y.contains(n,o)&&n.push(o);t--;)o=x[t],o in e&&e[o]!==i[o]&&!y.contains(n,o)&&n.push(o)}var i=this,o=i._,a=Array.prototype,s=Object.prototype,u=Function.prototype,l=a.push,c=a.slice,f=s.toString,d=s.hasOwnProperty,g=Array.isArray,m=Object.keys,p=u.bind,v=Object.create,h=function(){},y=function(e){return e instanceof y?e:this instanceof y?(this._wrapped=e,void 0):new y(e)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=y),exports._=y):i._=y,y.VERSION="1.8.3";var R=function(e,n,t){if(void 0===n)return e;switch(null==t?3:t){case 1:return function(t){return e.call(n,t)};case 2:return function(t,r){return e.call(n,t,r)};case 3:return function(t,r,i){return e.call(n,t,r,i)};case 4:return function(t,r,i,o){return e.call(n,t,r,i,o)}}return function(){return e.apply(n,arguments)}},b=function(e,n,t){return null==e?y.identity:y.isFunction(e)?R(e,n,t):y.isObject(e)?y.matcher(e):y.property(e)};y.iteratee=function(e,n){return b(e,n,1/0)};var E=function(e,n){return function(t){var r=arguments.length;if(2>r||null==t)return t;for(var i=1;r>i;i++)for(var o=arguments[i],a=e(o),s=a.length,u=0;s>u;u++){var l=a[u];n&&void 0!==t[l]||(t[l]=o[l])}return t}},I=function(e){if(!y.isObject(e))return{};if(v)return v(e);h.prototype=e;var n=new h;return h.prototype=null,n},_=function(e){return function(n){return null==n?void 0:n[e]}},w=Math.pow(2,53)-1,V=_("length"),C=function(e){var n=V(e);return"number"==typeof n&&n>=0&&w>=n};y.each=y.forEach=function(e,n,t){n=R(n,t);var r,i;if(C(e))for(r=0,i=e.length;i>r;r++)n(e[r],r,e);else{var o=y.keys(e);for(r=0,i=o.length;i>r;r++)n(e[o[r]],o[r],e)}return e},y.map=y.collect=function(e,n,t){n=b(n,t);for(var r=!C(e)&&y.keys(e),i=(r||e).length,o=Array(i),a=0;i>a;a++){var s=r?r[a]:a;o[a]=n(e[s],s,e)}return o},y.reduce=y.foldl=y.inject=e(1),y.reduceRight=y.foldr=e(-1),y.find=y.detect=function(e,n,t){var r;return r=C(e)?y.findIndex(e,n,t):y.findKey(e,n,t),void 0!==r&&-1!==r?e[r]:void 0},y.filter=y.select=function(e,n,t){var r=[];return n=b(n,t),y.each(e,function(e,t,i){n(e,t,i)&&r.push(e)}),r},y.reject=function(e,n,t){return y.filter(e,y.negate(b(n)),t)},y.every=y.all=function(e,n,t){n=b(n,t);for(var r=!C(e)&&y.keys(e),i=(r||e).length,o=0;i>o;o++){var a=r?r[o]:o;if(!n(e[a],a,e))return!1}return!0},y.some=y.any=function(e,n,t){n=b(n,t);for(var r=!C(e)&&y.keys(e),i=(r||e).length,o=0;i>o;o++){var a=r?r[o]:o;if(n(e[a],a,e))return!0}return!1},y.contains=y.includes=y.include=function(e,n,t,r){return C(e)||(e=y.values(e)),("number"!=typeof t||r)&&(t=0),y.indexOf(e,n,t)>=0},y.invoke=function(e,n){var t=c.call(arguments,2),r=y.isFunction(n);return y.map(e,function(e){var i=r?n:e[n];return null==i?i:i.apply(e,t)})},y.pluck=function(e,n){return y.map(e,y.property(n))},y.where=function(e,n){return y.filter(e,y.matcher(n))},y.findWhere=function(e,n){return y.find(e,y.matcher(n))},y.max=function(e,n,t){var r,i,o=-1/0,a=-1/0;if(null==n&&null!=e){e=C(e)?e:y.values(e);for(var s=0,u=e.length;u>s;s++)r=e[s],r>o&&(o=r)}else n=b(n,t),y.each(e,function(e,t,r){i=n(e,t,r),(i>a||i===-1/0&&o===-1/0)&&(o=e,a=i)});return o},y.min=function(e,n,t){var r,i,o=1/0,a=1/0;if(null==n&&null!=e){e=C(e)?e:y.values(e);for(var s=0,u=e.length;u>s;s++)r=e[s],o>r&&(o=r)}else n=b(n,t),y.each(e,function(e,t,r){i=n(e,t,r),(a>i||1/0===i&&1/0===o)&&(o=e,a=i)});return o},y.shuffle=function(e){for(var n,t=C(e)?e:y.values(e),r=t.length,i=Array(r),o=0;r>o;o++)n=y.random(0,o),n!==o&&(i[o]=i[n]),i[n]=t[o];return i},y.sample=function(e,n,t){return null==n||t?(C(e)||(e=y.values(e)),e[y.random(e.length-1)]):y.shuffle(e).slice(0,Math.max(0,n))},y.sortBy=function(e,n,t){return n=b(n,t),y.pluck(y.map(e,function(e,t,r){return{value:e,index:t,criteria:n(e,t,r)}}).sort(function(e,n){var t=e.criteria,r=n.criteria;if(t!==r){if(t>r||void 0===t)return 1;if(r>t||void 0===r)return-1}return e.index-n.index}),"value")};var S=function(e){return function(n,t,r){var i={};return t=b(t,r),y.each(n,function(r,o){var a=t(r,o,n);e(i,r,a)}),i}};y.groupBy=S(function(e,n,t){y.has(e,t)?e[t].push(n):e[t]=[n]}),y.indexBy=S(function(e,n,t){e[t]=n}),y.countBy=S(function(e,n,t){y.has(e,t)?e[t]++:e[t]=1}),y.toArray=function(e){return e?y.isArray(e)?c.call(e):C(e)?y.map(e,y.identity):y.values(e):[]},y.size=function(e){return null==e?0:C(e)?e.length:y.keys(e).length},y.partition=function(e,n,t){n=b(n,t);var r=[],i=[];return y.each(e,function(e,t,o){(n(e,t,o)?r:i).push(e)}),[r,i]},y.first=y.head=y.take=function(e,n,t){return null==e?void 0:null==n||t?e[0]:y.initial(e,e.length-n)},y.initial=function(e,n,t){return c.call(e,0,Math.max(0,e.length-(null==n||t?1:n)))},y.last=function(e,n,t){return null==e?void 0:null==n||t?e[e.length-1]:y.rest(e,Math.max(0,e.length-n))},y.rest=y.tail=y.drop=function(e,n,t){return c.call(e,null==n||t?1:n)},y.compact=function(e){return y.filter(e,y.identity)};var O=function(e,n,t,r){for(var i=[],o=0,a=r||0,s=V(e);s>a;a++){var u=e[a];if(C(u)&&(y.isArray(u)||y.isArguments(u))){n||(u=O(u,n,t));var l=0,c=u.length;for(i.length+=c;c>l;)i[o++]=u[l++]}else t||(i[o++]=u)}return i};y.flatten=function(e,n){return O(e,n,!1)},y.without=function(e){return y.difference(e,c.call(arguments,1))},y.uniq=y.unique=function(e,n,t,r){y.isBoolean(n)||(r=t,t=n,n=!1),null!=t&&(t=b(t,r));for(var i=[],o=[],a=0,s=V(e);s>a;a++){var u=e[a],l=t?t(u,a,e):u;n?(a&&o===l||i.push(u),o=l):t?y.contains(o,l)||(o.push(l),i.push(u)):y.contains(i,u)||i.push(u)}return i},y.union=function(){return y.uniq(O(arguments,!0,!0))},y.intersection=function(e){for(var n=[],t=arguments.length,r=0,i=V(e);i>r;r++){var o=e[r];if(!y.contains(n,o)){for(var a=1;t>a&&y.contains(arguments[a],o);a++);a===t&&n.push(o)}}return n},y.difference=function(e){var n=O(arguments,!0,!0,1);return y.filter(e,function(e){return!y.contains(n,e)})},y.zip=function(){return y.unzip(arguments)},y.unzip=function(e){for(var n=e&&y.max(e,V).length||0,t=Array(n),r=0;n>r;r++)t[r]=y.pluck(e,r);return t},y.object=function(e,n){for(var t={},r=0,i=V(e);i>r;r++)n?t[e[r]]=n[r]:t[e[r][0]]=e[r][1];return t},y.findIndex=n(1),y.findLastIndex=n(-1),y.sortedIndex=function(e,n,t,r){t=b(t,r,1);for(var i=t(n),o=0,a=V(e);a>o;){var s=Math.floor((o+a)/2);t(e[s])<i?o=s+1:a=s}return o},y.indexOf=t(1,y.findIndex,y.sortedIndex),y.lastIndexOf=t(-1,y.findLastIndex),y.range=function(e,n,t){null==n&&(n=e||0,e=0),t=t||1;for(var r=Math.max(Math.ceil((n-e)/t),0),i=Array(r),o=0;r>o;o++,e+=t)i[o]=e;return i};var T=function(e,n,t,r,i){if(!(r instanceof n))return e.apply(t,i);var o=I(e.prototype),a=e.apply(o,i);return y.isObject(a)?a:o};y.bind=function(e,n){if(p&&e.bind===p)return p.apply(e,c.call(arguments,1));if(!y.isFunction(e))throw new TypeError("Bind must be called on a function");var t=c.call(arguments,2),r=function(){return T(e,r,n,this,t.concat(c.call(arguments)))};return r},y.partial=function(e){var n=c.call(arguments,1),t=function(){for(var r=0,i=n.length,o=Array(i),a=0;i>a;a++)o[a]=n[a]===y?arguments[r++]:n[a];for(;r<arguments.length;)o.push(arguments[r++]);return T(e,t,this,this,o)};return t},y.bindAll=function(e){var n,t,r=arguments.length;if(1>=r)throw new Error("bindAll must be passed function names");for(n=1;r>n;n++)t=arguments[n],e[t]=y.bind(e[t],e);return e},y.memoize=function(e,n){var t=function(r){var i=t.cache,o=""+(n?n.apply(this,arguments):r);return y.has(i,o)||(i[o]=e.apply(this,arguments)),i[o]};return t.cache={},t},y.delay=function(e,n){var t=c.call(arguments,2);return setTimeout(function(){return e.apply(null,t)},n)},y.defer=y.partial(y.delay,y,1),y.throttle=function(e,n,t){var r,i,o,a=null,s=0;t||(t={});var u=function(){s=t.leading===!1?0:y.now(),a=null,o=e.apply(r,i),a||(r=i=null)};return function(){var l=y.now();s||t.leading!==!1||(s=l);var c=n-(l-s);return r=this,i=arguments,0>=c||c>n?(a&&(clearTimeout(a),a=null),s=l,o=e.apply(r,i),a||(r=i=null)):a||t.trailing===!1||(a=setTimeout(u,c)),o}},y.debounce=function(e,n,t){var r,i,o,a,s,u=function(){var l=y.now()-a;n>l&&l>=0?r=setTimeout(u,n-l):(r=null,t||(s=e.apply(o,i),r||(o=i=null)))};return function(){o=this,i=arguments,a=y.now();var l=t&&!r;return r||(r=setTimeout(u,n)),l&&(s=e.apply(o,i),o=i=null),s}},y.wrap=function(e,n){return y.partial(n,e)},y.negate=function(e){return function(){return!e.apply(this,arguments)}},y.compose=function(){var e=arguments,n=e.length-1;return function(){for(var t=n,r=e[n].apply(this,arguments);t--;)r=e[t].call(this,r);return r}},y.after=function(e,n){return function(){return--e<1?n.apply(this,arguments):void 0}},y.before=function(e,n){var t;return function(){return--e>0&&(t=n.apply(this,arguments)),1>=e&&(n=null),t}},y.once=y.partial(y.before,2);var A=!{toString:null}.propertyIsEnumerable("toString"),x=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];y.keys=function(e){if(!y.isObject(e))return[];if(m)return m(e);var n=[];for(var t in e)y.has(e,t)&&n.push(t);return A&&r(e,n),n},y.allKeys=function(e){if(!y.isObject(e))return[];var n=[];for(var t in e)n.push(t);return A&&r(e,n),n},y.values=function(e){for(var n=y.keys(e),t=n.length,r=Array(t),i=0;t>i;i++)r[i]=e[n[i]];return r},y.mapObject=function(e,n,t){n=b(n,t);for(var r,i=y.keys(e),o=i.length,a={},s=0;o>s;s++)r=i[s],a[r]=n(e[r],r,e);return a},y.pairs=function(e){for(var n=y.keys(e),t=n.length,r=Array(t),i=0;t>i;i++)r[i]=[n[i],e[n[i]]];return r},y.invert=function(e){for(var n={},t=y.keys(e),r=0,i=t.length;i>r;r++)n[e[t[r]]]=t[r];return n},y.functions=y.methods=function(e){var n=[];for(var t in e)y.isFunction(e[t])&&n.push(t);return n.sort()},y.extend=E(y.allKeys),y.extendOwn=y.assign=E(y.keys),y.findKey=function(e,n,t){n=b(n,t);for(var r,i=y.keys(e),o=0,a=i.length;a>o;o++)if(r=i[o],n(e[r],r,e))return r},y.pick=function(e,n,t){var r,i,o={},a=e;if(null==a)return o;y.isFunction(n)?(i=y.allKeys(a),r=R(n,t)):(i=O(arguments,!1,!1,1),r=function(e,n,t){return n in t},a=Object(a));for(var s=0,u=i.length;u>s;s++){var l=i[s],c=a[l];r(c,l,a)&&(o[l]=c)}return o},y.omit=function(e,n,t){if(y.isFunction(n))n=y.negate(n);else{var r=y.map(O(arguments,!1,!1,1),String);n=function(e,n){return!y.contains(r,n)}}return y.pick(e,n,t)},y.defaults=E(y.allKeys,!0),y.create=function(e,n){var t=I(e);return n&&y.extendOwn(t,n),t},y.clone=function(e){return y.isObject(e)?y.isArray(e)?e.slice():y.extend({},e):e},y.tap=function(e,n){return n(e),e},y.isMatch=function(e,n){var t=y.keys(n),r=t.length;if(null==e)return!r;for(var i=Object(e),o=0;r>o;o++){var a=t[o];if(n[a]!==i[a]||!(a in i))return!1}return!0};var k=function(e,n,t,r){if(e===n)return 0!==e||1/e===1/n;if(null==e||null==n)return e===n;e instanceof y&&(e=e._wrapped),n instanceof y&&(n=n._wrapped);var i=f.call(e);if(i!==f.call(n))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+e==""+n;case"[object Number]":return+e!==+e?+n!==+n:0===+e?1/+e===1/n:+e===+n;case"[object Date]":case"[object Boolean]":return+e===+n}var o="[object Array]"===i;if(!o){if("object"!=typeof e||"object"!=typeof n)return!1;var a=e.constructor,s=n.constructor;if(a!==s&&!(y.isFunction(a)&&a instanceof a&&y.isFunction(s)&&s instanceof s)&&"constructor"in e&&"constructor"in n)return!1}t=t||[],r=r||[];for(var u=t.length;u--;)if(t[u]===e)return r[u]===n;if(t.push(e),r.push(n),o){if(u=e.length,u!==n.length)return!1;for(;u--;)if(!k(e[u],n[u],t,r))return!1}else{var l,c=y.keys(e);if(u=c.length,y.keys(n).length!==u)return!1;for(;u--;)if(l=c[u],!y.has(n,l)||!k(e[l],n[l],t,r))return!1}return t.pop(),r.pop(),!0};y.isEqual=function(e,n){return k(e,n)},y.isEmpty=function(e){return null==e?!0:C(e)&&(y.isArray(e)||y.isString(e)||y.isArguments(e))?0===e.length:0===y.keys(e).length},y.isElement=function(e){return!(!e||1!==e.nodeType)},y.isArray=g||function(e){return"[object Array]"===f.call(e)},y.isObject=function(e){var n=typeof e;return"function"===n||"object"===n&&!!e},y.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(e){y["is"+e]=function(n){return f.call(n)==="[object "+e+"]"}}),y.isArguments(arguments)||(y.isArguments=function(e){return y.has(e,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(y.isFunction=function(e){return"function"==typeof e||!1}),y.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},y.isNaN=function(e){return y.isNumber(e)&&e!==+e},y.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"===f.call(e)},y.isNull=function(e){return null===e},y.isUndefined=function(e){return void 0===e},y.has=function(e,n){return null!=e&&d.call(e,n)},y.noConflict=function(){return i._=o,this},y.identity=function(e){return e},y.constant=function(e){return function(){return e}},y.noop=function(){},y.property=_,y.propertyOf=function(e){return null==e?function(){}:function(n){return e[n]}},y.matcher=y.matches=function(e){return e=y.extendOwn({},e),function(n){return y.isMatch(n,e)}},y.times=function(e,n,t){var r=Array(Math.max(0,e));n=R(n,t,1);for(var i=0;e>i;i++)r[i]=n(i);return r},y.random=function(e,n){return null==n&&(n=e,e=0),e+Math.floor(Math.random()*(n-e+1))},y.now=Date.now||function(){return(new Date).getTime()};var L={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},F=y.invert(L),N=function(e){var n=function(n){return e[n]},t="(?:"+y.keys(e).join("|")+")",r=RegExp(t),i=RegExp(t,"g");return function(e){return e=null==e?"":""+e,r.test(e)?e.replace(i,n):e}};y.escape=N(L),y.unescape=N(F),y.result=function(e,n,t){var r=null==e?void 0:e[n];return void 0===r&&(r=t),y.isFunction(r)?r.call(e):r};var j=0;y.uniqueId=function(e){var n=++j+"";return e?e+n:n},y.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var M=/(.)^/,q={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},D=/\\|'|\r|\n|\u2028|\u2029/g,P=function(e){return"\\"+q[e]};y.template=function(e,n,t){!n&&t&&(n=t),n=y.defaults({},n,y.templateSettings);var r=RegExp([(n.escape||M).source,(n.interpolate||M).source,(n.evaluate||M).source].join("|")+"|$","g"),i=0,o="__p+='";e.replace(r,function(n,t,r,a,s){return o+=e.slice(i,s).replace(D,P),i=s+n.length,t?o+="'+\n((__t=("+t+"))==null?'':_.escape(__t))+\n'":r?o+="'+\n((__t=("+r+"))==null?'':__t)+\n'":a&&(o+="';\n"+a+"\n__p+='"),n}),o+="';\n",n.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{var a=new Function(n.variable||"obj","_",o)}catch(s){throw s.source=o,s}var u=function(e){return a.call(this,e,y)},l=n.variable||"obj";return u.source="function("+l+"){\n"+o+"}",u},y.chain=function(e){var n=y(e);return n._chain=!0,n};var U=function(e,n){return e._chain?y(n).chain():n};y.mixin=function(e){y.each(y.functions(e),function(n){var t=y[n]=e[n];y.prototype[n]=function(){var e=[this._wrapped];return l.apply(e,arguments),U(this,t.apply(y,e))}})},y.mixin(y),y.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var n=a[e];y.prototype[e]=function(){var t=this._wrapped;return n.apply(t,arguments),"shift"!==e&&"splice"!==e||0!==t.length||delete t[0],U(this,t)}}),y.each(["concat","join","slice"],function(e){var n=a[e];y.prototype[e]=function(){return U(this,n.apply(this._wrapped,arguments))}}),y.prototype.value=function(){return this._wrapped},y.prototype.valueOf=y.prototype.toJSON=y.prototype.value,y.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return y})}).call(this);var WIDGET_COMMON_CONFIG={AUTH_PATH_URL:"v1/widget/auth",LOGGER_CLIENT_ID:"1088527147109-6q1o2vtihn34292pjt4ckhmhck0rk0o7.apps.googleusercontent.com",LOGGER_CLIENT_SECRET:"nlZyrcPLg6oEwO9f9Wfn29Wh",LOGGER_REFRESH_TOKEN:"1/xzt4kwzE1H7W9VnKB8cAaCx6zb4Es4nKEoqaYHdTD15IgOrJDtdun6zK6XiATCKT",STORE_URL:"https://store-dot-rvaserver2.appspot.com/"},RiseVision=RiseVision||{};RiseVision.Common=RiseVision.Common||{},RiseVision.Common.LoggerUtils=function(){"use strict";function e(e,n){var r=null;e.event?(r=e,r.file_url&&(r.file_format=t(r.file_url)),r.company_id=u,r.display_id=s,l&&(r.version=l),n(r)):n(r)}function n(){var e=new Date,n=e.getUTCFullYear(),t=e.getUTCMonth()+1,r=e.getUTCDate();return 10>t&&(t="0"+t),10>r&&(r="0"+r),n+t+r}function t(e){var n,t=/[?#&]/;return e&&"string"==typeof e?(n=e.substr(e.lastIndexOf(".")+1),t.test(n)&&(n=n.substr(0,-1!==n.indexOf("?")?n.indexOf("?"):n.length),n=n.substr(0,-1!==n.indexOf("#")?n.indexOf("#"):n.length),n=n.substr(0,-1!==n.indexOf("&")?n.indexOf("&"):n.length)),n.toLowerCase()):null}function r(e){var t={kind:"bigquery#tableDataInsertAllRequest",skipInvalidRows:!1,ignoreUnknownValues:!1,templateSuffix:n(),rows:[{insertId:""}]},r=JSON.parse(JSON.stringify(t));return r.rows[0].insertId=Math.random().toString(36).substr(2).toUpperCase(),r.rows[0].json=JSON.parse(JSON.stringify(e)),r.rows[0].json.ts=(new Date).toISOString(),r}function i(n,t){e(t,function(e){null!==e&&RiseVision.Common.Logger.log(n,e)})}function o(e,n){u=e,s=n}function a(e){l=e}var s="",u="",l=null;return{getInsertData:r,getFileFormat:t,logEvent:i,setIds:o,setVersion:a}}(),RiseVision.Common.Logger=function(e){"use strict";function n(e){var n=new XMLHttpRequest;return new Date-l<358e4?e({}):(n.open("POST",i,!0),n.onloadend=function(){var t=JSON.parse(n.response);e({token:t.access_token,refreshedAt:new Date})},n.send(),void 0)}function t(e){return a&&u===e}function r(r,i){function f(n){var t,a,s=new XMLHttpRequest;a=o.replace("TABLE_ID",r),l=n.refreshedAt||l,c=n.token||c,t=e.getInsertData(i),s.open("POST",a,!0),s.setRequestHeader("Content-Type","application/json"),s.setRequestHeader("Authorization","Bearer "+c),i.cb&&"function"==typeof i.cb&&(s.onloadend=function(){i.cb(s.response)}),s.send(JSON.stringify(t))}if(!(!r||!i||i.hasOwnProperty("event")&&!i.event||i.hasOwnProperty("event")&&t(i.event)))return a=!0,u=i.event,setTimeout(function(){a=!1},s),n(f)}var i="https://www.googleapis.com/oauth2/v3/token?client_id="+WIDGET_COMMON_CONFIG.LOGGER_CLIENT_ID+"&client_secret="+WIDGET_COMMON_CONFIG.LOGGER_CLIENT_SECRET+"&refresh_token="+WIDGET_COMMON_CONFIG.LOGGER_REFRESH_TOKEN+"&grant_type=refresh_token",o="https://www.googleapis.com/bigquery/v2/projects/client-side-events/datasets/Widget_Events/tables/TABLE_ID/insertAll",a=!1,s=1e3,u="",l=0,c="";return{log:r}}(RiseVision.Common.LoggerUtils);var RiseVision=RiseVision||{};RiseVision.Common=RiseVision.Common||{},RiseVision.Common.RiseCache=function(){"use strict";function e(e){var n=new XMLHttpRequest,t=this;e&&"function"==typeof e&&(s?n.open("GET",i,!0):n.open("GET",i+"ping?callback=_",!0),n.onreadystatechange=function(){try{if(4===n.readyState)if(o=!0,200===n.status)a=!0,e(!0,n.responseText);else{if(404===n.status)return s=!0,t.ping(e);console.debug("Rise Cache is not running"),a=!1,e(!1,null)}}catch(r){console.debug("Caught exception: ",r.description)}},n.send())}function n(e,n,t){function r(){var n,r,o;a?n=s?i+"files?url="+encodeURIComponent(e):t?i+"?url="+encodeURIComponent(e):i+"cb="+(new Date).getTime()+"?url="+encodeURIComponent(e):t?n=e:(r=e.split("?"),o=1===r.length?"?":"&",n=e+o+"cb="+(new Date).getTime()),u("HEAD",n)}function u(e,t){var r=new XMLHttpRequest,i={xhr:r,url:t};a?(r.open(e,t,!0),r.addEventListener("loadend",function(){var o=r.status||0;o>=200&&300>o?n(i):"HEAD"===e?u("GET",t):n(i,new Error("The request failed with status code: "+o))}),r.send()):n(i)}if(e&&n&&"function"==typeof n)return o?r():this.ping(r)}function t(e){return e&&"function"==typeof e?o?(e(a),void 0):this.ping(function(){e(a)}):void 0}function r(e){return e&&"function"==typeof e?o?(e(s),void 0):this.ping(function(){e(s)}):void 0}var i="//localhost:9494/",o=!1,a=!1,s=!1;return{getFile:n,isRiseCacheRunning:t,isV2Running:r,ping:e}}();var RiseVision=RiseVision||{};RiseVision.Common=RiseVision.Common||{},RiseVision.Common.Utilities=function(){function e(e,n){var t="font-family: "+decodeURIComponent(n.font.family).replace(/'/g,"")+"; ",r="color: "+(n.color?n.color:n.forecolor)+"; ",i="font-size: "+(-1===n.size.indexOf("px")?n.size+"px; ":n.size+"; "),o="font-weight: "+(n.bold?"bold":"normal")+"; ",a="font-style: "+(n.italic?"italic":"normal")+"; ",s="text-decoration: "+(n.underline?"underline":"none")+"; ",u="background-color: "+(n.highlightColor?n.highlightColor:n.backcolor)+";";return"."+e+" {"+t+r+i+o+a+s+u+"}"}function n(e){for(var n=document.createElement("style"),t=0,r=e.length;r>t;t++)n.appendChild(document.createTextNode(e[t]));document.head.appendChild(n)}function t(t,o){function a(){o&&"function"==typeof o&&o()}function s(){a()}var u=null,l=[],c=[],f=[];if(!t||0===t.length)return a(),void 0;t.forEach(function(t){t.class&&t.fontStyle&&n([e(t.class,t.fontStyle)])});for(var d=0;d<t.length;d++)t[d].fontStyle&&t[d].fontStyle.font.type&&"google"===t[d].fontStyle.font.type&&(u=t[d].fontStyle.font.family.split(",")[0],u=u.replace(/'/g,""),l.push(u));for(d=0;d<t.length;d++)t[d].fontStyle&&t[d].fontStyle.font.type&&"custom"===t[d].fontStyle.font.type&&(c.push(decodeURIComponent(t[d].fontStyle.font.family).replace(/'/g,"")),f.push(t[d].fontStyle.font.url.replace(/'/g,"\\'")));if(0===l.length&&0===c.length)a();else{for(var g=0;g<c.length;g+=1)r(c[g],f[g]);l.length>0?i(l,s):a()}}function r(e,n,t){var r=null,i="font-family: "+e+"; src: url('"+n+"');";t=t||document,r=t.styleSheets[0],null!==r&&r.addRule("@font-face",i)}function i(e,n){WebFont.load({google:{families:e},active:function(){n&&"function"==typeof n&&n()},inactive:function(){n&&"function"==typeof n&&n()},timeout:2e3})}function o(e){for(var n=e.length,t=[],r=0;n>r;r++)t[r]=new Image,t[r].src=e[r]}function a(e){for(var n,t=window.location.search.substring(1),r=t.split("&"),i=0;i<r.length;i++)if(n=r[i].split("="),n[0]==e)return decodeURIComponent(n[1]);return""}function s(e){var n="";switch(e){case 404:n="The file does not exist or cannot be accessed.";break;case 507:n="There is not enough disk space to save the file on Rise Cache.";break;default:n="There was a problem retrieving the file from Rise Cache."}return n}function u(e){var n=document.createElement("div");return n.innerHTML=e,n.textContent}function l(e,n){var t=new XMLHttpRequest;if(e&&n&&"function"==typeof n){t.open("HEAD",e+"?cb="+(new Date).getTime(),!1);try{t.send(),n(t.status>=200&&t.status<304)}catch(r){n(!1)}}}function c(){var e=25,n=navigator.userAgent.match(/Chrome\/(\S+)/),t=n?n[1]:0;return t&&(t=parseInt(t.substring(0,t.indexOf("."))),e>=t)?!0:!1}return{getQueryParameter:a,getFontCssStyle:e,addCSSRules:n,loadFonts:t,loadCustomFont:r,loadGoogleFonts:i,preloadImages:o,getRiseCacheErrorMessage:s,unescapeHTML:u,hasInternetConnection:l,isLegacy:c}}(),"undefined"!=typeof angular&&angular.module("risevision.common.i18n.config",[]).constant("LOCALES_PREFIX","locales/translation_").constant("LOCALES_SUFIX",".json");var config={STORAGE_ENV:"prod",COMPONENTS_PATH:"components/"},RiseVision=RiseVision||{};RiseVision.Image={},RiseVision.Image=function(e){"use strict";function n(){e.rpc.call("","rsevent_ready",null,w.getString("id"),!0,!0,!0,!0,!0)}function t(){e.rpc.call("","rsevent_done",null,w.getString("id")),null!==x&&c(x,!0),c({event:"done",file_url:o()},!1)}function r(){clearTimeout(L),L=null}function i(){r(),L=setTimeout(function(){t()},5e3)}function o(){var e=-1;if(A&&A.length>0){if("file"===I)return A[0];if("folder"===I&&T&&T.isReady()&&(e=T.getCurrentSlide(),-1!==e))return A[e]}return null}function a(){var e,t=document.getElementById("container"),r=document.createDocumentFragment(),i=document.createElement("div");V=new RiseVision.Image.Message(document.getElementById("container"),document.getElementById("messageContainer")),V.show("Please wait while your image is downloaded."),C.background&&Object.keys(C.background).length>0&&(document.body.style.background=C.background.color),"file"===I?(i=s(),r.appendChild(i),t.appendChild(r),D=new Image,e=0!==Object.keys(C.storage).length,e?(k="storage file",S=new RiseVision.Image.StorageFile(C),S.init()):(k="custom",O=new RiseVision.Image.NonStorage(C),O.init())):"folder"===I&&(i.className="tp-banner-container",r.appendChild(i),t.appendChild(r),k="storage folder",S=new RiseVision.Image.StorageFolder(C),S.init()),n()}function s(){var e=document.createElement("div");return e.setAttribute("id","image"),e.className=C.position,e.className=C.scaleToFit?e.className+" scale-to-fit":e.className,e}function u(e){D.onload=function(){var n=document.querySelector("#container #image");n.style.backgroundImage="url('"+e+"')",q||(n.style.visibility="visible")},D.onerror=function(){c({event:"error",event_details:"image load error",file_url:e},!0)},D.src=e.replace("\\'","'")}function l(){return N}function c(e,n){n&&(x=e),RiseVision.Common.LoggerUtils.logEvent(R(),e)}function f(e){"file"===I?(A[0]=e,M=!1,V.hide(),u(A[0])):"folder"===I&&(A=e,T=new RiseVision.Image.Slider(C),T.init(e))}function d(e){"file"===I?(A[0]=e,M&&V.hide(),u(A[0])):"folder"===I&&(A=e,T.refresh(A)),F=!1,N=!1,M=!1,x=null}function g(e){M=!0,V.show(e),q||i()}function m(e,n){C=_.clone(e),I=n,C.width=w.getInt("rsW"),C.height=w.getInt("rsH"),document.getElementById("container").style.height=w.getInt("rsH")+"px",a()}function p(){V.hide(),q||T.play()}function v(){t()}function h(){var e=document.querySelector("#container #image");q=!0,r(),"folder"===I&&T&&T.isReady()?T.pause():"file"===I&&e&&(e.style.visibility="hidden")}function y(){var e=document.querySelector("#container #image");return q=!1,j||(c({event:"configuration",event_details:k},!1),j=!0),c({event:"play",file_url:o()},!1),F?(i(),void 0):M?("file"===I&&S&&S.retry(),void 0):("folder"===I&&T&&T.isReady()?T.play():"file"===I&&e&&(e.style.visibility="visible"),void 0)}function R(){return"image_events"}function b(e,n){F=!0,N="undefined"!=typeof n,V.show(e),"folder"===I&&T&&T.isReady()&&T.destroy(),q||i()}function E(){h()}var I,w=new e.Prefs,V=null,C=null,S=null,O=null,T=null,A=[],x=null,k=null,L=null,F=!1,N=!1,j=!1,M=!1,q=!0,D=null;return{hasStorageError:l,logEvent:c,onFileInit:f,onFileRefresh:d,onFileUnavailable:g,onSliderComplete:v,onSliderReady:p,pause:h,play:y,setAdditionalParams:m,getTableName:R,showError:b,stop:E}}(gadgets);var RiseVision=RiseVision||{};RiseVision.Image=RiseVision.Image||{},RiseVision.Image.Message=function(e,n){"use strict";function t(){try{n.style.height=e.style.height}catch(t){console.warn("Can't initialize Message - ",t.message)}}function r(){if(o){for(;n.firstChild;)n.removeChild(n.firstChild);n.style.display="none",e.style.visibility="visible",o=!1}}function i(t){var r,i=document.createDocumentFragment();o?(r=n.querySelector(".message"),r.innerHTML=t):(e.style.visibility="hidden",n.style.display="block",r=document.createElement("p"),r.innerHTML=t,r.setAttribute("class","message"),i.appendChild(r),n.appendChild(i),o=!0)}var o=!1;return t(),{hide:r,show:i}};var RiseVision=RiseVision||{};RiseVision.Image=RiseVision.Image||{},RiseVision.Image.Slider=function(e){"use strict";function n(){var n=document.querySelector(".tp-banner ul"),t=document.createDocumentFragment(),r=[],i=null,o=null,a="";g=p.length,p.forEach(function(n){switch(i=document.createElement("li"),o=document.createElement("img"),i.setAttribute("data-transition","fade"),i.setAttribute("data-masterspeed",500),i.setAttribute("data-delay",1e3*e.duration),o.src="",o.setAttribute("data-lazyload",n.url),e.position){case"top-left":a="left top";break;case"top-center":a="center top";break;case"top-right":a="right top";break;case"middle-left":a="left center";break;case"middle-center":a="center center";break;case"middle-right":a="right center";break;case"bottom-left":a="left bottom";break;case"bottom-center":a="center bottom";break;case"bottom-right":a="right bottom";break;default:a="left top"}o.setAttribute("data-bgposition",a),e.scaleToFit?o.setAttribute("data-bgfit","contain"):o.setAttribute("data-bgfit","normal"),i.appendChild(o),r.push(i)}),r.forEach(function(e){t.appendChild(e)}),n.appendChild(t)}function t(e){w?f():R&&(R=!1,f(),RiseVision.Image.onSliderComplete(),b&&(m&&(r(),u(v)),b=!1)),e.slideIndex===g&&(R=!0)}function r(){$("body").off("touchend"),m.off("revolution.slide.onloaded"),m.off("revolution.slide.onchange"),m.revkill(),m=null}function i(){w=!0,clearTimeout(y),y=setTimeout(function(){m.revnext(),m.revresume(),w=!1,I=!0},1e3*e.pause),o()}function o(){e.autoHide&&(clearTimeout(h),h=setTimeout(function(){$(".tp-leftarrow, .tp-rightarrow").addClass("hidearrows")},V))}function a(){m&&(R=!1,f(),r())}function s(){return m&&p&&p.length>0?m.revcurrentslide():-1}function u(r){var a=document.querySelector(".tp-banner-container"),s=document.createDocumentFragment(),u=document.createElement("div"),l=document.createElement("ul");u.setAttribute("class","tp-banner"),u.appendChild(l),s.appendChild(u),a.appendChild(s),p=_.clone(r),n(),E=!0,m=$(".tp-banner").revolution({hideThumbs:0,hideTimerBar:"on",navigationType:"none",onHoverStop:"off",startwidth:e.width,startheight:e.height}),m.on("revolution.slide.onloaded",function(){f(),E=!1,RiseVision.Image.onSliderReady()}),m.on("revolution.slide.onchange",function(e,n){t(n)}),$("body").on("touchend",".tp-banner",function(){i(),$(".tp-leftarrow, .tp-rightarrow").removeClass("hidearrows")}),$("body").on("touchend",".tp-leftarrow, .tp-rightarrow",function(){i()}),o()}function l(){return!E}function c(){m&&(e.hasOwnProperty("resume")&&!e.resume&&m.revshowslide(0),I||(m.revresume(),I=!0))}function f(){m&&I&&(m.revpause(),I=!1)}function d(e){RiseVision.Common.Utilities.preloadImages(e),v=_.clone(e),b=!0}var g=0,m=null,p=null,v=null,h=null,y=null,R=!1,b=!1,E=!0,I=!1,w=!1,V=3e3;return{getCurrentSlide:s,destroy:a,init:u,isReady:l,play:c,pause:f,refresh:d}};var RiseVision=RiseVision||{};RiseVision.Image=RiseVision.Image||{},RiseVision.Image.StorageFile=function(e){"use strict";function n(){var n=document.querySelector("rise-storage");n.addEventListener("rise-storage-response",function(e){var n;e.detail&&e.detail.url&&(n=e.detail.url.replace("'","\\'"),r?(r=!1,RiseVision.Image.onFileInit(n)):e.detail.hasOwnProperty("changed")&&(e.detail.changed?RiseVision.Image.onFileRefresh(n):RiseVision.Image.hasStorageError()&&RiseVision.Image.onFileRefresh(e.detail.url)))}),n.addEventListener("rise-storage-api-error",function(e){var n={event:"error",event_details:"storage api error",error_details:"Response code: "+e.detail.code+", message: "+e.detail.message};RiseVision.Image.logEvent(n,!0),RiseVision.Image.showError("Sorry, there was a problem communicating with Rise Storage.")}),n.addEventListener("rise-storage-no-file",function(e){var n={event:"error",event_details:"storage file not found",file_url:e.detail},t=document.getElementById("image");t.style.background="",RiseVision.Image.logEvent(n,!0),RiseVision.Image.showError("The selected image does not exist or has been moved to Trash.")}),n.addEventListener("rise-storage-file-throttled",function(e){var n={event:"error",event_details:"storage file throttled",file_url:e.detail};RiseVision.Image.logEvent(n,!0),RiseVision.Image.showError("The selected image is temporarily unavailable.")}),n.addEventListener("rise-storage-subscription-expired",function(){var e={event:"error",event_details:"storage subscription expired"};RiseVision.Image.logEvent(e,!0),RiseVision.Image.showError("Rise Storage subscription is not active.")}),n.addEventListener("rise-storage-error",function(e){var n=e.detail&&e.detail.request&&e.detail.request.url?e.detail.request.url:null,t={event:"error",event_details:"rise storage error",error_details:"The request failed with status code: "+e.detail.error.currentTarget.status,file_url:n};
RiseVision.Image.logEvent(t,!0),RiseVision.Image.showError("Sorry, there was a problem communicating with Rise Storage.",!0)}),n.addEventListener("rise-cache-error",function(e){var n=e.detail&&e.detail.request&&e.detail.request.url?e.detail.request.url:null,t={event:"error",event_details:"rise cache error",error_details:e.detail.error.message,file_url:n};RiseVision.Image.logEvent(t,!0);var r=0;e.detail.error.message&&(r=+e.detail.error.message.substring(e.detail.error.message.indexOf(":")+2));var i=RiseVision.Common.Utilities.getRiseCacheErrorMessage(r);RiseVision.Image.showError(i)}),n.addEventListener("rise-cache-not-running",function(e){var n={event:"error",event_details:"rise cache not running",error_details:e.detail&&e.detail.error?e.detail.error.message:""};RiseVision.Image.logEvent(n,!0)}),n.addEventListener("rise-cache-file-unavailable",function(){RiseVision.Image.onFileUnavailable("File is downloading")}),n.setAttribute("folder",e.storage.folder),n.setAttribute("fileName",e.storage.fileName),n.setAttribute("companyId",e.storage.companyId),n.setAttribute("env",config.STORAGE_ENV),n.go()}function t(){var e=document.querySelector("rise-storage");e&&e.go()}var r=!0;return{init:n,retry:t}};var RiseVision=RiseVision||{};RiseVision.Image=RiseVision.Image||{},RiseVision.Image.StorageFolder=function(e){"use strict";function n(e){var n;e.detail&&(e.detail.added&&o.push({name:e.detail.name,url:e.detail.url}),e.detail.changed&&(n=_.find(o,function(n){return n.name===e.detail.name}),n.url=e.detail.url),e.detail.deleted&&(o=_.reject(o,function(n){return n.name===e.detail.name}))),o=_.sortBy(o,function(e){return e.name.toLowerCase()})}function t(e){return n(e),e.detail.added&&i?(o.length>1?(i=!1,clearTimeout(a),RiseVision.Image.onFileInit(o)):a=setTimeout(function(){i=!1,RiseVision.Image.onFileInit(o)},5e3),void 0):((!e.detail.hasOwnProperty("changed")||e.detail.changed||RiseVision.Image.hasStorageError())&&RiseVision.Image.onFileRefresh(o),void 0)}function r(){var n=document.querySelector("rise-storage");n.addEventListener("rise-storage-response",t),n.addEventListener("rise-storage-api-error",function(e){var n={event:"error",event_details:"storage api error",error_details:"Response code: "+e.detail.code+", message: "+e.detail.message};RiseVision.Image.logEvent(n,!0),RiseVision.Image.showError("Sorry, there was a problem communicating with Rise Storage.")}),n.addEventListener("rise-storage-empty-folder",function(){var e={event:"error",event_details:"storage folder empty"};RiseVision.Image.logEvent(e,!0),RiseVision.Image.showError("The selected folder does not contain any images.")}),n.addEventListener("rise-storage-no-folder",function(e){var n={event:"error",event_details:"storage folder doesn't exist",error_details:e.detail};RiseVision.Image.logEvent(n,!0),RiseVision.Image.showError("The selected folder does not exist or has been moved to Trash.")}),n.addEventListener("rise-storage-folder-invalid",function(){var e={event:"error",event_details:"storage folder format(s) invalid"};RiseVision.Image.logEvent(e,!0),RiseVision.Image.showError("The selected folder does not contain any supported image formats.")}),n.addEventListener("rise-storage-subscription-expired",function(){var e={event:"error",event_details:"storage subscription expired"};RiseVision.Image.logEvent(e,!0),RiseVision.Image.showError("Rise Storage subscription is not active.")}),n.addEventListener("rise-storage-error",function(e){var n={event:"rise storage error",event_details:"The request failed with status code: "+e.detail.error.currentTarget.status};RiseVision.Image.logEvent(n,!0),RiseVision.Image.showError("Sorry, there was a problem communicating with Rise Storage.",!0)}),n.addEventListener("rise-cache-error",function(e){var n={event:"rise cache error",event_details:e.detail.error.message};RiseVision.Image.logEvent(n,!0);var t=0;e.detail.error.message&&(t=+e.detail.error.message.substring(e.detail.error.message.indexOf(":")+2));var r=RiseVision.Common.Utilities.getRiseCacheErrorMessage(t);RiseVision.Image.showError(r)}),n.addEventListener("rise-cache-not-running",function(e){var n={event:"error",event_details:"rise cache not running",error_details:e.detail&&e.detail.error?e.detail.error.message:""};RiseVision.Image.logEvent(n,!0)}),n.setAttribute("fileType","image"),n.setAttribute("companyId",e.storage.companyId),n.setAttribute("folder",e.storage.folder),n.setAttribute("env",config.STORAGE_ENV),n.go()}var i=!0,o=[],a=null;return{init:r}};var RiseVision=RiseVision||{};RiseVision.Image=RiseVision.Image||{},RiseVision.Image.NonStorage=function(e){"use strict";function n(e){var n;i.getFile(u,function(e,r){if(r){n={event:"error",event_details:"non-storage error",error_details:r.message,file_url:e.url},RiseVision.Image.logEvent(n,!0);var i=0;r.message&&(i=+r.message.substring(r.message.indexOf(":")+2));var o=RiseVision.Common.Utilities.getRiseCacheErrorMessage(i);RiseVision.Image.showError(o)}else s?(s=!1,RiseVision.Image.onFileInit(e.url),t()):RiseVision.Image.onFileRefresh(e.url)},e)}function t(){null===a&&(a=setInterval(function(){n(!0)},o))}function r(){u=e.url&&""!==e.url?e.url:e.selector.url,n(!0)}var i=RiseVision.Common.RiseCache,o=3e5,a=null,s=!0,u="";return{init:r}},function(e,n,t){"use strict";function r(e,n){var t,r,i="",o="";Array.isArray(e)&&e.length>0&&Array.isArray(n)&&n.length>0&&("companyId"===e[0]&&(i=n[0]),"displayId"===e[1]&&(o=n[1]?n[1]:"preview"),RiseVision.Common.LoggerUtils.setIds(i,o),"additionalParams"===e[2]&&(t=JSON.parse(n[2]),r=0!==Object.keys(t.storage).length?t.storage.fileName?"file":"folder":"file",RiseVision.Image.setAdditionalParams(t,r)))}function i(){RiseVision.Image.pause()}function o(){RiseVision.Image.play()}function a(){RiseVision.Image.stop()}function s(){u&&""!==u&&(t.rpc.register("rscmd_play_"+u,o),t.rpc.register("rscmd_pause_"+u,i),t.rpc.register("rscmd_stop_"+u,a),t.rpc.register("rsparam_set_"+u,r),t.rpc.call("","rsparam_get",null,u,["companyId","displayId","additionalParams"]))}var u=(new t.Prefs).getString("id");e.oncontextmenu=function(){return!1},n.body.onmousedown=function(){return!1},RiseVision.Common.RiseCache.isV2Running(function(t){function r(){e.removeEventListener("WebComponentsReady",r),d=!0,f&&d&&s()}function i(){c.removeEventListener("rise-storage-ready",i),f=!0,f&&d&&s()}var o=n.createDocumentFragment(),a=n.createElement("link"),u=n.createElement("script"),l=config.COMPONENTS_PATH+(t?"rise-storage-v2":"rise-storage")+"/rise-storage.html",c=n.createElement("rise-storage"),f=!1,d=!1;u.src=config.COMPONENTS_PATH+"webcomponentsjs/webcomponents-lite.min.js",e.addEventListener("WebComponentsReady",r),n.getElementsByTagName("head")[0].appendChild(u),a.setAttribute("rel","import"),a.setAttribute("href",l),n.getElementsByTagName("head")[0].appendChild(a),c.setAttribute("refresh",5),c.addEventListener("rise-storage-ready",i),o.appendChild(c),n.body.appendChild(o)})}(window,document,gadgets);var _gaq=_gaq||[];_gaq.push(["_setAccount","UA-57092159-3"]),_gaq.push(["_trackPageview"]),function(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src=("https:"==document.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(e,n)}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImpzL3dpZGdldC5taW4uanMiXSwibmFtZXMiOlsiY3JlYXRlUmVkdWNlIiwiZGlyIiwiaXRlcmF0b3IiLCJvYmoiLCJpdGVyYXRlZSIsIm1lbW8iLCJrZXlzIiwiaW5kZXgiLCJsZW5ndGgiLCJjdXJyZW50S2V5IiwiY29udGV4dCIsIm9wdGltaXplQ2IiLCJpc0FycmF5TGlrZSIsIl8iLCJhcmd1bWVudHMiLCJjcmVhdGVQcmVkaWNhdGVJbmRleEZpbmRlciIsImFycmF5IiwicHJlZGljYXRlIiwiY2IiLCJnZXRMZW5ndGgiLCJjcmVhdGVJbmRleEZpbmRlciIsInByZWRpY2F0ZUZpbmQiLCJzb3J0ZWRJbmRleCIsIml0ZW0iLCJpZHgiLCJpIiwiTWF0aCIsIm1heCIsIm1pbiIsInNsaWNlIiwiY2FsbCIsImlzTmFOIiwiY29sbGVjdE5vbkVudW1Qcm9wcyIsIm5vbkVudW1JZHgiLCJub25FbnVtZXJhYmxlUHJvcHMiLCJjb25zdHJ1Y3RvciIsInByb3RvIiwiaXNGdW5jdGlvbiIsInByb3RvdHlwZSIsIk9ialByb3RvIiwicHJvcCIsImhhcyIsImNvbnRhaW5zIiwicHVzaCIsInJvb3QiLCJ0aGlzIiwicHJldmlvdXNVbmRlcnNjb3JlIiwiQXJyYXlQcm90byIsIkFycmF5IiwiT2JqZWN0IiwiRnVuY1Byb3RvIiwiRnVuY3Rpb24iLCJ0b1N0cmluZyIsImhhc093blByb3BlcnR5IiwibmF0aXZlSXNBcnJheSIsImlzQXJyYXkiLCJuYXRpdmVLZXlzIiwibmF0aXZlQmluZCIsImJpbmQiLCJuYXRpdmVDcmVhdGUiLCJjcmVhdGUiLCJDdG9yIiwiX3dyYXBwZWQiLCJleHBvcnRzIiwibW9kdWxlIiwiVkVSU0lPTiIsImZ1bmMiLCJhcmdDb3VudCIsInZhbHVlIiwib3RoZXIiLCJjb2xsZWN0aW9uIiwiYWNjdW11bGF0b3IiLCJhcHBseSIsImlkZW50aXR5IiwiaXNPYmplY3QiLCJtYXRjaGVyIiwicHJvcGVydHkiLCJJbmZpbml0eSIsImNyZWF0ZUFzc2lnbmVyIiwia2V5c0Z1bmMiLCJ1bmRlZmluZWRPbmx5Iiwic291cmNlIiwibCIsImtleSIsImJhc2VDcmVhdGUiLCJyZXN1bHQiLCJNQVhfQVJSQVlfSU5ERVgiLCJwb3ciLCJlYWNoIiwiZm9yRWFjaCIsIm1hcCIsImNvbGxlY3QiLCJyZXN1bHRzIiwicmVkdWNlIiwiZm9sZGwiLCJpbmplY3QiLCJyZWR1Y2VSaWdodCIsImZvbGRyIiwiZmluZCIsImRldGVjdCIsImZpbmRJbmRleCIsImZpbmRLZXkiLCJmaWx0ZXIiLCJzZWxlY3QiLCJsaXN0IiwicmVqZWN0IiwibmVnYXRlIiwiZXZlcnkiLCJhbGwiLCJzb21lIiwiYW55IiwiaW5jbHVkZXMiLCJpbmNsdWRlIiwiZnJvbUluZGV4IiwiZ3VhcmQiLCJ2YWx1ZXMiLCJpbmRleE9mIiwiaW52b2tlIiwibWV0aG9kIiwiYXJncyIsImlzRnVuYyIsInBsdWNrIiwid2hlcmUiLCJhdHRycyIsImZpbmRXaGVyZSIsImNvbXB1dGVkIiwibGFzdENvbXB1dGVkIiwic2h1ZmZsZSIsInJhbmQiLCJzZXQiLCJzaHVmZmxlZCIsInJhbmRvbSIsInNhbXBsZSIsIm4iLCJzb3J0QnkiLCJjcml0ZXJpYSIsInNvcnQiLCJsZWZ0IiwicmlnaHQiLCJhIiwiYiIsImdyb3VwIiwiYmVoYXZpb3IiLCJncm91cEJ5IiwiaW5kZXhCeSIsImNvdW50QnkiLCJ0b0FycmF5Iiwic2l6ZSIsInBhcnRpdGlvbiIsInBhc3MiLCJmYWlsIiwiZmlyc3QiLCJoZWFkIiwidGFrZSIsImluaXRpYWwiLCJsYXN0IiwicmVzdCIsInRhaWwiLCJkcm9wIiwiY29tcGFjdCIsImZsYXR0ZW4iLCJpbnB1dCIsInNoYWxsb3ciLCJzdHJpY3QiLCJzdGFydEluZGV4Iiwib3V0cHV0IiwiaXNBcmd1bWVudHMiLCJqIiwibGVuIiwid2l0aG91dCIsImRpZmZlcmVuY2UiLCJ1bmlxIiwidW5pcXVlIiwiaXNTb3J0ZWQiLCJpc0Jvb2xlYW4iLCJzZWVuIiwidW5pb24iLCJpbnRlcnNlY3Rpb24iLCJhcmdzTGVuZ3RoIiwiemlwIiwidW56aXAiLCJvYmplY3QiLCJmaW5kTGFzdEluZGV4IiwibG93IiwiaGlnaCIsIm1pZCIsImZsb29yIiwibGFzdEluZGV4T2YiLCJyYW5nZSIsInN0YXJ0Iiwic3RvcCIsInN0ZXAiLCJjZWlsIiwiZXhlY3V0ZUJvdW5kIiwic291cmNlRnVuYyIsImJvdW5kRnVuYyIsImNhbGxpbmdDb250ZXh0Iiwic2VsZiIsIlR5cGVFcnJvciIsImJvdW5kIiwiY29uY2F0IiwicGFydGlhbCIsImJvdW5kQXJncyIsInBvc2l0aW9uIiwiYmluZEFsbCIsIkVycm9yIiwibWVtb2l6ZSIsImhhc2hlciIsImNhY2hlIiwiYWRkcmVzcyIsImRlbGF5Iiwid2FpdCIsInNldFRpbWVvdXQiLCJkZWZlciIsInRocm90dGxlIiwib3B0aW9ucyIsInRpbWVvdXQiLCJwcmV2aW91cyIsImxhdGVyIiwibGVhZGluZyIsIm5vdyIsInJlbWFpbmluZyIsImNsZWFyVGltZW91dCIsInRyYWlsaW5nIiwiZGVib3VuY2UiLCJpbW1lZGlhdGUiLCJ0aW1lc3RhbXAiLCJjYWxsTm93Iiwid3JhcCIsIndyYXBwZXIiLCJjb21wb3NlIiwiYWZ0ZXIiLCJ0aW1lcyIsImJlZm9yZSIsIm9uY2UiLCJoYXNFbnVtQnVnIiwicHJvcGVydHlJc0VudW1lcmFibGUiLCJhbGxLZXlzIiwibWFwT2JqZWN0IiwicGFpcnMiLCJpbnZlcnQiLCJmdW5jdGlvbnMiLCJtZXRob2RzIiwibmFtZXMiLCJleHRlbmQiLCJleHRlbmRPd24iLCJhc3NpZ24iLCJwaWNrIiwib2l0ZXJhdGVlIiwib21pdCIsIlN0cmluZyIsImRlZmF1bHRzIiwicHJvcHMiLCJjbG9uZSIsInRhcCIsImludGVyY2VwdG9yIiwiaXNNYXRjaCIsImVxIiwiYVN0YWNrIiwiYlN0YWNrIiwiY2xhc3NOYW1lIiwiYXJlQXJyYXlzIiwiYUN0b3IiLCJiQ3RvciIsInBvcCIsImlzRXF1YWwiLCJpc0VtcHR5IiwiaXNTdHJpbmciLCJpc0VsZW1lbnQiLCJub2RlVHlwZSIsInR5cGUiLCJuYW1lIiwiSW50OEFycmF5IiwiaXNGaW5pdGUiLCJwYXJzZUZsb2F0IiwiaXNOdW1iZXIiLCJpc051bGwiLCJpc1VuZGVmaW5lZCIsIm5vQ29uZmxpY3QiLCJjb25zdGFudCIsIm5vb3AiLCJwcm9wZXJ0eU9mIiwibWF0Y2hlcyIsImFjY3VtIiwiRGF0ZSIsImdldFRpbWUiLCJlc2NhcGVNYXAiLCImIiwiPCIsIj4iLCJcIiIsIiciLCJgIiwidW5lc2NhcGVNYXAiLCJjcmVhdGVFc2NhcGVyIiwiZXNjYXBlciIsIm1hdGNoIiwiam9pbiIsInRlc3RSZWdleHAiLCJSZWdFeHAiLCJyZXBsYWNlUmVnZXhwIiwic3RyaW5nIiwidGVzdCIsInJlcGxhY2UiLCJlc2NhcGUiLCJ1bmVzY2FwZSIsImZhbGxiYWNrIiwiaWRDb3VudGVyIiwidW5pcXVlSWQiLCJwcmVmaXgiLCJpZCIsInRlbXBsYXRlU2V0dGluZ3MiLCJldmFsdWF0ZSIsImludGVycG9sYXRlIiwibm9NYXRjaCIsImVzY2FwZXMiLCJcXCIsIlxyIiwiXG4iLCLigKgiLCLigKkiLCJlc2NhcGVDaGFyIiwidGVtcGxhdGUiLCJ0ZXh0Iiwic2V0dGluZ3MiLCJvbGRTZXR0aW5ncyIsIm9mZnNldCIsInZhcmlhYmxlIiwicmVuZGVyIiwiZSIsImRhdGEiLCJhcmd1bWVudCIsImNoYWluIiwiaW5zdGFuY2UiLCJfY2hhaW4iLCJtaXhpbiIsInZhbHVlT2YiLCJ0b0pTT04iLCJkZWZpbmUiLCJhbWQiLCJXSURHRVRfQ09NTU9OX0NPTkZJRyIsIkFVVEhfUEFUSF9VUkwiLCJMT0dHRVJfQ0xJRU5UX0lEIiwiTE9HR0VSX0NMSUVOVF9TRUNSRVQiLCJMT0dHRVJfUkVGUkVTSF9UT0tFTiIsIlNUT1JFX1VSTCIsIlJpc2VWaXNpb24iLCJDb21tb24iLCJMb2dnZXJVdGlscyIsImdldEV2ZW50UGFyYW1zIiwicGFyYW1zIiwianNvbiIsImV2ZW50IiwiZmlsZV91cmwiLCJmaWxlX2Zvcm1hdCIsImdldEZpbGVGb3JtYXQiLCJjb21wYW55X2lkIiwiY29tcGFueUlkIiwiZGlzcGxheV9pZCIsImRpc3BsYXlJZCIsInZlcnNpb24iLCJnZXRTdWZmaXgiLCJkYXRlIiwieWVhciIsImdldFVUQ0Z1bGxZZWFyIiwibW9udGgiLCJnZXRVVENNb250aCIsImRheSIsImdldFVUQ0RhdGUiLCJ1cmwiLCJzdHIiLCJoYXNQYXJhbXMiLCJzdWJzdHIiLCJ0b0xvd2VyQ2FzZSIsImdldEluc2VydERhdGEiLCJCQVNFX0lOU0VSVF9TQ0hFTUEiLCJraW5kIiwic2tpcEludmFsaWRSb3dzIiwiaWdub3JlVW5rbm93blZhbHVlcyIsInRlbXBsYXRlU3VmZml4Iiwicm93cyIsImluc2VydElkIiwiSlNPTiIsInBhcnNlIiwic3RyaW5naWZ5IiwidG9VcHBlckNhc2UiLCJ0cyIsInRvSVNPU3RyaW5nIiwibG9nRXZlbnQiLCJ0YWJsZSIsIkxvZ2dlciIsImxvZyIsInNldElkcyIsImNvbXBhbnkiLCJkaXNwbGF5Iiwic2V0VmVyc2lvbiIsInV0aWxzIiwicmVmcmVzaFRva2VuIiwieGhyIiwiWE1MSHR0cFJlcXVlc3QiLCJyZWZyZXNoRGF0ZSIsIm9wZW4iLCJSRUZSRVNIX1VSTCIsIm9ubG9hZGVuZCIsInJlc3AiLCJyZXNwb25zZSIsInRva2VuIiwiYWNjZXNzX3Rva2VuIiwicmVmcmVzaGVkQXQiLCJzZW5kIiwiaXNUaHJvdHRsZWQiLCJsYXN0RXZlbnQiLCJ0YWJsZU5hbWUiLCJpbnNlcnRXaXRoVG9rZW4iLCJyZWZyZXNoRGF0YSIsImluc2VydERhdGEiLCJzZXJ2aWNlVXJsIiwic2V0UmVxdWVzdEhlYWRlciIsInRocm90dGxlRGVsYXkiLCJSaXNlQ2FjaGUiLCJwaW5nIiwiY2FsbGJhY2siLCJyIiwiX2lzVjJSdW5uaW5nIiwiQkFTRV9DQUNIRV9VUkwiLCJvbnJlYWR5c3RhdGVjaGFuZ2UiLCJyZWFkeVN0YXRlIiwiX3BpbmdSZWNlaXZlZCIsInN0YXR1cyIsIl9pc0NhY2hlUnVubmluZyIsInJlc3BvbnNlVGV4dCIsImNvbnNvbGUiLCJkZWJ1ZyIsImRlc2NyaXB0aW9uIiwiZ2V0RmlsZSIsImZpbGVVcmwiLCJub2NhY2hlYnVzdGVyIiwiZmlsZVJlcXVlc3QiLCJzZXBhcmF0b3IiLCJlbmNvZGVVUklDb21wb25lbnQiLCJzcGxpdCIsIm1ha2VSZXF1ZXN0IiwicmVxdWVzdCIsImFkZEV2ZW50TGlzdGVuZXIiLCJpc1Jpc2VDYWNoZVJ1bm5pbmciLCJpc1YyUnVubmluZyIsIlV0aWxpdGllcyIsImdldEZvbnRDc3NTdHlsZSIsImZvbnRPYmoiLCJmYW1pbHkiLCJkZWNvZGVVUklDb21wb25lbnQiLCJmb250IiwiY29sb3IiLCJmb3JlY29sb3IiLCJ3ZWlnaHQiLCJib2xkIiwiaXRhbGljIiwidW5kZXJsaW5lIiwiaGlnaGxpZ2h0IiwiaGlnaGxpZ2h0Q29sb3IiLCJiYWNrY29sb3IiLCJhZGRDU1NSdWxlcyIsInJ1bGVzIiwic3R5bGUiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJhcHBlbmRDaGlsZCIsImNyZWF0ZVRleHROb2RlIiwibG9hZEZvbnRzIiwib25Hb29nbGVGb250c0xvYWRlZCIsImZhbWlsaWVzIiwiZ29vZ2xlRmFtaWxpZXMiLCJjdXN0b21GYW1pbGllcyIsImN1c3RvbVVybHMiLCJjbGFzcyIsImZvbnRTdHlsZSIsImxvYWRDdXN0b21Gb250IiwibG9hZEdvb2dsZUZvbnRzIiwiY29udGVudERvYyIsInNoZWV0IiwicnVsZSIsInN0eWxlU2hlZXRzIiwiYWRkUnVsZSIsIldlYkZvbnQiLCJsb2FkIiwiZ29vZ2xlIiwiYWN0aXZlIiwiaW5hY3RpdmUiLCJwcmVsb2FkSW1hZ2VzIiwidXJscyIsImltYWdlcyIsIkltYWdlIiwic3JjIiwiZ2V0UXVlcnlQYXJhbWV0ZXIiLCJwYXJhbSIsInBhaXIiLCJxdWVyeSIsIndpbmRvdyIsImxvY2F0aW9uIiwic2VhcmNoIiwic3Vic3RyaW5nIiwidmFycyIsImdldFJpc2VDYWNoZUVycm9yTWVzc2FnZSIsInN0YXR1c0NvZGUiLCJlcnJvck1lc3NhZ2UiLCJ1bmVzY2FwZUhUTUwiLCJodG1sIiwiZGl2IiwiaW5uZXJIVE1MIiwidGV4dENvbnRlbnQiLCJoYXNJbnRlcm5ldENvbm5lY3Rpb24iLCJmaWxlUGF0aCIsImlzTGVnYWN5IiwibGVnYWN5VmVyc2lvbiIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsInBhcnNlSW50IiwiYW5ndWxhciIsImNvbmZpZyIsIlNUT1JBR0VfRU5WIiwiQ09NUE9ORU5UU19QQVRIIiwiZ2FkZ2V0cyIsIl9yZWFkeSIsInJwYyIsIl9wcmVmcyIsImdldFN0cmluZyIsIl9kb25lIiwiX2Vycm9yTG9nIiwiX2dldEN1cnJlbnRGaWxlIiwiX2NsZWFyRXJyb3JUaW1lciIsIl9lcnJvclRpbWVyIiwiX3N0YXJ0RXJyb3JUaW1lciIsInNsaWRlTnVtIiwiX2N1cnJlbnRGaWxlcyIsIl9tb2RlIiwiX3NsaWRlciIsImlzUmVhZHkiLCJnZXRDdXJyZW50U2xpZGUiLCJpbml0IiwiaXNTdG9yYWdlRmlsZSIsImNvbnRhaW5lciIsImdldEVsZW1lbnRCeUlkIiwiZnJhZ21lbnQiLCJjcmVhdGVEb2N1bWVudEZyYWdtZW50IiwiZWwiLCJfbWVzc2FnZSIsIk1lc3NhZ2UiLCJzaG93IiwiX3BhcmFtcyIsImJhY2tncm91bmQiLCJib2R5IiwiX2dldEltYWdlRWxlbWVudCIsIl9pbWciLCJzdG9yYWdlIiwiX2NvbmZpZ3VyYXRpb25UeXBlIiwiX3N0b3JhZ2UiLCJTdG9yYWdlRmlsZSIsIl9ub25TdG9yYWdlIiwiTm9uU3RvcmFnZSIsIlN0b3JhZ2VGb2xkZXIiLCJzZXRBdHRyaWJ1dGUiLCJzY2FsZVRvRml0Iiwic2V0U2luZ2xlSW1hZ2UiLCJvbmxvYWQiLCJpbWFnZSIsInF1ZXJ5U2VsZWN0b3IiLCJiYWNrZ3JvdW5kSW1hZ2UiLCJfdmlld2VyUGF1c2VkIiwidmlzaWJpbGl0eSIsIm9uZXJyb3IiLCJldmVudF9kZXRhaWxzIiwiaGFzU3RvcmFnZUVycm9yIiwiX3N0b3JhZ2VFcnJvckZsYWciLCJpc0Vycm9yIiwiZ2V0VGFibGVOYW1lIiwib25GaWxlSW5pdCIsIl91bmF2YWlsYWJsZUZsYWciLCJoaWRlIiwiU2xpZGVyIiwib25GaWxlUmVmcmVzaCIsInJlZnJlc2giLCJfZXJyb3JGbGFnIiwib25GaWxlVW5hdmFpbGFibGUiLCJtZXNzYWdlIiwic2V0QWRkaXRpb25hbFBhcmFtcyIsImFkZGl0aW9uYWxQYXJhbXMiLCJtb2RlVHlwZSIsIndpZHRoIiwiZ2V0SW50IiwiaGVpZ2h0Iiwib25TbGlkZXJSZWFkeSIsInBsYXkiLCJvblNsaWRlckNvbXBsZXRlIiwicGF1c2UiLCJfY29uZmlndXJhdGlvbkxvZ2dlZCIsInJldHJ5Iiwic2hvd0Vycm9yIiwiaXNTdG9yYWdlRXJyb3IiLCJkZXN0cm95IiwiUHJlZnMiLCJtYWluQ29udGFpbmVyIiwibWVzc2FnZUNvbnRhaW5lciIsIl9pbml0Iiwid2FybiIsIl9hY3RpdmUiLCJmaXJzdENoaWxkIiwicmVtb3ZlQ2hpbGQiLCJwIiwiYWRkU2xpZGVzIiwic2xpZGVzIiwic2xpZGUiLCJ0b3RhbFNsaWRlcyIsImN1cnJlbnRGaWxlcyIsImZpbGUiLCJkdXJhdGlvbiIsIm9uU2xpZGVDaGFuZ2VkIiwiaXNJbnRlcmFjdGluZyIsImlzTGFzdFNsaWRlIiwicmVmcmVzaFNsaWRlciIsIiRhcGkiLCJkZXN0cm95U2xpZGVyIiwibmV3RmlsZXMiLCJzbGlkZUluZGV4IiwiJCIsIm9mZiIsInJldmtpbGwiLCJoYW5kbGVVc2VyQWN0aXZpdHkiLCJzbGlkZVRpbWVyIiwicmV2bmV4dCIsInJldnJlc3VtZSIsImlzUGxheWluZyIsImhpZGVOYXYiLCJhdXRvSGlkZSIsIm5hdlRpbWVyIiwiYWRkQ2xhc3MiLCJuYXZUaW1lb3V0IiwicmV2Y3VycmVudHNsaWRlIiwiZmlsZXMiLCJ0cEJhbm5lckNvbnRhaW5lciIsInRwQmFubmVyIiwidWwiLCJpc0xvYWRpbmciLCJyZXZvbHV0aW9uIiwiaGlkZVRodW1icyIsImhpZGVUaW1lckJhciIsIm5hdmlnYXRpb25UeXBlIiwib25Ib3ZlclN0b3AiLCJzdGFydHdpZHRoIiwic3RhcnRoZWlnaHQiLCJvbiIsInJlbW92ZUNsYXNzIiwicmVzdW1lIiwicmV2c2hvd3NsaWRlIiwicmV2cGF1c2UiLCJkZXRhaWwiLCJfaW5pdGlhbExvYWQiLCJjaGFuZ2VkIiwiZXJyb3JfZGV0YWlscyIsImNvZGUiLCJpbWciLCJlcnJvciIsImN1cnJlbnRUYXJnZXQiLCJmb2xkZXIiLCJmaWxlTmFtZSIsImdvIiwicHJvY2Vzc1VybCIsImFkZGVkIiwiX2ZpbGVzIiwiZGVsZXRlZCIsImhhbmRsZVJlc3BvbnNlIiwiX2lzTG9hZGluZyIsIl90aW1lciIsIl9nZXRGaWxlIiwib21pdENhY2hlQnVzdGVyIiwicmlzZUNhY2hlIiwiX3VybCIsIl9zdGFydFJlZnJlc2hJbnRlcnZhbCIsIl9yZWZyZXNoSW50ZXJ2YWxJZCIsInNldEludGVydmFsIiwiX3JlZnJlc2hEdXJhdGlvbiIsInNlbGVjdG9yIiwiY29uZmlndXJlIiwibW9kZSIsInJlZ2lzdGVyIiwib25jb250ZXh0bWVudSIsIm9ubW91c2Vkb3duIiwiaXNWMiIsIm9uUG9seW1lclJlYWR5IiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInBvbHltZXJSZWFkeSIsInN0b3JhZ2VSZWFkeSIsIm9uU3RvcmFnZVJlYWR5IiwibGluayIsIndlYmNvbXBvbmVudHMiLCJocmVmIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJfZ2FxIiwiZ2EiLCJhc3luYyIsInByb3RvY29sIiwicyIsInBhcmVudE5vZGUiLCJpbnNlcnRCZWZvcmUiXSwibWFwcGluZ3MiOiJDQUtDLFdBNEtDLFFBQVNBLEdBQWFDLEdBR3BCLFFBQVNDLEdBQVNDLEVBQUtDLEVBQVVDLEVBQU1DLEVBQU1DLEVBQU9DLEdBQ2xELEtBQU9ELEdBQVMsR0FBYUMsRUFBUkQsRUFBZ0JBLEdBQVNOLEVBQUssQ0FDakQsR0FBSVEsR0FBYUgsRUFBT0EsRUFBS0MsR0FBU0EsQ0FDdENGLEdBQU9ELEVBQVNDLEVBQU1GLEVBQUlNLEdBQWFBLEVBQVlOLEdBRXJELE1BQU9FLEdBR1QsTUFBTyxVQUFTRixFQUFLQyxFQUFVQyxF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QjdDLE9BQVFqQyxTQUFVeUQsUUFHckIsSUFBSStLLE1BQU9BLFFBRVhBLE1BQUs3b0IsTUFBTSxjQUFlLGtCQUMxQjZvQixLQUFLN29CLE1BQU0sbUJBRVgsV0FDRSxHQUFJOG9CLEdBQUt6TyxTQUFTQyxjQUFjLFNBQVd3TyxHQUFHM2EsS0FBTyxrQkFBbUIyYSxFQUFHQyxPQUFRLEVBQ25GRCxFQUFHN00sS0FBTyxVQUFZNUIsU0FBU2tDLFNBQVN5TSxTQUFXLGNBQWdCLGNBQWdCLDZCQUNuRixJQUFJQyxHQUFJNU8sU0FBU3VPLHFCQUFxQixVQUFVLEVBQUlLLEdBQUVDLFdBQVdDLGFBQWFMLEVBQUlHIiwiZmlsZSI6ImpzL3dpZGdldC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyAgICAgVW5kZXJzY29yZS5qcyAxLjguM1xuLy8gICAgIGh0dHA6Ly91bmRlcnNjb3JlanMub3JnXG4vLyAgICAgKGMpIDIwMDktMjAxNSBKZXJlbXkgQXNoa2VuYXMsIERvY3VtZW50Q2xvdWQgYW5kIEludmVzdGlnYXRpdmUgUmVwb3J0ZXJzICYgRWRpdG9yc1xuLy8gICAgIFVuZGVyc2NvcmUgbWF5IGJlIGZyZWVseSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXG5cbihmdW5jdGlvbigpIHtcblxuICAvLyBCYXNlbGluZSBzZXR1cFxuICAvLyAtLS0tLS0tLS0tLS0tLVxuXG4gIC8vIEVzdGFibGlzaCB0aGUgcm9vdCBvYmplY3QsIGB3aW5kb3dgIGluIHRoZSBicm93c2VyLCBvciBgZXhwb3J0c2Agb24gdGhlIHNlcnZlci5cbiAgdmFyIHJvb3QgPSB0aGlzO1xuXG4gIC8vIFNhdmUgdGhlIHByZXZpb3VzIHZhbHVlIG9mIHRoZSBgX2AgdmFyaWFibGUuXG4gIHZhciBwcmV2aW91c1VuZGVyc2NvcmUgPSByb290Ll87XG5cbiAgLy8gU2F2ZSBieXRlcyBpbiB0aGUgbWluaWZpZWQgKGJ1dCBub3QgZ3ppcHBlZCkgdmVyc2lvbjpcbiAgdmFyIEFycmF5UHJvdG8gPSBBcnJheS5wcm90b3R5cGUsIE9ialByb3RvID0gT2JqZWN0LnByb3RvdHlwZSwgRnVuY1Byb3RvID0gRnVuY3Rpb24ucHJvdG90eXBlO1xuXG4gIC8vIENyZWF0ZSBxdWljayByZWZlcmVuY2UgdmFyaWFibGVzIGZvciBzcGVlZCBhY2Nlc3MgdG8gY29yZSBwcm90b3R5cGVzLlxuICB2YXJcbiAgICBwdXNoICAgICAgICAgICAgID0gQXJyYXlQcm90by5wdXNoLFxuICAgIHNsaWNlICAgICAgICAgICAgPSBBcnJheVByb3RvLnNsaWNlLFxuICAgIHRvU3RyaW5nICAgICAgICAgPSBPYmpQcm90by50b1N0cmluZyxcbiAgICBoYXNPd25Qcm9wZXJ0eSAgID0gT2JqUHJvdG8uaGFzT3duUHJvcGVydHk7XG5cbiAgLy8gQWxsICoqRUNNQVNjcmlwdCA1KiogbmF0aXZlIGZ1bmN0aW9uIGltcGxlbWVudGF0aW9ucyB0aGF0IHdlIGhvcGUgdG8gdXNlXG4gIC8vIGFyZSBkZWNsYXJlZCBoZXJlLlxuICB2YXJcbiAgICBuYXRpdmVJc0FycmF5ICAgICAgPSBBcnJheS5pc0FycmF5LFxuICAgIG5hdGl2ZUtleXMgICAgICAgICA9IE9iamVjdC5rZXlzLFxuICAgIG5hdGl2ZUJpbmQgICAgICAgICA9IEZ1bmNQcm90by5iaW5kLFxuICAgIG5hdGl2ZUNyZWF0ZSAgICAgICA9IE9iamVjdC5jcmVhdGU7XG5cbiAgLy8gTmFrZWQgZnVuY3Rpb24gcmVmZXJlbmNlIGZvciBzdXJyb2dhdGUtcHJvdG90eXBlLXN3YXBwaW5nLlxuICB2YXIgQ3RvciA9IGZ1bmN0aW9uKCl7fTtcblxuICAvLyBDcmVhdGUgYSBzYWZlIHJlZmVyZW5jZSB0byB0aGUgVW5kZXJzY29yZSBvYmplY3QgZm9yIHVzZSBiZWxvdy5cbiAgdmFyIF8gPSBmdW5jdGlvbihvYmopIHtcbiAgICBpZiAob2JqIGluc3RhbmNlb2YgXykgcmV0dXJuIG9iajtcbiAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgXykpIHJldHVybiBuZXcgXyhvYmopO1xuICAgIHRoaXMuX3dyYXBwZWQgPSBvYmo7XG4gIH07XG5cbiAgLy8gRXhwb3J0IHRoZSBVbmRlcnNjb3JlIG9iamVjdCBmb3IgKipOb2RlLmpzKiosIHdpdGhcbiAgLy8gYmFja3dhcmRzLWNvbXBhdGliaWxpdHkgZm9yIHRoZSBvbGQgYHJlcXVpcmUoKWAgQVBJLiBJZiB3ZSdyZSBpblxuICAvLyB0aGUgYnJvd3NlciwgYWRkIGBfYCBhcyBhIGdsb2JhbCBvYmplY3QuXG4gIGlmICh0eXBlb2YgZXhwb3J0cyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBpZiAodHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgJiYgbW9kdWxlLmV4cG9ydHMpIHtcbiAgICAgIGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IF87XG4gICAgfVxuICAgIGV4cG9ydHMuXyA9IF87XG4gIH0gZWxzZSB7XG4gICAgcm9vdC5fID0gXztcbiAgfVxuXG4gIC8vIEN1cnJlbnQgdmVyc2lvbi5cbiAgXy5WRVJTSU9OID0gJzEuOC4zJztcblxuICAvLyBJbnRlcm5hbCBmdW5jdGlvbiB0aGF0IHJldHVybnMgYW4gZWZmaWNpZW50IChmb3IgY3VycmVudCBlbmdpbmVzKSB2ZXJzaW9uXG4gIC8vIG9mIHRoZSBwYXNzZWQtaW4gY2FsbGJhY2ssIHRvIGJlIHJlcGVhdGVkbHkgYXBwbGllZCBpbiBvdGhlciBVbmRlcnNjb3JlXG4gIC8vIGZ1bmN0aW9ucy5cbiAgdmFyIG9wdGltaXplQ2IgPSBmdW5jdGlvbihmdW5jLCBjb250ZXh0LCBhcmdDb3VudCkge1xuICAgIGlmIChjb250ZXh0ID09PSB2b2lkIDApIHJldHVybiBmdW5jO1xuICAgIHN3aXRjaCAoYXJnQ291bnQgPT0gbnVsbCA/IDMgOiBhcmdDb3VudCkge1xuICAgICAgY2FzZSAxOiByZXR1cm4gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmMuY2FsbChjb250ZXh0LCB2YWx1ZSk7XG4gICAgICB9O1xuICAgICAgY2FzZSAyOiByZXR1cm4gZnVuY3Rpb24odmFsdWUsIG90aGVyKSB7XG4gICAgICAgIHJldHVybiBmdW5jLmNhbGwoY29udGV4dCwgdmFsdWUsIG90aGVyKTtcbiAgICAgIH07XG4gICAgICBjYXNlIDM6IHJldHVybiBmdW5jdGlvbih2YWx1ZSwgaW5kZXgsIGNvbGxlY3Rpb24pIHtcbiAgICAgICAgcmV0dXJuIGZ1bmMuY2FsbChjb250ZXh0LCB2YWx1ZSwgaW5kZXgsIGNvbGxlY3Rpb24pO1xuICAgICAgfTtcbiAgICAgIGNhc2UgNDogcmV0dXJuIGZ1bmN0aW9uKGFjY3VtdWxhdG9yLCB2YWx1ZSwgaW5kZXgsIGNvbGxlY3Rpb24pIHtcbiAgICAgICAgcmV0dXJuIGZ1bmMuY2FsbChjb250ZXh0LCBhY2N1bXVsYXRvciwgdmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKTtcbiAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBmdW5jLmFwcGx5KGNvbnRleHQsIGFyZ3VtZW50cyk7XG4gICAgfTtcbiAgfTtcblxuICAvLyBBIG1vc3RseS1pbnRlcm5hbCBmdW5jdGlvbiB0byBnZW5lcmF0ZSBjYWxsYmFja3MgdGhhdCBjYW4gYmUgYXBwbGllZFxuICAvLyB0byBlYWNoIGVsZW1lbnQgaW4gYSBjb2xsZWN0aW9uLCByZXR1cm5pbmcgdGhlIGRlc2lyZWQgcmVzdWx0IOKAlCBlaXRoZXJcbiAgLy8gaWRlbnRpdHksIGFuIGFyYml0cmFyeSBjYWxsYmFjaywgYSBwcm9wZXJ0eSBtYXRjaGVyLCBvciBhIHByb3BlcnR5IGFjY2Vzc29yLlxuICB2YXIgY2IgPSBmdW5jdGlvbih2YWx1ZSwgY29udGV4dCwgYXJnQ291bnQpIHtcbiAgICBpZiAodmFsdWUgPT0gbnVsbCkgcmV0dXJuIF8uaWRlbnRpdHk7XG4gICAgaWYgKF8uaXNGdW5jdGlvbih2YWx1ZSkpIHJldHVybiBvcHRpbWl6ZUNiKHZhbHVlLCBjb250ZXh0LCBhcmdDb3VudCk7XG4gICAgaWYgKF8uaXNPYmplY3QodmFsdWUpKSByZXR1cm4gXy5tYXRjaGVyKHZhbHVlKTtcbiAgICByZXR1cm4gXy5wcm9wZXJ0eSh2YWx1ZSk7XG4gIH07XG4gIF8uaXRlcmF0ZWUgPSBmdW5jdGlvbih2YWx1ZSwgY29udGV4dCkge1xuICAgIHJldHVybiBjYih2YWx1ZSwgY29udGV4dCwgSW5maW5pdHkpO1xuICB9O1xuXG4gIC8vIEFuIGludGVybmFsIGZ1bmN0aW9uIGZvciBjcmVhdGluZyBhc3NpZ25lciBmdW5jdGlvbnMuXG4gIHZhciBjcmVhdGVBc3NpZ25lciA9IGZ1bmN0aW9uKGtleXNGdW5jLCB1bmRlZmluZWRPbmx5KSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKG9iaikge1xuICAgICAgdmFyIGxlbmd0aCA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgICBpZiAobGVuZ3RoIDwgMiB8fCBvYmogPT0gbnVsbCkgcmV0dXJuIG9iajtcbiAgICAgIGZvciAodmFyIGluZGV4ID0gMTsgaW5kZXggPCBsZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpbmRleF0sXG4gICAgICAgICAgICBrZXlzID0ga2V5c0Z1bmMoc291cmNlKSxcbiAgICAgICAgICAgIGwgPSBrZXlzLmxlbmd0aDtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICB2YXIga2V5ID0ga2V5c1tpXTtcbiAgICAgICAgICBpZiAoIXVuZGVmaW5lZE9ubHkgfHwgb2JqW2tleV0gPT09IHZvaWQgMCkgb2JqW2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIG9iajtcbiAgICB9O1xuICB9O1xuXG4gIC8vIEFuIGludGVybmFsIGZ1bmN0aW9uIGZvciBjcmVhdGluZyBhIG5ldyBvYmplY3QgdGhhdCBpbmhlcml0cyBmcm9tIGFub3RoZXIuXG4gIHZhciBiYXNlQ3JlYXRlID0gZnVuY3Rpb24ocHJvdG90eXBlKSB7XG4gICAgaWYgKCFfLmlzT2JqZWN0KHByb3RvdHlwZSkpIHJldHVybiB7fTtcbiAgICBpZiAobmF0aXZlQ3JlYXRlKSByZXR1cm4gbmF0aXZlQ3JlYXRlKHByb3RvdHlwZSk7XG4gICAgQ3Rvci5wcm90b3R5cGUgPSBwcm90b3R5cGU7XG4gICAgdmFyIHJlc3VsdCA9IG5ldyBDdG9yO1xuICAgIEN0b3IucHJvdG90eXBlID0gbnVsbDtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuXG4gIHZhciBwcm9wZXJ0eSA9IGZ1bmN0aW9uKGtleSkge1xuICAgIHJldHVybiBmdW5jdGlvbihvYmopIHtcbiAgICAgIHJldHVybiBvYmogPT0gbnVsbCA/IHZvaWQgMCA6IG9ialtrZXldO1xuICAgIH07XG4gIH07XG5cbiAgLy8gSGVscGVyIGZvciBjb2xsZWN0aW9uIG1ldGhvZHMgdG8gZGV0ZXJtaW5lIHdoZXRoZXIgYSBjb2xsZWN0aW9uXG4gIC8vIHNob3VsZCBiZSBpdGVyYXRlZCBhcyBhbiBhcnJheSBvciBhcyBhbiBvYmplY3RcbiAgLy8gUmVsYXRlZDogaHR0cDovL3Blb3BsZS5tb3ppbGxhLm9yZy9+am9yZW5kb3JmZi9lczYtZHJhZnQuaHRtbCNzZWMtdG9sZW5ndGhcbiAgLy8gQXZvaWRzIGEgdmVyeSBuYXN0eSBpT1MgOCBKSVQgYnVnIG9uIEFSTS02NC4gIzIwOTRcbiAgdmFyIE1BWF9BUlJBWV9JTkRFWCA9IE1hdGgucG93KDIsIDUzKSAtIDE7XG4gIHZhciBnZXRMZW5ndGggPSBwcm9wZXJ0eSgnbGVuZ3RoJyk7XG4gIHZhciBpc0FycmF5TGlrZSA9IGZ1bmN0aW9uKGNvbGxlY3Rpb24pIHtcbiAgICB2YXIgbGVuZ3RoID0gZ2V0TGVuZ3RoKGNvbGxlY3Rpb24pO1xuICAgIHJldHVybiB0eXBlb2YgbGVuZ3RoID09ICdudW1iZXInICYmIGxlbmd0aCA+PSAwICYmIGxlbmd0aCA8PSBNQVhfQVJSQVlfSU5ERVg7XG4gIH07XG5cbiAgLy8gQ29sbGVjdGlvbiBGdW5jdGlvbnNcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAvLyBUaGUgY29ybmVyc3RvbmUsIGFuIGBlYWNoYCBpbXBsZW1lbnRhdGlvbiwgYWthIGBmb3JFYWNoYC5cbiAgLy8gSGFuZGxlcyByYXcgb2JqZWN0cyBpbiBhZGRpdGlvbiB0byBhcnJheS1saWtlcy4gVHJlYXRzIGFsbFxuICAvLyBzcGFyc2UgYXJyYXktbGlrZXMgYXMgaWYgdGhleSB3ZXJlIGRlbnNlLlxuICBfLmVhY2ggPSBfLmZvckVhY2ggPSBmdW5jdGlvbihvYmosIGl0ZXJhdGVlLCBjb250ZXh0KSB7XG4gICAgaXRlcmF0ZWUgPSBvcHRpbWl6ZUNiKGl0ZXJhdGVlLCBjb250ZXh0KTtcbiAgICB2YXIgaSwgbGVuZ3RoO1xuICAgIGlmIChpc0FycmF5TGlrZShvYmopKSB7XG4gICAgICBmb3IgKGkgPSAwLCBsZW5ndGggPSBvYmoubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaXRlcmF0ZWUob2JqW2ldLCBpLCBvYmopO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB2YXIga2V5cyA9IF8ua2V5cyhvYmopO1xuICAgICAgZm9yIChpID0gMCwgbGVuZ3RoID0ga2V5cy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICBpdGVyYXRlZShvYmpba2V5c1tpXV0sIGtleXNbaV0sIG9iaik7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBvYmo7XG4gIH07XG5cbiAgLy8gUmV0dXJuIHRoZSByZXN1bHRzIG9mIGFwcGx5aW5nIHRoZSBpdGVyYXRlZSB0byBlYWNoIGVsZW1lbnQuXG4gIF8ubWFwID0gXy5jb2xsZWN0ID0gZnVuY3Rpb24ob2JqLCBpdGVyYXRlZSwgY29udGV4dCkge1xuICAgIGl0ZXJhdGVlID0gY2IoaXRlcmF0ZWUsIGNvbnRleHQpO1xuICAgIHZhciBrZXlzID0gIWlzQXJyYXlMaWtlKG9iaikgJiYgXy5rZXlzKG9iaiksXG4gICAgICAgIGxlbmd0aCA9IChrZXlzIHx8IG9iaikubGVuZ3RoLFxuICAgICAgICByZXN1bHRzID0gQXJyYXkobGVuZ3RoKTtcbiAgICBmb3IgKHZhciBpbmRleCA9IDA7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICB2YXIgY3VycmVudEtleSA9IGtleXMgPyBrZXlzW2luZGV4XSA6IGluZGV4O1xuICAgICAgcmVzdWx0c1tpbmRleF0gPSBpdGVyYXRlZShvYmpbY3VycmVudEtleV0sIGN1cnJlbnRLZXksIG9iaik7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHRzO1xuICB9O1xuXG4gIC8vIENyZWF0ZSBhIHJlZHVjaW5nIGZ1bmN0aW9uIGl0ZXJhdGluZyBsZWZ0IG9yIHJpZ2h0LlxuICBmdW5jdGlvbiBjcmVhdGVSZWR1Y2UoZGlyKSB7XG4gICAgLy8gT3B0aW1pemVkIGl0ZXJhdG9yIGZ1bmN0aW9uIGFzIHVzaW5nIGFyZ3VtZW50cy5sZW5ndGhcbiAgICAvLyBpbiB0aGUgbWFpbiBmdW5jdGlvbiB3aWxsIGRlb3B0aW1pemUgdGhlLCBzZWUgIzE5OTEuXG4gICAgZnVuY3Rpb24gaXRlcmF0b3Iob2JqLCBpdGVyYXRlZSwgbWVtbywga2V5cywgaW5kZXgsIGxlbmd0aCkge1xuICAgICAgZm9yICg7IGluZGV4ID49IDAgJiYgaW5kZXggPCBsZW5ndGg7IGluZGV4ICs9IGRpcikge1xuICAgICAgICB2YXIgY3VycmVudEtleSA9IGtleXMgPyBrZXlzW2luZGV4XSA6IGluZGV4O1xuICAgICAgICBtZW1vID0gaXRlcmF0ZWUobWVtbywgb2JqW2N1cnJlbnRLZXldLCBjdXJyZW50S2V5LCBvYmopO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG1lbW87XG4gICAgfVxuXG4gICAgcmV0dXJuIGZ1bmN0aW9uKG9iaiwgaXRlcmF0ZWUsIG1lbW8sIGNvbnRleHQpIHtcbiAgICAgIGl0ZXJhdGVlID0gb3B0aW1pemVDYihpdGVyYXRlZSwgY29udGV4dCwgNCk7XG4gICAgICB2YXIga2V5cyA9ICFpc0FycmF5TGlrZShvYmopICYmIF8ua2V5cyhvYmopLFxuICAgICAgICAgIGxlbmd0aCA9IChrZXlzIHx8IG9iaikubGVuZ3RoLFxuICAgICAgICAgIGluZGV4ID0gZGlyID4gMCA/IDAgOiBsZW5ndGggLSAxO1xuICAgICAgLy8gRGV0ZXJtaW5lIHRoZSBpbml0aWFsIHZhbHVlIGlmIG5vbmUgaXMgcHJvdmlkZWQuXG4gICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA8IDMpIHtcbiAgICAgICAgbWVtbyA9IG9ialtrZXlzID8ga2V5c1tpbmRleF0gOiBpbmRleF07XG4gICAgICAgIGluZGV4ICs9IGRpcjtcbiAgICAgIH1cbiAgICAgIHJldHVybiBpdGVyYXRvcihvYmosIGl0ZXJhdGVlLCBtZW1vLCBrZXlzLCBpbmRleCwgbGVuZ3RoKTtcbiAgICB9O1xuICB9XG5cbiAgLy8gKipSZWR1Y2UqKiBidWlsZHMgdXAgYSBzaW5nbGUgcmVzdWx0IGZyb20gYSBsaXN0IG9mIHZhbHVlcywgYWthIGBpbmplY3RgLFxuICAvLyBvciBgZm9sZGxgLlxuICBfLnJlZHVjZSA9IF8uZm9sZGwgPSBfLmluamVjdCA9IGNyZWF0ZVJlZHVjZSgxKTtcblxuICAvLyBUaGUgcmlnaHQtYXNzb2NpYXRpdmUgdmVyc2lvbiBvZiByZWR1Y2UsIGFsc28ga25vd24gYXMgYGZvbGRyYC5cbiAgXy5yZWR1Y2VSaWdodCA9IF8uZm9sZHIgPSBjcmVhdGVSZWR1Y2UoLTEpO1xuXG4gIC8vIFJldHVybiB0aGUgZmlyc3QgdmFsdWUgd2hpY2ggcGFzc2VzIGEgdHJ1dGggdGVzdC4gQWxpYXNlZCBhcyBgZGV0ZWN0YC5cbiAgXy5maW5kID0gXy5kZXRlY3QgPSBmdW5jdGlvbihvYmosIHByZWRpY2F0ZSwgY29udGV4dCkge1xuICAgIHZhciBrZXk7XG4gICAgaWYgKGlzQXJyYXlMaWtlKG9iaikpIHtcbiAgICAgIGtleSA9IF8uZmluZEluZGV4KG9iaiwgcHJlZGljYXRlLCBjb250ZXh0KTtcbiAgICB9IGVsc2Uge1xuICAgICAga2V5ID0gXy5maW5kS2V5KG9iaiwgcHJlZGljYXRlLCBjb250ZXh0KTtcbiAgICB9XG4gICAgaWYgKGtleSAhPT0gdm9pZCAwICYmIGtleSAhPT0gLTEpIHJldHVybiBvYmpba2V5XTtcbiAgfTtcblxuICAvLyBSZXR1cm4gYWxsIHRoZSBlbGVtZW50cyB0aGF0IHBhc3MgYSB0cnV0aCB0ZXN0LlxuICAvLyBBbGlhc2VkIGFzIGBzZWxlY3RgLlxuICBfLmZpbHRlciA9IF8uc2VsZWN0ID0gZnVuY3Rpb24ob2JqLCBwcmVkaWNhdGUsIGNvbnRleHQpIHtcbiAgICB2YXIgcmVzdWx0cyA9IFtdO1xuICAgIHByZWRpY2F0ZSA9IGNiKHByZWRpY2F0ZSwgY29udGV4dCk7XG4gICAgXy5lYWNoKG9iaiwgZnVuY3Rpb24odmFsdWUsIGluZGV4LCBsaXN0KSB7XG4gICAgICBpZiAocHJlZGljYXRlKHZhbHVlLCBpbmRleCwgbGlzdCkpIHJlc3VsdHMucHVzaCh2YWx1ZSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHJlc3VsdHM7XG4gIH07XG5cbiAgLy8gUmV0dXJuIGFsbCB0aGUgZWxlbWVudHMgZm9yIHdoaWNoIGEgdHJ1dGggdGVzdCBmYWlscy5cbiAgXy5yZWplY3QgPSBmdW5jdGlvbihvYmosIHByZWRpY2F0ZSwgY29udGV4dCkge1xuICAgIHJldHVybiBfLmZpbHRlcihvYmosIF8ubmVnYXRlKGNiKHByZWRpY2F0ZSkpLCBjb250ZXh0KTtcbiAgfTtcblxuICAvLyBEZXRlcm1pbmUgd2hldGhlciBhbGwgb2YgdGhlIGVsZW1lbnRzIG1hdGNoIGEgdHJ1dGggdGVzdC5cbiAgLy8gQWxpYXNlZCBhcyBgYWxsYC5cbiAgXy5ldmVyeSA9IF8uYWxsID0gZnVuY3Rpb24ob2JqLCBwcmVkaWNhdGUsIGNvbnRleHQpIHtcbiAgICBwcmVkaWNhdGUgPSBjYihwcmVkaWNhdGUsIGNvbnRleHQpO1xuICAgIHZhciBrZXlzID0gIWlzQXJyYXlMaWtlKG9iaikgJiYgXy5rZXlzKG9iaiksXG4gICAgICAgIGxlbmd0aCA9IChrZXlzIHx8IG9iaikubGVuZ3RoO1xuICAgIGZvciAodmFyIGluZGV4ID0gMDsgaW5kZXggPCBsZW5ndGg7IGluZGV4KyspIHtcbiAgICAgIHZhciBjdXJyZW50S2V5ID0ga2V5cyA/IGtleXNbaW5kZXhdIDogaW5kZXg7XG4gICAgICBpZiAoIXByZWRpY2F0ZShvYmpbY3VycmVudEtleV0sIGN1cnJlbnRLZXksIG9iaikpIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH07XG5cbiAgLy8gRGV0ZXJtaW5lIGlmIGF0IGxlYXN0IG9uZSBlbGVtZW50IGluIHRoZSBvYmplY3QgbWF0Y2hlcyBhIHRydXRoIHRlc3QuXG4gIC8vIEFsaWFzZWQgYXMgYGFueWAuXG4gIF8uc29tZSA9IF8uYW55ID0gZnVuY3Rpb24ob2JqLCBwcmVkaWNhdGUsIGNvbnRleHQpIHtcbiAgICBwcmVkaWNhdGUgPSBjYihwcmVkaWNhdGUsIGNvbnRleHQpO1xuICAgIHZhciBrZXlzID0gIWlzQXJyYXlMaWtlKG9iaikgJiYgXy5rZXlzKG9iaiksXG4gICAgICAgIGxlbmd0aCA9IChrZXlzIHx8IG9iaikubGVuZ3RoO1xuICAgIGZvciAodmFyIGluZGV4ID0gMDsgaW5kZXggPCBsZW5ndGg7IGluZGV4KyspIHtcbiAgICAgIHZhciBjdXJyZW50S2V5ID0ga2V5cyA/IGtleXNbaW5kZXhdIDogaW5kZXg7XG4gICAgICBpZiAocHJlZGljYXRlKG9ialtjdXJyZW50S2V5XSwgY3VycmVudEtleSwgb2JqKSkgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfTtcblxuICAvLyBEZXRlcm1pbmUgaWYgdGhlIGFycmF5IG9yIG9iamVjdCBjb250YWlucyBhIGdpdmVuIGl0ZW0gKHVzaW5nIGA9PT1gKS5cbiAgLy8gQWxpYXNlZCBhcyBgaW5jbHVkZXNgIGFuZCBgaW5jbHVkZWAuXG4gIF8uY29udGFpbnMgPSBfLmluY2x1ZGVzID0gXy5pbmNsdWRlID0gZnVuY3Rpb24ob2JqLCBpdGVtLCBmcm9tSW5kZXgsIGd1YXJkKSB7XG4gICAgaWYgKCFpc0FycmF5TGlrZShvYmopKSBvYmogPSBfLnZhbHVlcyhvYmopO1xuICAgIGlmICh0eXBlb2YgZnJvbUluZGV4ICE9ICdudW1iZXInIHx8IGd1YXJkKSBmcm9tSW5kZXggPSAwO1xuICAgIHJldHVybiBfLmluZGV4T2Yob2JqLCBpdGVtLCBmcm9tSW5kZXgpID49IDA7XG4gIH07XG5cbiAgLy8gSW52b2tlIGEgbWV0aG9kICh3aXRoIGFyZ3VtZW50cykgb24gZXZlcnkgaXRlbSBpbiBhIGNvbGxlY3Rpb24uXG4gIF8uaW52b2tlID0gZnVuY3Rpb24ob2JqLCBtZXRob2QpIHtcbiAgICB2YXIgYXJncyA9IHNsaWNlLmNhbGwoYXJndW1lbnRzLCAyKTtcbiAgICB2YXIgaXNGdW5jID0gXy5pc0Z1bmN0aW9uKG1ldGhvZCk7XG4gICAgcmV0dXJuIF8ubWFwKG9iaiwgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHZhciBmdW5jID0gaXNGdW5jID8gbWV0aG9kIDogdmFsdWVbbWV0aG9kXTtcbiAgICAgIHJldHVybiBmdW5jID09IG51bGwgPyBmdW5jIDogZnVuYy5hcHBseSh2YWx1ZSwgYXJncyk7XG4gICAgfSk7XG4gIH07XG5cbiAgLy8gQ29udmVuaWVuY2UgdmVyc2lvbiBvZiBhIGNvbW1vbiB1c2UgY2FzZSBvZiBgbWFwYDogZmV0Y2hpbmcgYSBwcm9wZXJ0eS5cbiAgXy5wbHVjayA9IGZ1bmN0aW9uKG9iaiwga2V5KSB7XG4gICAgcmV0dXJuIF8ubWFwKG9iaiwgXy5wcm9wZXJ0eShrZXkpKTtcbiAgfTtcblxuICAvLyBDb252ZW5pZW5jZSB2ZXJzaW9uIG9mIGEgY29tbW9uIHVzZSBjYXNlIG9mIGBmaWx0ZXJgOiBzZWxlY3Rpbmcgb25seSBvYmplY3RzXG4gIC8vIGNvbnRhaW5pbmcgc3BlY2lmaWMgYGtleTp2YWx1ZWAgcGFpcnMuXG4gIF8ud2hlcmUgPSBmdW5jdGlvbihvYmosIGF0dHJzKSB7XG4gICAgcmV0dXJuIF8uZmlsdGVyKG9iaiwgXy5tYXRjaGVyKGF0dHJzKSk7XG4gIH07XG5cbiAgLy8gQ29udmVuaWVuY2UgdmVyc2lvbiBvZiBhIGNvbW1vbiB1c2UgY2FzZSBvZiBgZmluZGA6IGdldHRpbmcgdGhlIGZpcnN0IG9iamVjdFxuICAvLyBjb250YWluaW5nIHNwZWNpZmljIGBrZXk6dmFsdWVgIHBhaXJzLlxuICBfLmZpbmRXaGVyZSA9IGZ1bmN0aW9uKG9iaiwgYXR0cnMpIHtcbiAgICByZXR1cm4gXy5maW5kKG9iaiwgXy5tYXRjaGVyKGF0dHJzKSk7XG4gIH07XG5cbiAgLy8gUmV0dXJuIHRoZSBtYXhpbXVtIGVsZW1lbnQgKG9yIGVsZW1lbnQtYmFzZWQgY29tcHV0YXRpb24pLlxuICBfLm1heCA9IGZ1bmN0aW9uKG9iaiwgaXRlcmF0ZWUsIGNvbnRleHQpIHtcbiAgICB2YXIgcmVzdWx0ID0gLUluZmluaXR5LCBsYXN0Q29tcHV0ZWQgPSAtSW5maW5pdHksXG4gICAgICAgIHZhbHVlLCBjb21wdXRlZDtcbiAgICBpZiAoaXRlcmF0ZWUgPT0gbnVsbCAmJiBvYmogIT0gbnVsbCkge1xuICAgICAgb2JqID0gaXNBcnJheUxpa2Uob2JqKSA/IG9iaiA6IF8udmFsdWVzKG9iaik7XG4gICAgICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoID0gb2JqLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhbHVlID0gb2JqW2ldO1xuICAgICAgICBpZiAodmFsdWUgPiByZXN1bHQpIHtcbiAgICAgICAgICByZXN1bHQgPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpdGVyYXRlZSA9IGNiKGl0ZXJhdGVlLCBjb250ZXh0KTtcbiAgICAgIF8uZWFjaChvYmosIGZ1bmN0aW9uKHZhbHVlLCBpbmRleCwgbGlzdCkge1xuICAgICAgICBjb21wdXRlZCA9IGl0ZXJhdGVlKHZhbHVlLCBpbmRleCwgbGlzdCk7XG4gICAgICAgIGlmIChjb21wdXRlZCA+IGxhc3RDb21wdXRlZCB8fCBjb21wdXRlZCA9PT0gLUluZmluaXR5ICYmIHJlc3VsdCA9PT0gLUluZmluaXR5KSB7XG4gICAgICAgICAgcmVzdWx0ID0gdmFsdWU7XG4gICAgICAgICAgbGFzdENvbXB1dGVkID0gY29tcHV0ZWQ7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuXG4gIC8vIFJldHVybiB0aGUgbWluaW11bSBlbGVtZW50IChvciBlbGVtZW50LWJhc2VkIGNvbXB1dGF0aW9uKS5cbiAgXy5taW4gPSBmdW5jdGlvbihvYmosIGl0ZXJhdGVlLCBjb250ZXh0KSB7XG4gICAgdmFyIHJlc3VsdCA9IEluZmluaXR5LCBsYXN0Q29tcHV0ZWQgPSBJbmZpbml0eSxcbiAgICAgICAgdmFsdWUsIGNvbXB1dGVkO1xuICAgIGlmIChpdGVyYXRlZSA9PSBudWxsICYmIG9iaiAhPSBudWxsKSB7XG4gICAgICBvYmogPSBpc0FycmF5TGlrZShvYmopID8gb2JqIDogXy52YWx1ZXMob2JqKTtcbiAgICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGggPSBvYmoubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFsdWUgPSBvYmpbaV07XG4gICAgICAgIGlmICh2YWx1ZSA8IHJlc3VsdCkge1xuICAgICAgICAgIHJlc3VsdCA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGl0ZXJhdGVlID0gY2IoaXRlcmF0ZWUsIGNvbnRleHQpO1xuICAgICAgXy5lYWNoKG9iaiwgZnVuY3Rpb24odmFsdWUsIGluZGV4LCBsaXN0KSB7XG4gICAgICAgIGNvbXB1dGVkID0gaXRlcmF0ZWUodmFsdWUsIGluZGV4LCBsaXN0KTtcbiAgICAgICAgaWYgKGNvbXB1dGVkIDwgbGFzdENvbXB1dGVkIHx8IGNvbXB1dGVkID09PSBJbmZpbml0eSAmJiByZXN1bHQgPT09IEluZmluaXR5KSB7XG4gICAgICAgICAgcmVzdWx0ID0gdmFsdWU7XG4gICAgICAgICAgbGFzdENvbXB1dGVkID0gY29tcHV0ZWQ7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuXG4gIC8vIFNodWZmbGUgYSBjb2xsZWN0aW9uLCB1c2luZyB0aGUgbW9kZXJuIHZlcnNpb24gb2YgdGhlXG4gIC8vIFtGaXNoZXItWWF0ZXMgc2h1ZmZsZV0oaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9GaXNoZXLigJNZYXRlc19zaHVmZmxlKS5cbiAgXy5zaHVmZmxlID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgdmFyIHNldCA9IGlzQXJyYXlMaWtlKG9iaikgPyBvYmogOiBfLnZhbHVlcyhvYmopO1xuICAgIHZhciBsZW5ndGggPSBzZXQubGVuZ3RoO1xuICAgIHZhciBzaHVmZmxlZCA9IEFycmF5KGxlbmd0aCk7XG4gICAgZm9yICh2YXIgaW5kZXggPSAwLCByYW5kOyBpbmRleCA8IGxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgcmFuZCA9IF8ucmFuZG9tKDAsIGluZGV4KTtcbiAgICAgIGlmIChyYW5kICE9PSBpbmRleCkgc2h1ZmZsZWRbaW5kZXhdID0gc2h1ZmZsZWRbcmFuZF07XG4gICAgICBzaHVmZmxlZFtyYW5kXSA9IHNldFtpbmRleF07XG4gICAgfVxuICAgIHJldHVybiBzaHVmZmxlZDtcbiAgfTtcblxuICAvLyBTYW1wbGUgKipuKiogcmFuZG9tIHZhbHVlcyBmcm9tIGEgY29sbGVjdGlvbi5cbiAgLy8gSWYgKipuKiogaXMgbm90IHNwZWNpZmllZCwgcmV0dXJucyBhIHNpbmdsZSByYW5kb20gZWxlbWVudC5cbiAgLy8gVGhlIGludGVybmFsIGBndWFyZGAgYXJndW1lbnQgYWxsb3dzIGl0IHRvIHdvcmsgd2l0aCBgbWFwYC5cbiAgXy5zYW1wbGUgPSBmdW5jdGlvbihvYmosIG4sIGd1YXJkKSB7XG4gICAgaWYgKG4gPT0gbnVsbCB8fCBndWFyZCkge1xuICAgICAgaWYgKCFpc0FycmF5TGlrZShvYmopKSBvYmogPSBfLnZhbHVlcyhvYmopO1xuICAgICAgcmV0dXJuIG9ialtfLnJhbmRvbShvYmoubGVuZ3RoIC0gMSldO1xuICAgIH1cbiAgICByZXR1cm4gXy5zaHVmZmxlKG9iaikuc2xpY2UoMCwgTWF0aC5tYXgoMCwgbikpO1xuICB9O1xuXG4gIC8vIFNvcnQgdGhlIG9iamVjdCdzIHZhbHVlcyBieSBhIGNyaXRlcmlvbiBwcm9kdWNlZCBieSBhbiBpdGVyYXRlZS5cbiAgXy5zb3J0QnkgPSBmdW5jdGlvbihvYmosIGl0ZXJhdGVlLCBjb250ZXh0KSB7XG4gICAgaXRlcmF0ZWUgPSBjYihpdGVyYXRlZSwgY29udGV4dCk7XG4gICAgcmV0dXJuIF8ucGx1Y2soXy5tYXAob2JqLCBmdW5jdGlvbih2YWx1ZSwgaW5kZXgsIGxpc3QpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgICAgaW5kZXg6IGluZGV4LFxuICAgICAgICBjcml0ZXJpYTogaXRlcmF0ZWUodmFsdWUsIGluZGV4LCBsaXN0KVxuICAgICAgfTtcbiAgICB9KS5zb3J0KGZ1bmN0aW9uKGxlZnQsIHJpZ2h0KSB7XG4gICAgICB2YXIgYSA9IGxlZnQuY3JpdGVyaWE7XG4gICAgICB2YXIgYiA9IHJpZ2h0LmNyaXRlcmlhO1xuICAgICAgaWYgKGEgIT09IGIpIHtcbiAgICAgICAgaWYgKGEgPiBiIHx8IGEgPT09IHZvaWQgMCkgcmV0dXJuIDE7XG4gICAgICAgIGlmIChhIDwgYiB8fCBiID09PSB2b2lkIDApIHJldHVybiAtMTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBsZWZ0LmluZGV4IC0gcmlnaHQuaW5kZXg7XG4gICAgfSksICd2YWx1ZScpO1xuICB9O1xuXG4gIC8vIEFuIGludGVybmFsIGZ1bmN0aW9uIHVzZWQgZm9yIGFnZ3JlZ2F0ZSBcImdyb3VwIGJ5XCIgb3BlcmF0aW9ucy5cbiAgdmFyIGdyb3VwID0gZnVuY3Rpb24oYmVoYXZpb3IpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24ob2JqLCBpdGVyYXRlZSwgY29udGV4dCkge1xuICAgICAgdmFyIHJlc3VsdCA9IHt9O1xuICAgICAgaXRlcmF0ZWUgPSBjYihpdGVyYXRlZSwgY29udGV4dCk7XG4gICAgICBfLmVhY2gob2JqLCBmdW5jdGlvbih2YWx1ZSwgaW5kZXgpIHtcbiAgICAgICAgdmFyIGtleSA9IGl0ZXJhdGVlKHZhbHVlLCBpbmRleCwgb2JqKTtcbiAgICAgICAgYmVoYXZpb3IocmVzdWx0LCB2YWx1ZSwga2V5KTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuICB9O1xuXG4gIC8vIEdyb3VwcyB0aGUgb2JqZWN0J3MgdmFsdWVzIGJ5IGEgY3JpdGVyaW9uLiBQYXNzIGVpdGhlciBhIHN0cmluZyBhdHRyaWJ1dGVcbiAgLy8gdG8gZ3JvdXAgYnksIG9yIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHRoZSBjcml0ZXJpb24uXG4gIF8uZ3JvdXBCeSA9IGdyb3VwKGZ1bmN0aW9uKHJlc3VsdCwgdmFsdWUsIGtleSkge1xuICAgIGlmIChfLmhhcyhyZXN1bHQsIGtleSkpIHJlc3VsdFtrZXldLnB1c2godmFsdWUpOyBlbHNlIHJlc3VsdFtrZXldID0gW3ZhbHVlXTtcbiAgfSk7XG5cbiAgLy8gSW5kZXhlcyB0aGUgb2JqZWN0J3MgdmFsdWVzIGJ5IGEgY3JpdGVyaW9uLCBzaW1pbGFyIHRvIGBncm91cEJ5YCwgYnV0IGZvclxuICAvLyB3aGVuIHlvdSBrbm93IHRoYXQgeW91ciBpbmRleCB2YWx1ZXMgd2lsbCBiZSB1bmlxdWUuXG4gIF8uaW5kZXhCeSA9IGdyb3VwKGZ1bmN0aW9uKHJlc3VsdCwgdmFsdWUsIGtleSkge1xuICAgIHJlc3VsdFtrZXldID0gdmFsdWU7XG4gIH0pO1xuXG4gIC8vIENvdW50cyBpbnN0YW5jZXMgb2YgYW4gb2JqZWN0IHRoYXQgZ3JvdXAgYnkgYSBjZXJ0YWluIGNyaXRlcmlvbi4gUGFzc1xuICAvLyBlaXRoZXIgYSBzdHJpbmcgYXR0cmlidXRlIHRvIGNvdW50IGJ5LCBvciBhIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyB0aGVcbiAgLy8gY3JpdGVyaW9uLlxuICBfLmNvdW50QnkgPSBncm91cChmdW5jdGlvbihyZXN1bHQsIHZhbHVlLCBrZXkpIHtcbiAgICBpZiAoXy5oYXMocmVzdWx0LCBrZXkpKSByZXN1bHRba2V5XSsrOyBlbHNlIHJlc3VsdFtrZXldID0gMTtcbiAgfSk7XG5cbiAgLy8gU2FmZWx5IGNyZWF0ZSBhIHJlYWwsIGxpdmUgYXJyYXkgZnJvbSBhbnl0aGluZyBpdGVyYWJsZS5cbiAgXy50b0FycmF5ID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgaWYgKCFvYmopIHJldHVybiBbXTtcbiAgICBpZiAoXy5pc0FycmF5KG9iaikpIHJldHVybiBzbGljZS5jYWxsKG9iaik7XG4gICAgaWYgKGlzQXJyYXlMaWtlKG9iaikpIHJldHVybiBfLm1hcChvYmosIF8uaWRlbnRpdHkpO1xuICAgIHJldHVybiBfLnZhbHVlcyhvYmopO1xuICB9O1xuXG4gIC8vIFJldHVybiB0aGUgbnVtYmVyIG9mIGVsZW1lbnRzIGluIGFuIG9iamVjdC5cbiAgXy5zaXplID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgaWYgKG9iaiA9PSBudWxsKSByZXR1cm4gMDtcbiAgICByZXR1cm4gaXNBcnJheUxpa2Uob2JqKSA/IG9iai5sZW5ndGggOiBfLmtleXMob2JqKS5sZW5ndGg7XG4gIH07XG5cbiAgLy8gU3BsaXQgYSBjb2xsZWN0aW9uIGludG8gdHdvIGFycmF5czogb25lIHdob3NlIGVsZW1lbnRzIGFsbCBzYXRpc2Z5IHRoZSBnaXZlblxuICAvLyBwcmVkaWNhdGUsIGFuZCBvbmUgd2hvc2UgZWxlbWVudHMgYWxsIGRvIG5vdCBzYXRpc2Z5IHRoZSBwcmVkaWNhdGUuXG4gIF8ucGFydGl0aW9uID0gZnVuY3Rpb24ob2JqLCBwcmVkaWNhdGUsIGNvbnRleHQpIHtcbiAgICBwcmVkaWNhdGUgPSBjYihwcmVkaWNhdGUsIGNvbnRleHQpO1xuICAgIHZhciBwYXNzID0gW10sIGZhaWwgPSBbXTtcbiAgICBfLmVhY2gob2JqLCBmdW5jdGlvbih2YWx1ZSwga2V5LCBvYmopIHtcbiAgICAgIChwcmVkaWNhdGUodmFsdWUsIGtleSwgb2JqKSA/IHBhc3MgOiBmYWlsKS5wdXNoKHZhbHVlKTtcbiAgICB9KTtcbiAgICByZXR1cm4gW3Bhc3MsIGZhaWxdO1xuICB9O1xuXG4gIC8vIEFycmF5IEZ1bmN0aW9uc1xuICAvLyAtLS0tLS0tLS0tLS0tLS1cblxuICAvLyBHZXQgdGhlIGZpcnN0IGVsZW1lbnQgb2YgYW4gYXJyYXkuIFBhc3NpbmcgKipuKiogd2lsbCByZXR1cm4gdGhlIGZpcnN0IE5cbiAgLy8gdmFsdWVzIGluIHRoZSBhcnJheS4gQWxpYXNlZCBhcyBgaGVhZGAgYW5kIGB0YWtlYC4gVGhlICoqZ3VhcmQqKiBjaGVja1xuICAvLyBhbGxvd3MgaXQgdG8gd29yayB3aXRoIGBfLm1hcGAuXG4gIF8uZmlyc3QgPSBfLmhlYWQgPSBfLnRha2UgPSBmdW5jdGlvbihhcnJheSwgbiwgZ3VhcmQpIHtcbiAgICBpZiAoYXJyYXkgPT0gbnVsbCkgcmV0dXJuIHZvaWQgMDtcbiAgICBpZiAobiA9PSBudWxsIHx8IGd1YXJkKSByZXR1cm4gYXJyYXlbMF07XG4gICAgcmV0dXJuIF8uaW5pdGlhbChhcnJheSwgYXJyYXkubGVuZ3RoIC0gbik7XG4gIH07XG5cbiAgLy8gUmV0dXJucyBldmVyeXRoaW5nIGJ1dCB0aGUgbGFzdCBlbnRyeSBvZiB0aGUgYXJyYXkuIEVzcGVjaWFsbHkgdXNlZnVsIG9uXG4gIC8vIHRoZSBhcmd1bWVudHMgb2JqZWN0LiBQYXNzaW5nICoqbioqIHdpbGwgcmV0dXJuIGFsbCB0aGUgdmFsdWVzIGluXG4gIC8vIHRoZSBhcnJheSwgZXhjbHVkaW5nIHRoZSBsYXN0IE4uXG4gIF8uaW5pdGlhbCA9IGZ1bmN0aW9uKGFycmF5LCBuLCBndWFyZCkge1xuICAgIHJldHVybiBzbGljZS5jYWxsKGFycmF5LCAwLCBNYXRoLm1heCgwLCBhcnJheS5sZW5ndGggLSAobiA9PSBudWxsIHx8IGd1YXJkID8gMSA6IG4pKSk7XG4gIH07XG5cbiAgLy8gR2V0IHRoZSBsYXN0IGVsZW1lbnQgb2YgYW4gYXJyYXkuIFBhc3NpbmcgKipuKiogd2lsbCByZXR1cm4gdGhlIGxhc3QgTlxuICAvLyB2YWx1ZXMgaW4gdGhlIGFycmF5LlxuICBfLmxhc3QgPSBmdW5jdGlvbihhcnJheSwgbiwgZ3VhcmQpIHtcbiAgICBpZiAoYXJyYXkgPT0gbnVsbCkgcmV0dXJuIHZvaWQgMDtcbiAgICBpZiAobiA9PSBudWxsIHx8IGd1YXJkKSByZXR1cm4gYXJyYXlbYXJyYXkubGVuZ3RoIC0gMV07XG4gICAgcmV0dXJuIF8ucmVzdChhcnJheSwgTWF0aC5tYXgoMCwgYXJyYXkubGVuZ3RoIC0gbikpO1xuICB9O1xuXG4gIC8vIFJldHVybnMgZXZlcnl0aGluZyBidXQgdGhlIGZpcnN0IGVudHJ5IG9mIHRoZSBhcnJheS4gQWxpYXNlZCBhcyBgdGFpbGAgYW5kIGBkcm9wYC5cbiAgLy8gRXNwZWNpYWxseSB1c2VmdWwgb24gdGhlIGFyZ3VtZW50cyBvYmplY3QuIFBhc3NpbmcgYW4gKipuKiogd2lsbCByZXR1cm5cbiAgLy8gdGhlIHJlc3QgTiB2YWx1ZXMgaW4gdGhlIGFycmF5LlxuICBfLnJlc3QgPSBfLnRhaWwgPSBfLmRyb3AgPSBmdW5jdGlvbihhcnJheSwgbiwgZ3VhcmQpIHtcbiAgICByZXR1cm4gc2xpY2UuY2FsbChhcnJheSwgbiA9PSBudWxsIHx8IGd1YXJkID8gMSA6IG4pO1xuICB9O1xuXG4gIC8vIFRyaW0gb3V0IGFsbCBmYWxzeSB2YWx1ZXMgZnJvbSBhbiBhcnJheS5cbiAgXy5jb21wYWN0ID0gZnVuY3Rpb24oYXJyYXkpIHtcbiAgICByZXR1cm4gXy5maWx0ZXIoYXJyYXksIF8uaWRlbnRpdHkpO1xuICB9O1xuXG4gIC8vIEludGVybmFsIGltcGxlbWVudGF0aW9uIG9mIGEgcmVjdXJzaXZlIGBmbGF0dGVuYCBmdW5jdGlvbi5cbiAgdmFyIGZsYXR0ZW4gPSBmdW5jdGlvbihpbnB1dCwgc2hhbGxvdywgc3RyaWN0LCBzdGFydEluZGV4KSB7XG4gICAgdmFyIG91dHB1dCA9IFtdLCBpZHggPSAwO1xuICAgIGZvciAodmFyIGkgPSBzdGFydEluZGV4IHx8IDAsIGxlbmd0aCA9IGdldExlbmd0aChpbnB1dCk7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHZhbHVlID0gaW5wdXRbaV07XG4gICAgICBpZiAoaXNBcnJheUxpa2UodmFsdWUpICYmIChfLmlzQXJyYXkodmFsdWUpIHx8IF8uaXNBcmd1bWVudHModmFsdWUpKSkge1xuICAgICAgICAvL2ZsYXR0ZW4gY3VycmVudCBsZXZlbCBvZiBhcnJheSBvciBhcmd1bWVudHMgb2JqZWN0XG4gICAgICAgIGlmICghc2hhbGxvdykgdmFsdWUgPSBmbGF0dGVuKHZhbHVlLCBzaGFsbG93LCBzdHJpY3QpO1xuICAgICAgICB2YXIgaiA9IDAsIGxlbiA9IHZhbHVlLmxlbmd0aDtcbiAgICAgICAgb3V0cHV0Lmxlbmd0aCArPSBsZW47XG4gICAgICAgIHdoaWxlIChqIDwgbGVuKSB7XG4gICAgICAgICAgb3V0cHV0W2lkeCsrXSA9IHZhbHVlW2orK107XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoIXN0cmljdCkge1xuICAgICAgICBvdXRwdXRbaWR4KytdID0gdmFsdWU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBvdXRwdXQ7XG4gIH07XG5cbiAgLy8gRmxhdHRlbiBvdXQgYW4gYXJyYXksIGVpdGhlciByZWN1cnNpdmVseSAoYnkgZGVmYXVsdCksIG9yIGp1c3Qgb25lIGxldmVsLlxuICBfLmZsYXR0ZW4gPSBmdW5jdGlvbihhcnJheSwgc2hhbGxvdykge1xuICAgIHJldHVybiBmbGF0dGVuKGFycmF5LCBzaGFsbG93LCBmYWxzZSk7XG4gIH07XG5cbiAgLy8gUmV0dXJuIGEgdmVyc2lvbiBvZiB0aGUgYXJyYXkgdGhhdCBkb2VzIG5vdCBjb250YWluIHRoZSBzcGVjaWZpZWQgdmFsdWUocykuXG4gIF8ud2l0aG91dCA9IGZ1bmN0aW9uKGFycmF5KSB7XG4gICAgcmV0dXJuIF8uZGlmZmVyZW5jZShhcnJheSwgc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpKTtcbiAgfTtcblxuICAvLyBQcm9kdWNlIGEgZHVwbGljYXRlLWZyZWUgdmVyc2lvbiBvZiB0aGUgYXJyYXkuIElmIHRoZSBhcnJheSBoYXMgYWxyZWFkeVxuICAvLyBiZWVuIHNvcnRlZCwgeW91IGhhdmUgdGhlIG9wdGlvbiBvZiB1c2luZyBhIGZhc3RlciBhbGdvcml0aG0uXG4gIC8vIEFsaWFzZWQgYXMgYHVuaXF1ZWAuXG4gIF8udW5pcSA9IF8udW5pcXVlID0gZnVuY3Rpb24oYXJyYXksIGlzU29ydGVkLCBpdGVyYXRlZSwgY29udGV4dCkge1xuICAgIGlmICghXy5pc0Jvb2xlYW4oaXNTb3J0ZWQpKSB7XG4gICAgICBjb250ZXh0ID0gaXRlcmF0ZWU7XG4gICAgICBpdGVyYXRlZSA9IGlzU29ydGVkO1xuICAgICAgaXNTb3J0ZWQgPSBmYWxzZTtcbiAgICB9XG4gICAgaWYgKGl0ZXJhdGVlICE9IG51bGwpIGl0ZXJhdGVlID0gY2IoaXRlcmF0ZWUsIGNvbnRleHQpO1xuICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICB2YXIgc2VlbiA9IFtdO1xuICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGggPSBnZXRMZW5ndGgoYXJyYXkpOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciB2YWx1ZSA9IGFycmF5W2ldLFxuICAgICAgICAgIGNvbXB1dGVkID0gaXRlcmF0ZWUgPyBpdGVyYXRlZSh2YWx1ZSwgaSwgYXJyYXkpIDogdmFsdWU7XG4gICAgICBpZiAoaXNTb3J0ZWQpIHtcbiAgICAgICAgaWYgKCFpIHx8IHNlZW4gIT09IGNvbXB1dGVkKSByZXN1bHQucHVzaCh2YWx1ZSk7XG4gICAgICAgIHNlZW4gPSBjb21wdXRlZDtcbiAgICAgIH0gZWxzZSBpZiAoaXRlcmF0ZWUpIHtcbiAgICAgICAgaWYgKCFfLmNvbnRhaW5zKHNlZW4sIGNvbXB1dGVkKSkge1xuICAgICAgICAgIHNlZW4ucHVzaChjb21wdXRlZCk7XG4gICAgICAgICAgcmVzdWx0LnB1c2godmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKCFfLmNvbnRhaW5zKHJlc3VsdCwgdmFsdWUpKSB7XG4gICAgICAgIHJlc3VsdC5wdXNoKHZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcblxuICAvLyBQcm9kdWNlIGFuIGFycmF5IHRoYXQgY29udGFpbnMgdGhlIHVuaW9uOiBlYWNoIGRpc3RpbmN0IGVsZW1lbnQgZnJvbSBhbGwgb2ZcbiAgLy8gdGhlIHBhc3NlZC1pbiBhcnJheXMuXG4gIF8udW5pb24gPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gXy51bmlxKGZsYXR0ZW4oYXJndW1lbnRzLCB0cnVlLCB0cnVlKSk7XG4gIH07XG5cbiAgLy8gUHJvZHVjZSBhbiBhcnJheSB0aGF0IGNvbnRhaW5zIGV2ZXJ5IGl0ZW0gc2hhcmVkIGJldHdlZW4gYWxsIHRoZVxuICAvLyBwYXNzZWQtaW4gYXJyYXlzLlxuICBfLmludGVyc2VjdGlvbiA9IGZ1bmN0aW9uKGFycmF5KSB7XG4gICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgIHZhciBhcmdzTGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoID0gZ2V0TGVuZ3RoKGFycmF5KTsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgaXRlbSA9IGFycmF5W2ldO1xuICAgICAgaWYgKF8uY29udGFpbnMocmVzdWx0LCBpdGVtKSkgY29udGludWU7XG4gICAgICBmb3IgKHZhciBqID0gMTsgaiA8IGFyZ3NMZW5ndGg7IGorKykge1xuICAgICAgICBpZiAoIV8uY29udGFpbnMoYXJndW1lbnRzW2pdLCBpdGVtKSkgYnJlYWs7XG4gICAgICB9XG4gICAgICBpZiAoaiA9PT0gYXJnc0xlbmd0aCkgcmVzdWx0LnB1c2goaXRlbSk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG5cbiAgLy8gVGFrZSB0aGUgZGlmZmVyZW5jZSBiZXR3ZWVuIG9uZSBhcnJheSBhbmQgYSBudW1iZXIgb2Ygb3RoZXIgYXJyYXlzLlxuICAvLyBPbmx5IHRoZSBlbGVtZW50cyBwcmVzZW50IGluIGp1c3QgdGhlIGZpcnN0IGFycmF5IHdpbGwgcmVtYWluLlxuICBfLmRpZmZlcmVuY2UgPSBmdW5jdGlvbihhcnJheSkge1xuICAgIHZhciByZXN0ID0gZmxhdHRlbihhcmd1bWVudHMsIHRydWUsIHRydWUsIDEpO1xuICAgIHJldHVybiBfLmZpbHRlcihhcnJheSwgZnVuY3Rpb24odmFsdWUpe1xuICAgICAgcmV0dXJuICFfLmNvbnRhaW5zKHJlc3QsIHZhbHVlKTtcbiAgICB9KTtcbiAgfTtcblxuICAvLyBaaXAgdG9nZXRoZXIgbXVsdGlwbGUgbGlzdHMgaW50byBhIHNpbmdsZSBhcnJheSAtLSBlbGVtZW50cyB0aGF0IHNoYXJlXG4gIC8vIGFuIGluZGV4IGdvIHRvZ2V0aGVyLlxuICBfLnppcCA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBfLnVuemlwKGFyZ3VtZW50cyk7XG4gIH07XG5cbiAgLy8gQ29tcGxlbWVudCBvZiBfLnppcC4gVW56aXAgYWNjZXB0cyBhbiBhcnJheSBvZiBhcnJheXMgYW5kIGdyb3Vwc1xuICAvLyBlYWNoIGFycmF5J3MgZWxlbWVudHMgb24gc2hhcmVkIGluZGljZXNcbiAgXy51bnppcCA9IGZ1bmN0aW9uKGFycmF5KSB7XG4gICAgdmFyIGxlbmd0aCA9IGFycmF5ICYmIF8ubWF4KGFycmF5LCBnZXRMZW5ndGgpLmxlbmd0aCB8fCAwO1xuICAgIHZhciByZXN1bHQgPSBBcnJheShsZW5ndGgpO1xuXG4gICAgZm9yICh2YXIgaW5kZXggPSAwOyBpbmRleCA8IGxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgcmVzdWx0W2luZGV4XSA9IF8ucGx1Y2soYXJyYXksIGluZGV4KTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcblxuICAvLyBDb252ZXJ0cyBsaXN0cyBpbnRvIG9iamVjdHMuIFBhc3MgZWl0aGVyIGEgc2luZ2xlIGFycmF5IG9mIGBba2V5LCB2YWx1ZV1gXG4gIC8vIHBhaXJzLCBvciB0d28gcGFyYWxsZWwgYXJyYXlzIG9mIHRoZSBzYW1lIGxlbmd0aCAtLSBvbmUgb2Yga2V5cywgYW5kIG9uZSBvZlxuICAvLyB0aGUgY29ycmVzcG9uZGluZyB2YWx1ZXMuXG4gIF8ub2JqZWN0ID0gZnVuY3Rpb24obGlzdCwgdmFsdWVzKSB7XG4gICAgdmFyIHJlc3VsdCA9IHt9O1xuICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGggPSBnZXRMZW5ndGgobGlzdCk7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgaWYgKHZhbHVlcykge1xuICAgICAgICByZXN1bHRbbGlzdFtpXV0gPSB2YWx1ZXNbaV07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXN1bHRbbGlzdFtpXVswXV0gPSBsaXN0W2ldWzFdO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuXG4gIC8vIEdlbmVyYXRvciBmdW5jdGlvbiB0byBjcmVhdGUgdGhlIGZpbmRJbmRleCBhbmQgZmluZExhc3RJbmRleCBmdW5jdGlvbnNcbiAgZnVuY3Rpb24gY3JlYXRlUHJlZGljYXRlSW5kZXhGaW5kZXIoZGlyKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKGFycmF5LCBwcmVkaWNhdGUsIGNvbnRleHQpIHtcbiAgICAgIHByZWRpY2F0ZSA9IGNiKHByZWRpY2F0ZSwgY29udGV4dCk7XG4gICAgICB2YXIgbGVuZ3RoID0gZ2V0TGVuZ3RoKGFycmF5KTtcbiAgICAgIHZhciBpbmRleCA9IGRpciA+IDAgPyAwIDogbGVuZ3RoIC0gMTtcbiAgICAgIGZvciAoOyBpbmRleCA+PSAwICYmIGluZGV4IDwgbGVuZ3RoOyBpbmRleCArPSBkaXIpIHtcbiAgICAgICAgaWYgKHByZWRpY2F0ZShhcnJheVtpbmRleF0sIGluZGV4LCBhcnJheSkpIHJldHVybiBpbmRleDtcbiAgICAgIH1cbiAgICAgIHJldHVybiAtMTtcbiAgICB9O1xuICB9XG5cbiAgLy8gUmV0dXJucyB0aGUgZmlyc3QgaW5kZXggb24gYW4gYXJyYXktbGlrZSB0aGF0IHBhc3NlcyBhIHByZWRpY2F0ZSB0ZXN0XG4gIF8uZmluZEluZGV4ID0gY3JlYXRlUHJlZGljYXRlSW5kZXhGaW5kZXIoMSk7XG4gIF8uZmluZExhc3RJbmRleCA9IGNyZWF0ZVByZWRpY2F0ZUluZGV4RmluZGVyKC0xKTtcblxuICAvLyBVc2UgYSBjb21wYXJhdG9yIGZ1bmN0aW9uIHRvIGZpZ3VyZSBvdXQgdGhlIHNtYWxsZXN0IGluZGV4IGF0IHdoaWNoXG4gIC8vIGFuIG9iamVjdCBzaG91bGQgYmUgaW5zZXJ0ZWQgc28gYXMgdG8gbWFpbnRhaW4gb3JkZXIuIFVzZXMgYmluYXJ5IHNlYXJjaC5cbiAgXy5zb3J0ZWRJbmRleCA9IGZ1bmN0aW9uKGFycmF5LCBvYmosIGl0ZXJhdGVlLCBjb250ZXh0KSB7XG4gICAgaXRlcmF0ZWUgPSBjYihpdGVyYXRlZSwgY29udGV4dCwgMSk7XG4gICAgdmFyIHZhbHVlID0gaXRlcmF0ZWUob2JqKTtcbiAgICB2YXIgbG93ID0gMCwgaGlnaCA9IGdldExlbmd0aChhcnJheSk7XG4gICAgd2hpbGUgKGxvdyA8IGhpZ2gpIHtcbiAgICAgIHZhciBtaWQgPSBNYXRoLmZsb29yKChsb3cgKyBoaWdoKSAvIDIpO1xuICAgICAgaWYgKGl0ZXJhdGVlKGFycmF5W21pZF0pIDwgdmFsdWUpIGxvdyA9IG1pZCArIDE7IGVsc2UgaGlnaCA9IG1pZDtcbiAgICB9XG4gICAgcmV0dXJuIGxvdztcbiAgfTtcblxuICAvLyBHZW5lcmF0b3IgZnVuY3Rpb24gdG8gY3JlYXRlIHRoZSBpbmRleE9mIGFuZCBsYXN0SW5kZXhPZiBmdW5jdGlvbnNcbiAgZnVuY3Rpb24gY3JlYXRlSW5kZXhGaW5kZXIoZGlyLCBwcmVkaWNhdGVGaW5kLCBzb3J0ZWRJbmRleCkge1xuICAgIHJldHVybiBmdW5jdGlvbihhcnJheSwgaXRlbSwgaWR4KSB7XG4gICAgICB2YXIgaSA9IDAsIGxlbmd0aCA9IGdldExlbmd0aChhcnJheSk7XG4gICAgICBpZiAodHlwZW9mIGlkeCA9PSAnbnVtYmVyJykge1xuICAgICAgICBpZiAoZGlyID4gMCkge1xuICAgICAgICAgICAgaSA9IGlkeCA+PSAwID8gaWR4IDogTWF0aC5tYXgoaWR4ICsgbGVuZ3RoLCBpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxlbmd0aCA9IGlkeCA+PSAwID8gTWF0aC5taW4oaWR4ICsgMSwgbGVuZ3RoKSA6IGlkeCArIGxlbmd0aCArIDE7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoc29ydGVkSW5kZXggJiYgaWR4ICYmIGxlbmd0aCkge1xuICAgICAgICBpZHggPSBzb3J0ZWRJbmRleChhcnJheSwgaXRlbSk7XG4gICAgICAgIHJldHVybiBhcnJheVtpZHhdID09PSBpdGVtID8gaWR4IDogLTE7XG4gICAgICB9XG4gICAgICBpZiAoaXRlbSAhPT0gaXRlbSkge1xuICAgICAgICBpZHggPSBwcmVkaWNhdGVGaW5kKHNsaWNlLmNhbGwoYXJyYXksIGksIGxlbmd0aCksIF8uaXNOYU4pO1xuICAgICAgICByZXR1cm4gaWR4ID49IDAgPyBpZHggKyBpIDogLTE7XG4gICAgICB9XG4gICAgICBmb3IgKGlkeCA9IGRpciA+IDAgPyBpIDogbGVuZ3RoIC0gMTsgaWR4ID49IDAgJiYgaWR4IDwgbGVuZ3RoOyBpZHggKz0gZGlyKSB7XG4gICAgICAgIGlmIChhcnJheVtpZHhdID09PSBpdGVtKSByZXR1cm4gaWR4O1xuICAgICAgfVxuICAgICAgcmV0dXJuIC0xO1xuICAgIH07XG4gIH1cblxuICAvLyBSZXR1cm4gdGhlIHBvc2l0aW9uIG9mIHRoZSBmaXJzdCBvY2N1cnJlbmNlIG9mIGFuIGl0ZW0gaW4gYW4gYXJyYXksXG4gIC8vIG9yIC0xIGlmIHRoZSBpdGVtIGlzIG5vdCBpbmNsdWRlZCBpbiB0aGUgYXJyYXkuXG4gIC8vIElmIHRoZSBhcnJheSBpcyBsYXJnZSBhbmQgYWxyZWFkeSBpbiBzb3J0IG9yZGVyLCBwYXNzIGB0cnVlYFxuICAvLyBmb3IgKippc1NvcnRlZCoqIHRvIHVzZSBiaW5hcnkgc2VhcmNoLlxuICBfLmluZGV4T2YgPSBjcmVhdGVJbmRleEZpbmRlcigxLCBfLmZpbmRJbmRleCwgXy5zb3J0ZWRJbmRleCk7XG4gIF8ubGFzdEluZGV4T2YgPSBjcmVhdGVJbmRleEZpbmRlcigtMSwgXy5maW5kTGFzdEluZGV4KTtcblxuICAvLyBHZW5lcmF0ZSBhbiBpbnRlZ2VyIEFycmF5IGNvbnRhaW5pbmcgYW4gYXJpdGhtZXRpYyBwcm9ncmVzc2lvbi4gQSBwb3J0IG9mXG4gIC8vIHRoZSBuYXRpdmUgUHl0aG9uIGByYW5nZSgpYCBmdW5jdGlvbi4gU2VlXG4gIC8vIFt0aGUgUHl0aG9uIGRvY3VtZW50YXRpb25dKGh0dHA6Ly9kb2NzLnB5dGhvbi5vcmcvbGlicmFyeS9mdW5jdGlvbnMuaHRtbCNyYW5nZSkuXG4gIF8ucmFuZ2UgPSBmdW5jdGlvbihzdGFydCwgc3RvcCwgc3RlcCkge1xuICAgIGlmIChzdG9wID09IG51bGwpIHtcbiAgICAgIHN0b3AgPSBzdGFydCB8fCAwO1xuICAgICAgc3RhcnQgPSAwO1xuICAgIH1cbiAgICBzdGVwID0gc3RlcCB8fCAxO1xuXG4gICAgdmFyIGxlbmd0aCA9IE1hdGgubWF4KE1hdGguY2VpbCgoc3RvcCAtIHN0YXJ0KSAvIHN0ZXApLCAwKTtcbiAgICB2YXIgcmFuZ2UgPSBBcnJheShsZW5ndGgpO1xuXG4gICAgZm9yICh2YXIgaWR4ID0gMDsgaWR4IDwgbGVuZ3RoOyBpZHgrKywgc3RhcnQgKz0gc3RlcCkge1xuICAgICAgcmFuZ2VbaWR4XSA9IHN0YXJ0O1xuICAgIH1cblxuICAgIHJldHVybiByYW5nZTtcbiAgfTtcblxuICAvLyBGdW5jdGlvbiAoYWhlbSkgRnVuY3Rpb25zXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gIC8vIERldGVybWluZXMgd2hldGhlciB0byBleGVjdXRlIGEgZnVuY3Rpb24gYXMgYSBjb25zdHJ1Y3RvclxuICAvLyBvciBhIG5vcm1hbCBmdW5jdGlvbiB3aXRoIHRoZSBwcm92aWRlZCBhcmd1bWVudHNcbiAgdmFyIGV4ZWN1dGVCb3VuZCA9IGZ1bmN0aW9uKHNvdXJjZUZ1bmMsIGJvdW5kRnVuYywgY29udGV4dCwgY2FsbGluZ0NvbnRleHQsIGFyZ3MpIHtcbiAgICBpZiAoIShjYWxsaW5nQ29udGV4dCBpbnN0YW5jZW9mIGJvdW5kRnVuYykpIHJldHVybiBzb3VyY2VGdW5jLmFwcGx5KGNvbnRleHQsIGFyZ3MpO1xuICAgIHZhciBzZWxmID0gYmFzZUNyZWF0ZShzb3VyY2VGdW5jLnByb3RvdHlwZSk7XG4gICAgdmFyIHJlc3VsdCA9IHNvdXJjZUZ1bmMuYXBwbHkoc2VsZiwgYXJncyk7XG4gICAgaWYgKF8uaXNPYmplY3QocmVzdWx0KSkgcmV0dXJuIHJlc3VsdDtcbiAgICByZXR1cm4gc2VsZjtcbiAgfTtcblxuICAvLyBDcmVhdGUgYSBmdW5jdGlvbiBib3VuZCB0byBhIGdpdmVuIG9iamVjdCAoYXNzaWduaW5nIGB0aGlzYCwgYW5kIGFyZ3VtZW50cyxcbiAgLy8gb3B0aW9uYWxseSkuIERlbGVnYXRlcyB0byAqKkVDTUFTY3JpcHQgNSoqJ3MgbmF0aXZlIGBGdW5jdGlvbi5iaW5kYCBpZlxuICAvLyBhdmFpbGFibGUuXG4gIF8uYmluZCA9IGZ1bmN0aW9uKGZ1bmMsIGNvbnRleHQpIHtcbiAgICBpZiAobmF0aXZlQmluZCAmJiBmdW5jLmJpbmQgPT09IG5hdGl2ZUJpbmQpIHJldHVybiBuYXRpdmVCaW5kLmFwcGx5KGZ1bmMsIHNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKSk7XG4gICAgaWYgKCFfLmlzRnVuY3Rpb24oZnVuYykpIHRocm93IG5ldyBUeXBlRXJyb3IoJ0JpbmQgbXVzdCBiZSBjYWxsZWQgb24gYSBmdW5jdGlvbicpO1xuICAgIHZhciBhcmdzID0gc2xpY2UuY2FsbChhcmd1bWVudHMsIDIpO1xuICAgIHZhciBib3VuZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIGV4ZWN1dGVCb3VuZChmdW5jLCBib3VuZCwgY29udGV4dCwgdGhpcywgYXJncy5jb25jYXQoc2xpY2UuY2FsbChhcmd1bWVudHMpKSk7XG4gICAgfTtcbiAgICByZXR1cm4gYm91bmQ7XG4gIH07XG5cbiAgLy8gUGFydGlhbGx5IGFwcGx5IGEgZnVuY3Rpb24gYnkgY3JlYXRpbmcgYSB2ZXJzaW9uIHRoYXQgaGFzIGhhZCBzb21lIG9mIGl0c1xuICAvLyBhcmd1bWVudHMgcHJlLWZpbGxlZCwgd2l0aG91dCBjaGFuZ2luZyBpdHMgZHluYW1pYyBgdGhpc2AgY29udGV4dC4gXyBhY3RzXG4gIC8vIGFzIGEgcGxhY2Vob2xkZXIsIGFsbG93aW5nIGFueSBjb21iaW5hdGlvbiBvZiBhcmd1bWVudHMgdG8gYmUgcHJlLWZpbGxlZC5cbiAgXy5wYXJ0aWFsID0gZnVuY3Rpb24oZnVuYykge1xuICAgIHZhciBib3VuZEFyZ3MgPSBzbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7XG4gICAgdmFyIGJvdW5kID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgcG9zaXRpb24gPSAwLCBsZW5ndGggPSBib3VuZEFyZ3MubGVuZ3RoO1xuICAgICAgdmFyIGFyZ3MgPSBBcnJheShsZW5ndGgpO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICBhcmdzW2ldID0gYm91bmRBcmdzW2ldID09PSBfID8gYXJndW1lbnRzW3Bvc2l0aW9uKytdIDogYm91bmRBcmdzW2ldO1xuICAgICAgfVxuICAgICAgd2hpbGUgKHBvc2l0aW9uIDwgYXJndW1lbnRzLmxlbmd0aCkgYXJncy5wdXNoKGFyZ3VtZW50c1twb3NpdGlvbisrXSk7XG4gICAgICByZXR1cm4gZXhlY3V0ZUJvdW5kKGZ1bmMsIGJvdW5kLCB0aGlzLCB0aGlzLCBhcmdzKTtcbiAgICB9O1xuICAgIHJldHVybiBib3VuZDtcbiAgfTtcblxuICAvLyBCaW5kIGEgbnVtYmVyIG9mIGFuIG9iamVjdCdzIG1ldGhvZHMgdG8gdGhhdCBvYmplY3QuIFJlbWFpbmluZyBhcmd1bWVudHNcbiAgLy8gYXJlIHRoZSBtZXRob2QgbmFtZXMgdG8gYmUgYm91bmQuIFVzZWZ1bCBmb3IgZW5zdXJpbmcgdGhhdCBhbGwgY2FsbGJhY2tzXG4gIC8vIGRlZmluZWQgb24gYW4gb2JqZWN0IGJlbG9uZyB0byBpdC5cbiAgXy5iaW5kQWxsID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgdmFyIGksIGxlbmd0aCA9IGFyZ3VtZW50cy5sZW5ndGgsIGtleTtcbiAgICBpZiAobGVuZ3RoIDw9IDEpIHRocm93IG5ldyBFcnJvcignYmluZEFsbCBtdXN0IGJlIHBhc3NlZCBmdW5jdGlvbiBuYW1lcycpO1xuICAgIGZvciAoaSA9IDE7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAga2V5ID0gYXJndW1lbnRzW2ldO1xuICAgICAgb2JqW2tleV0gPSBfLmJpbmQob2JqW2tleV0sIG9iaik7XG4gICAgfVxuICAgIHJldHVybiBvYmo7XG4gIH07XG5cbiAgLy8gTWVtb2l6ZSBhbiBleHBlbnNpdmUgZnVuY3Rpb24gYnkgc3RvcmluZyBpdHMgcmVzdWx0cy5cbiAgXy5tZW1vaXplID0gZnVuY3Rpb24oZnVuYywgaGFzaGVyKSB7XG4gICAgdmFyIG1lbW9pemUgPSBmdW5jdGlvbihrZXkpIHtcbiAgICAgIHZhciBjYWNoZSA9IG1lbW9pemUuY2FjaGU7XG4gICAgICB2YXIgYWRkcmVzcyA9ICcnICsgKGhhc2hlciA/IGhhc2hlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIDoga2V5KTtcbiAgICAgIGlmICghXy5oYXMoY2FjaGUsIGFkZHJlc3MpKSBjYWNoZVthZGRyZXNzXSA9IGZ1bmMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIHJldHVybiBjYWNoZVthZGRyZXNzXTtcbiAgICB9O1xuICAgIG1lbW9pemUuY2FjaGUgPSB7fTtcbiAgICByZXR1cm4gbWVtb2l6ZTtcbiAgfTtcblxuICAvLyBEZWxheXMgYSBmdW5jdGlvbiBmb3IgdGhlIGdpdmVuIG51bWJlciBvZiBtaWxsaXNlY29uZHMsIGFuZCB0aGVuIGNhbGxzXG4gIC8vIGl0IHdpdGggdGhlIGFyZ3VtZW50cyBzdXBwbGllZC5cbiAgXy5kZWxheSA9IGZ1bmN0aW9uKGZ1bmMsIHdhaXQpIHtcbiAgICB2YXIgYXJncyA9IHNsaWNlLmNhbGwoYXJndW1lbnRzLCAyKTtcbiAgICByZXR1cm4gc2V0VGltZW91dChmdW5jdGlvbigpe1xuICAgICAgcmV0dXJuIGZ1bmMuYXBwbHkobnVsbCwgYXJncyk7XG4gICAgfSwgd2FpdCk7XG4gIH07XG5cbiAgLy8gRGVmZXJzIGEgZnVuY3Rpb24sIHNjaGVkdWxpbmcgaXQgdG8gcnVuIGFmdGVyIHRoZSBjdXJyZW50IGNhbGwgc3RhY2sgaGFzXG4gIC8vIGNsZWFyZWQuXG4gIF8uZGVmZXIgPSBfLnBhcnRpYWwoXy5kZWxheSwgXywgMSk7XG5cbiAgLy8gUmV0dXJucyBhIGZ1bmN0aW9uLCB0aGF0LCB3aGVuIGludm9rZWQsIHdpbGwgb25seSBiZSB0cmlnZ2VyZWQgYXQgbW9zdCBvbmNlXG4gIC8vIGR1cmluZyBhIGdpdmVuIHdpbmRvdyBvZiB0aW1lLiBOb3JtYWxseSwgdGhlIHRocm90dGxlZCBmdW5jdGlvbiB3aWxsIHJ1blxuICAvLyBhcyBtdWNoIGFzIGl0IGNhbiwgd2l0aG91dCBldmVyIGdvaW5nIG1vcmUgdGhhbiBvbmNlIHBlciBgd2FpdGAgZHVyYXRpb247XG4gIC8vIGJ1dCBpZiB5b3UnZCBsaWtlIHRvIGRpc2FibGUgdGhlIGV4ZWN1dGlvbiBvbiB0aGUgbGVhZGluZyBlZGdlLCBwYXNzXG4gIC8vIGB7bGVhZGluZzogZmFsc2V9YC4gVG8gZGlzYWJsZSBleGVjdXRpb24gb24gdGhlIHRyYWlsaW5nIGVkZ2UsIGRpdHRvLlxuICBfLnRocm90dGxlID0gZnVuY3Rpb24oZnVuYywgd2FpdCwgb3B0aW9ucykge1xuICAgIHZhciBjb250ZXh0LCBhcmdzLCByZXN1bHQ7XG4gICAgdmFyIHRpbWVvdXQgPSBudWxsO1xuICAgIHZhciBwcmV2aW91cyA9IDA7XG4gICAgaWYgKCFvcHRpb25zKSBvcHRpb25zID0ge307XG4gICAgdmFyIGxhdGVyID0gZnVuY3Rpb24oKSB7XG4gICAgICBwcmV2aW91cyA9IG9wdGlvbnMubGVhZGluZyA9PT0gZmFsc2UgPyAwIDogXy5ub3coKTtcbiAgICAgIHRpbWVvdXQgPSBudWxsO1xuICAgICAgcmVzdWx0ID0gZnVuYy5hcHBseShjb250ZXh0LCBhcmdzKTtcbiAgICAgIGlmICghdGltZW91dCkgY29udGV4dCA9IGFyZ3MgPSBudWxsO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIG5vdyA9IF8ubm93KCk7XG4gICAgICBpZiAoIXByZXZpb3VzICYmIG9wdGlvbnMubGVhZGluZyA9PT0gZmFsc2UpIHByZXZpb3VzID0gbm93O1xuICAgICAgdmFyIHJlbWFpbmluZyA9IHdhaXQgLSAobm93IC0gcHJldmlvdXMpO1xuICAgICAgY29udGV4dCA9IHRoaXM7XG4gICAgICBhcmdzID0gYXJndW1lbnRzO1xuICAgICAgaWYgKHJlbWFpbmluZyA8PSAwIHx8IHJlbWFpbmluZyA+IHdhaXQpIHtcbiAgICAgICAgaWYgKHRpbWVvdXQpIHtcbiAgICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dCk7XG4gICAgICAgICAgdGltZW91dCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcHJldmlvdXMgPSBub3c7XG4gICAgICAgIHJlc3VsdCA9IGZ1bmMuYXBwbHkoY29udGV4dCwgYXJncyk7XG4gICAgICAgIGlmICghdGltZW91dCkgY29udGV4dCA9IGFyZ3MgPSBudWxsO1xuICAgICAgfSBlbHNlIGlmICghdGltZW91dCAmJiBvcHRpb25zLnRyYWlsaW5nICE9PSBmYWxzZSkge1xuICAgICAgICB0aW1lb3V0ID0gc2V0VGltZW91dChsYXRlciwgcmVtYWluaW5nKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcbiAgfTtcblxuICAvLyBSZXR1cm5zIGEgZnVuY3Rpb24sIHRoYXQsIGFzIGxvbmcgYXMgaXQgY29udGludWVzIHRvIGJlIGludm9rZWQsIHdpbGwgbm90XG4gIC8vIGJlIHRyaWdnZXJlZC4gVGhlIGZ1bmN0aW9uIHdpbGwgYmUgY2FsbGVkIGFmdGVyIGl0IHN0b3BzIGJlaW5nIGNhbGxlZCBmb3JcbiAgLy8gTiBtaWxsaXNlY29uZHMuIElmIGBpbW1lZGlhdGVgIGlzIHBhc3NlZCwgdHJpZ2dlciB0aGUgZnVuY3Rpb24gb24gdGhlXG4gIC8vIGxlYWRpbmcgZWRnZSwgaW5zdGVhZCBvZiB0aGUgdHJhaWxpbmcuXG4gIF8uZGVib3VuY2UgPSBmdW5jdGlvbihmdW5jLCB3YWl0LCBpbW1lZGlhdGUpIHtcbiAgICB2YXIgdGltZW91dCwgYXJncywgY29udGV4dCwgdGltZXN0YW1wLCByZXN1bHQ7XG5cbiAgICB2YXIgbGF0ZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBsYXN0ID0gXy5ub3coKSAtIHRpbWVzdGFtcDtcblxuICAgICAgaWYgKGxhc3QgPCB3YWl0ICYmIGxhc3QgPj0gMCkge1xuICAgICAgICB0aW1lb3V0ID0gc2V0VGltZW91dChsYXRlciwgd2FpdCAtIGxhc3QpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGltZW91dCA9IG51bGw7XG4gICAgICAgIGlmICghaW1tZWRpYXRlKSB7XG4gICAgICAgICAgcmVzdWx0ID0gZnVuYy5hcHBseShjb250ZXh0LCBhcmdzKTtcbiAgICAgICAgICBpZiAoIXRpbWVvdXQpIGNvbnRleHQgPSBhcmdzID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG5cbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICBjb250ZXh0ID0gdGhpcztcbiAgICAgIGFyZ3MgPSBhcmd1bWVudHM7XG4gICAgICB0aW1lc3RhbXAgPSBfLm5vdygpO1xuICAgICAgdmFyIGNhbGxOb3cgPSBpbW1lZGlhdGUgJiYgIXRpbWVvdXQ7XG4gICAgICBpZiAoIXRpbWVvdXQpIHRpbWVvdXQgPSBzZXRUaW1lb3V0KGxhdGVyLCB3YWl0KTtcbiAgICAgIGlmIChjYWxsTm93KSB7XG4gICAgICAgIHJlc3VsdCA9IGZ1bmMuYXBwbHkoY29udGV4dCwgYXJncyk7XG4gICAgICAgIGNvbnRleHQgPSBhcmdzID0gbnVsbDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuICB9O1xuXG4gIC8vIFJldHVybnMgdGhlIGZpcnN0IGZ1bmN0aW9uIHBhc3NlZCBhcyBhbiBhcmd1bWVudCB0byB0aGUgc2Vjb25kLFxuICAvLyBhbGxvd2luZyB5b3UgdG8gYWRqdXN0IGFyZ3VtZW50cywgcnVuIGNvZGUgYmVmb3JlIGFuZCBhZnRlciwgYW5kXG4gIC8vIGNvbmRpdGlvbmFsbHkgZXhlY3V0ZSB0aGUgb3JpZ2luYWwgZnVuY3Rpb24uXG4gIF8ud3JhcCA9IGZ1bmN0aW9uKGZ1bmMsIHdyYXBwZXIpIHtcbiAgICByZXR1cm4gXy5wYXJ0aWFsKHdyYXBwZXIsIGZ1bmMpO1xuICB9O1xuXG4gIC8vIFJldHVybnMgYSBuZWdhdGVkIHZlcnNpb24gb2YgdGhlIHBhc3NlZC1pbiBwcmVkaWNhdGUuXG4gIF8ubmVnYXRlID0gZnVuY3Rpb24ocHJlZGljYXRlKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuICFwcmVkaWNhdGUuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9O1xuICB9O1xuXG4gIC8vIFJldHVybnMgYSBmdW5jdGlvbiB0aGF0IGlzIHRoZSBjb21wb3NpdGlvbiBvZiBhIGxpc3Qgb2YgZnVuY3Rpb25zLCBlYWNoXG4gIC8vIGNvbnN1bWluZyB0aGUgcmV0dXJuIHZhbHVlIG9mIHRoZSBmdW5jdGlvbiB0aGF0IGZvbGxvd3MuXG4gIF8uY29tcG9zZSA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBhcmdzID0gYXJndW1lbnRzO1xuICAgIHZhciBzdGFydCA9IGFyZ3MubGVuZ3RoIC0gMTtcbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgaSA9IHN0YXJ0O1xuICAgICAgdmFyIHJlc3VsdCA9IGFyZ3Nbc3RhcnRdLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB3aGlsZSAoaS0tKSByZXN1bHQgPSBhcmdzW2ldLmNhbGwodGhpcywgcmVzdWx0KTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcbiAgfTtcblxuICAvLyBSZXR1cm5zIGEgZnVuY3Rpb24gdGhhdCB3aWxsIG9ubHkgYmUgZXhlY3V0ZWQgb24gYW5kIGFmdGVyIHRoZSBOdGggY2FsbC5cbiAgXy5hZnRlciA9IGZ1bmN0aW9uKHRpbWVzLCBmdW5jKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKC0tdGltZXMgPCAxKSB7XG4gICAgICAgIHJldHVybiBmdW5jLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9XG4gICAgfTtcbiAgfTtcblxuICAvLyBSZXR1cm5zIGEgZnVuY3Rpb24gdGhhdCB3aWxsIG9ubHkgYmUgZXhlY3V0ZWQgdXAgdG8gKGJ1dCBub3QgaW5jbHVkaW5nKSB0aGUgTnRoIGNhbGwuXG4gIF8uYmVmb3JlID0gZnVuY3Rpb24odGltZXMsIGZ1bmMpIHtcbiAgICB2YXIgbWVtbztcbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICBpZiAoLS10aW1lcyA+IDApIHtcbiAgICAgICAgbWVtbyA9IGZ1bmMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cbiAgICAgIGlmICh0aW1lcyA8PSAxKSBmdW5jID0gbnVsbDtcbiAgICAgIHJldHVybiBtZW1vO1xuICAgIH07XG4gIH07XG5cbiAgLy8gUmV0dXJucyBhIGZ1bmN0aW9uIHRoYXQgd2lsbCBiZSBleGVjdXRlZCBhdCBtb3N0IG9uZSB0aW1lLCBubyBtYXR0ZXIgaG93XG4gIC8vIG9mdGVuIHlvdSBjYWxsIGl0LiBVc2VmdWwgZm9yIGxhenkgaW5pdGlhbGl6YXRpb24uXG4gIF8ub25jZSA9IF8ucGFydGlhbChfLmJlZm9yZSwgMik7XG5cbiAgLy8gT2JqZWN0IEZ1bmN0aW9uc1xuICAvLyAtLS0tLS0tLS0tLS0tLS0tXG5cbiAgLy8gS2V5cyBpbiBJRSA8IDkgdGhhdCB3b24ndCBiZSBpdGVyYXRlZCBieSBgZm9yIGtleSBpbiAuLi5gIGFuZCB0aHVzIG1pc3NlZC5cbiAgdmFyIGhhc0VudW1CdWcgPSAhe3RvU3RyaW5nOiBudWxsfS5wcm9wZXJ0eUlzRW51bWVyYWJsZSgndG9TdHJpbmcnKTtcbiAgdmFyIG5vbkVudW1lcmFibGVQcm9wcyA9IFsndmFsdWVPZicsICdpc1Byb3RvdHlwZU9mJywgJ3RvU3RyaW5nJyxcbiAgICAgICAgICAgICAgICAgICAgICAncHJvcGVydHlJc0VudW1lcmFibGUnLCAnaGFzT3duUHJvcGVydHknLCAndG9Mb2NhbGVTdHJpbmcnXTtcblxuICBmdW5jdGlvbiBjb2xsZWN0Tm9uRW51bVByb3BzKG9iaiwga2V5cykge1xuICAgIHZhciBub25FbnVtSWR4ID0gbm9uRW51bWVyYWJsZVByb3BzLmxlbmd0aDtcbiAgICB2YXIgY29uc3RydWN0b3IgPSBvYmouY29uc3RydWN0b3I7XG4gICAgdmFyIHByb3RvID0gKF8uaXNGdW5jdGlvbihjb25zdHJ1Y3RvcikgJiYgY29uc3RydWN0b3IucHJvdG90eXBlKSB8fCBPYmpQcm90bztcblxuICAgIC8vIENvbnN0cnVjdG9yIGlzIGEgc3BlY2lhbCBjYXNlLlxuICAgIHZhciBwcm9wID0gJ2NvbnN0cnVjdG9yJztcbiAgICBpZiAoXy5oYXMob2JqLCBwcm9wKSAmJiAhXy5jb250YWlucyhrZXlzLCBwcm9wKSkga2V5cy5wdXNoKHByb3ApO1xuXG4gICAgd2hpbGUgKG5vbkVudW1JZHgtLSkge1xuICAgICAgcHJvcCA9IG5vbkVudW1lcmFibGVQcm9wc1tub25FbnVtSWR4XTtcbiAgICAgIGlmIChwcm9wIGluIG9iaiAmJiBvYmpbcHJvcF0gIT09IHByb3RvW3Byb3BdICYmICFfLmNvbnRhaW5zKGtleXMsIHByb3ApKSB7XG4gICAgICAgIGtleXMucHVzaChwcm9wKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvLyBSZXRyaWV2ZSB0aGUgbmFtZXMgb2YgYW4gb2JqZWN0J3Mgb3duIHByb3BlcnRpZXMuXG4gIC8vIERlbGVnYXRlcyB0byAqKkVDTUFTY3JpcHQgNSoqJ3MgbmF0aXZlIGBPYmplY3Qua2V5c2BcbiAgXy5rZXlzID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgaWYgKCFfLmlzT2JqZWN0KG9iaikpIHJldHVybiBbXTtcbiAgICBpZiAobmF0aXZlS2V5cykgcmV0dXJuIG5hdGl2ZUtleXMob2JqKTtcbiAgICB2YXIga2V5cyA9IFtdO1xuICAgIGZvciAodmFyIGtleSBpbiBvYmopIGlmIChfLmhhcyhvYmosIGtleSkpIGtleXMucHVzaChrZXkpO1xuICAgIC8vIEFoZW0sIElFIDwgOS5cbiAgICBpZiAoaGFzRW51bUJ1ZykgY29sbGVjdE5vbkVudW1Qcm9wcyhvYmosIGtleXMpO1xuICAgIHJldHVybiBrZXlzO1xuICB9O1xuXG4gIC8vIFJldHJpZXZlIGFsbCB0aGUgcHJvcGVydHkgbmFtZXMgb2YgYW4gb2JqZWN0LlxuICBfLmFsbEtleXMgPSBmdW5jdGlvbihvYmopIHtcbiAgICBpZiAoIV8uaXNPYmplY3Qob2JqKSkgcmV0dXJuIFtdO1xuICAgIHZhciBrZXlzID0gW107XG4gICAgZm9yICh2YXIga2V5IGluIG9iaikga2V5cy5wdXNoKGtleSk7XG4gICAgLy8gQWhlbSwgSUUgPCA5LlxuICAgIGlmIChoYXNFbnVtQnVnKSBjb2xsZWN0Tm9uRW51bVByb3BzKG9iaiwga2V5cyk7XG4gICAgcmV0dXJuIGtleXM7XG4gIH07XG5cbiAgLy8gUmV0cmlldmUgdGhlIHZhbHVlcyBvZiBhbiBvYmplY3QncyBwcm9wZXJ0aWVzLlxuICBfLnZhbHVlcyA9IGZ1bmN0aW9uKG9iaikge1xuICAgIHZhciBrZXlzID0gXy5rZXlzKG9iaik7XG4gICAgdmFyIGxlbmd0aCA9IGtleXMubGVuZ3RoO1xuICAgIHZhciB2YWx1ZXMgPSBBcnJheShsZW5ndGgpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhbHVlc1tpXSA9IG9ialtrZXlzW2ldXTtcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlcztcbiAgfTtcblxuICAvLyBSZXR1cm5zIHRoZSByZXN1bHRzIG9mIGFwcGx5aW5nIHRoZSBpdGVyYXRlZSB0byBlYWNoIGVsZW1lbnQgb2YgdGhlIG9iamVjdFxuICAvLyBJbiBjb250cmFzdCB0byBfLm1hcCBpdCByZXR1cm5zIGFuIG9iamVjdFxuICBfLm1hcE9iamVjdCA9IGZ1bmN0aW9uKG9iaiwgaXRlcmF0ZWUsIGNvbnRleHQpIHtcbiAgICBpdGVyYXRlZSA9IGNiKGl0ZXJhdGVlLCBjb250ZXh0KTtcbiAgICB2YXIga2V5cyA9ICBfLmtleXMob2JqKSxcbiAgICAgICAgICBsZW5ndGggPSBrZXlzLmxlbmd0aCxcbiAgICAgICAgICByZXN1bHRzID0ge30sXG4gICAgICAgICAgY3VycmVudEtleTtcbiAgICAgIGZvciAodmFyIGluZGV4ID0gMDsgaW5kZXggPCBsZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgY3VycmVudEtleSA9IGtleXNbaW5kZXhdO1xuICAgICAgICByZXN1bHRzW2N1cnJlbnRLZXldID0gaXRlcmF0ZWUob2JqW2N1cnJlbnRLZXldLCBjdXJyZW50S2V5LCBvYmopO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdHM7XG4gIH07XG5cbiAgLy8gQ29udmVydCBhbiBvYmplY3QgaW50byBhIGxpc3Qgb2YgYFtrZXksIHZhbHVlXWAgcGFpcnMuXG4gIF8ucGFpcnMgPSBmdW5jdGlvbihvYmopIHtcbiAgICB2YXIga2V5cyA9IF8ua2V5cyhvYmopO1xuICAgIHZhciBsZW5ndGggPSBrZXlzLmxlbmd0aDtcbiAgICB2YXIgcGFpcnMgPSBBcnJheShsZW5ndGgpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIHBhaXJzW2ldID0gW2tleXNbaV0sIG9ialtrZXlzW2ldXV07XG4gICAgfVxuICAgIHJldHVybiBwYWlycztcbiAgfTtcblxuICAvLyBJbnZlcnQgdGhlIGtleXMgYW5kIHZhbHVlcyBvZiBhbiBvYmplY3QuIFRoZSB2YWx1ZXMgbXVzdCBiZSBzZXJpYWxpemFibGUuXG4gIF8uaW52ZXJ0ID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgdmFyIHJlc3VsdCA9IHt9O1xuICAgIHZhciBrZXlzID0gXy5rZXlzKG9iaik7XG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aCA9IGtleXMubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIHJlc3VsdFtvYmpba2V5c1tpXV1dID0ga2V5c1tpXTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcblxuICAvLyBSZXR1cm4gYSBzb3J0ZWQgbGlzdCBvZiB0aGUgZnVuY3Rpb24gbmFtZXMgYXZhaWxhYmxlIG9uIHRoZSBvYmplY3QuXG4gIC8vIEFsaWFzZWQgYXMgYG1ldGhvZHNgXG4gIF8uZnVuY3Rpb25zID0gXy5tZXRob2RzID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgdmFyIG5hbWVzID0gW107XG4gICAgZm9yICh2YXIga2V5IGluIG9iaikge1xuICAgICAgaWYgKF8uaXNGdW5jdGlvbihvYmpba2V5XSkpIG5hbWVzLnB1c2goa2V5KTtcbiAgICB9XG4gICAgcmV0dXJuIG5hbWVzLnNvcnQoKTtcbiAgfTtcblxuICAvLyBFeHRlbmQgYSBnaXZlbiBvYmplY3Qgd2l0aCBhbGwgdGhlIHByb3BlcnRpZXMgaW4gcGFzc2VkLWluIG9iamVjdChzKS5cbiAgXy5leHRlbmQgPSBjcmVhdGVBc3NpZ25lcihfLmFsbEtleXMpO1xuXG4gIC8vIEFzc2lnbnMgYSBnaXZlbiBvYmplY3Qgd2l0aCBhbGwgdGhlIG93biBwcm9wZXJ0aWVzIGluIHRoZSBwYXNzZWQtaW4gb2JqZWN0KHMpXG4gIC8vIChodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9PYmplY3QvYXNzaWduKVxuICBfLmV4dGVuZE93biA9IF8uYXNzaWduID0gY3JlYXRlQXNzaWduZXIoXy5rZXlzKTtcblxuICAvLyBSZXR1cm5zIHRoZSBmaXJzdCBrZXkgb24gYW4gb2JqZWN0IHRoYXQgcGFzc2VzIGEgcHJlZGljYXRlIHRlc3RcbiAgXy5maW5kS2V5ID0gZnVuY3Rpb24ob2JqLCBwcmVkaWNhdGUsIGNvbnRleHQpIHtcbiAgICBwcmVkaWNhdGUgPSBjYihwcmVkaWNhdGUsIGNvbnRleHQpO1xuICAgIHZhciBrZXlzID0gXy5rZXlzKG9iaiksIGtleTtcbiAgICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoID0ga2V5cy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAga2V5ID0ga2V5c1tpXTtcbiAgICAgIGlmIChwcmVkaWNhdGUob2JqW2tleV0sIGtleSwgb2JqKSkgcmV0dXJuIGtleTtcbiAgICB9XG4gIH07XG5cbiAgLy8gUmV0dXJuIGEgY29weSBvZiB0aGUgb2JqZWN0IG9ubHkgY29udGFpbmluZyB0aGUgd2hpdGVsaXN0ZWQgcHJvcGVydGllcy5cbiAgXy5waWNrID0gZnVuY3Rpb24ob2JqZWN0LCBvaXRlcmF0ZWUsIGNvbnRleHQpIHtcbiAgICB2YXIgcmVzdWx0ID0ge30sIG9iaiA9IG9iamVjdCwgaXRlcmF0ZWUsIGtleXM7XG4gICAgaWYgKG9iaiA9PSBudWxsKSByZXR1cm4gcmVzdWx0O1xuICAgIGlmIChfLmlzRnVuY3Rpb24ob2l0ZXJhdGVlKSkge1xuICAgICAga2V5cyA9IF8uYWxsS2V5cyhvYmopO1xuICAgICAgaXRlcmF0ZWUgPSBvcHRpbWl6ZUNiKG9pdGVyYXRlZSwgY29udGV4dCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGtleXMgPSBmbGF0dGVuKGFyZ3VtZW50cywgZmFsc2UsIGZhbHNlLCAxKTtcbiAgICAgIGl0ZXJhdGVlID0gZnVuY3Rpb24odmFsdWUsIGtleSwgb2JqKSB7IHJldHVybiBrZXkgaW4gb2JqOyB9O1xuICAgICAgb2JqID0gT2JqZWN0KG9iaik7XG4gICAgfVxuICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGggPSBrZXlzLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIga2V5ID0ga2V5c1tpXTtcbiAgICAgIHZhciB2YWx1ZSA9IG9ialtrZXldO1xuICAgICAgaWYgKGl0ZXJhdGVlKHZhbHVlLCBrZXksIG9iaikpIHJlc3VsdFtrZXldID0gdmFsdWU7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG5cbiAgIC8vIFJldHVybiBhIGNvcHkgb2YgdGhlIG9iamVjdCB3aXRob3V0IHRoZSBibGFja2xpc3RlZCBwcm9wZXJ0aWVzLlxuICBfLm9taXQgPSBmdW5jdGlvbihvYmosIGl0ZXJhdGVlLCBjb250ZXh0KSB7XG4gICAgaWYgKF8uaXNGdW5jdGlvbihpdGVyYXRlZSkpIHtcbiAgICAgIGl0ZXJhdGVlID0gXy5uZWdhdGUoaXRlcmF0ZWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIga2V5cyA9IF8ubWFwKGZsYXR0ZW4oYXJndW1lbnRzLCBmYWxzZSwgZmFsc2UsIDEpLCBTdHJpbmcpO1xuICAgICAgaXRlcmF0ZWUgPSBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgICAgIHJldHVybiAhXy5jb250YWlucyhrZXlzLCBrZXkpO1xuICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIF8ucGljayhvYmosIGl0ZXJhdGVlLCBjb250ZXh0KTtcbiAgfTtcblxuICAvLyBGaWxsIGluIGEgZ2l2ZW4gb2JqZWN0IHdpdGggZGVmYXVsdCBwcm9wZXJ0aWVzLlxuICBfLmRlZmF1bHRzID0gY3JlYXRlQXNzaWduZXIoXy5hbGxLZXlzLCB0cnVlKTtcblxuICAvLyBDcmVhdGVzIGFuIG9iamVjdCB0aGF0IGluaGVyaXRzIGZyb20gdGhlIGdpdmVuIHByb3RvdHlwZSBvYmplY3QuXG4gIC8vIElmIGFkZGl0aW9uYWwgcHJvcGVydGllcyBhcmUgcHJvdmlkZWQgdGhlbiB0aGV5IHdpbGwgYmUgYWRkZWQgdG8gdGhlXG4gIC8vIGNyZWF0ZWQgb2JqZWN0LlxuICBfLmNyZWF0ZSA9IGZ1bmN0aW9uKHByb3RvdHlwZSwgcHJvcHMpIHtcbiAgICB2YXIgcmVzdWx0ID0gYmFzZUNyZWF0ZShwcm90b3R5cGUpO1xuICAgIGlmIChwcm9wcykgXy5leHRlbmRPd24ocmVzdWx0LCBwcm9wcyk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcblxuICAvLyBDcmVhdGUgYSAoc2hhbGxvdy1jbG9uZWQpIGR1cGxpY2F0ZSBvZiBhbiBvYmplY3QuXG4gIF8uY2xvbmUgPSBmdW5jdGlvbihvYmopIHtcbiAgICBpZiAoIV8uaXNPYmplY3Qob2JqKSkgcmV0dXJuIG9iajtcbiAgICByZXR1cm4gXy5pc0FycmF5KG9iaikgPyBvYmouc2xpY2UoKSA6IF8uZXh0ZW5kKHt9LCBvYmopO1xuICB9O1xuXG4gIC8vIEludm9rZXMgaW50ZXJjZXB0b3Igd2l0aCB0aGUgb2JqLCBhbmQgdGhlbiByZXR1cm5zIG9iai5cbiAgLy8gVGhlIHByaW1hcnkgcHVycG9zZSBvZiB0aGlzIG1ldGhvZCBpcyB0byBcInRhcCBpbnRvXCIgYSBtZXRob2QgY2hhaW4sIGluXG4gIC8vIG9yZGVyIHRvIHBlcmZvcm0gb3BlcmF0aW9ucyBvbiBpbnRlcm1lZGlhdGUgcmVzdWx0cyB3aXRoaW4gdGhlIGNoYWluLlxuICBfLnRhcCA9IGZ1bmN0aW9uKG9iaiwgaW50ZXJjZXB0b3IpIHtcbiAgICBpbnRlcmNlcHRvcihvYmopO1xuICAgIHJldHVybiBvYmo7XG4gIH07XG5cbiAgLy8gUmV0dXJucyB3aGV0aGVyIGFuIG9iamVjdCBoYXMgYSBnaXZlbiBzZXQgb2YgYGtleTp2YWx1ZWAgcGFpcnMuXG4gIF8uaXNNYXRjaCA9IGZ1bmN0aW9uKG9iamVjdCwgYXR0cnMpIHtcbiAgICB2YXIga2V5cyA9IF8ua2V5cyhhdHRycyksIGxlbmd0aCA9IGtleXMubGVuZ3RoO1xuICAgIGlmIChvYmplY3QgPT0gbnVsbCkgcmV0dXJuICFsZW5ndGg7XG4gICAgdmFyIG9iaiA9IE9iamVjdChvYmplY3QpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBrZXkgPSBrZXlzW2ldO1xuICAgICAgaWYgKGF0dHJzW2tleV0gIT09IG9ialtrZXldIHx8ICEoa2V5IGluIG9iaikpIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH07XG5cblxuICAvLyBJbnRlcm5hbCByZWN1cnNpdmUgY29tcGFyaXNvbiBmdW5jdGlvbiBmb3IgYGlzRXF1YWxgLlxuICB2YXIgZXEgPSBmdW5jdGlvbihhLCBiLCBhU3RhY2ssIGJTdGFjaykge1xuICAgIC8vIElkZW50aWNhbCBvYmplY3RzIGFyZSBlcXVhbC4gYDAgPT09IC0wYCwgYnV0IHRoZXkgYXJlbid0IGlkZW50aWNhbC5cbiAgICAvLyBTZWUgdGhlIFtIYXJtb255IGBlZ2FsYCBwcm9wb3NhbF0oaHR0cDovL3dpa2kuZWNtYXNjcmlwdC5vcmcvZG9rdS5waHA/aWQ9aGFybW9ueTplZ2FsKS5cbiAgICBpZiAoYSA9PT0gYikgcmV0dXJuIGEgIT09IDAgfHwgMSAvIGEgPT09IDEgLyBiO1xuICAgIC8vIEEgc3RyaWN0IGNvbXBhcmlzb24gaXMgbmVjZXNzYXJ5IGJlY2F1c2UgYG51bGwgPT0gdW5kZWZpbmVkYC5cbiAgICBpZiAoYSA9PSBudWxsIHx8IGIgPT0gbnVsbCkgcmV0dXJuIGEgPT09IGI7XG4gICAgLy8gVW53cmFwIGFueSB3cmFwcGVkIG9iamVjdHMuXG4gICAgaWYgKGEgaW5zdGFuY2VvZiBfKSBhID0gYS5fd3JhcHBlZDtcbiAgICBpZiAoYiBpbnN0YW5jZW9mIF8pIGIgPSBiLl93cmFwcGVkO1xuICAgIC8vIENvbXBhcmUgYFtbQ2xhc3NdXWAgbmFtZXMuXG4gICAgdmFyIGNsYXNzTmFtZSA9IHRvU3RyaW5nLmNhbGwoYSk7XG4gICAgaWYgKGNsYXNzTmFtZSAhPT0gdG9TdHJpbmcuY2FsbChiKSkgcmV0dXJuIGZhbHNlO1xuICAgIHN3aXRjaCAoY2xhc3NOYW1lKSB7XG4gICAgICAvLyBTdHJpbmdzLCBudW1iZXJzLCByZWd1bGFyIGV4cHJlc3Npb25zLCBkYXRlcywgYW5kIGJvb2xlYW5zIGFyZSBjb21wYXJlZCBieSB2YWx1ZS5cbiAgICAgIGNhc2UgJ1tvYmplY3QgUmVnRXhwXSc6XG4gICAgICAvLyBSZWdFeHBzIGFyZSBjb2VyY2VkIHRvIHN0cmluZ3MgZm9yIGNvbXBhcmlzb24gKE5vdGU6ICcnICsgL2EvaSA9PT0gJy9hL2knKVxuICAgICAgY2FzZSAnW29iamVjdCBTdHJpbmddJzpcbiAgICAgICAgLy8gUHJpbWl0aXZlcyBhbmQgdGhlaXIgY29ycmVzcG9uZGluZyBvYmplY3Qgd3JhcHBlcnMgYXJlIGVxdWl2YWxlbnQ7IHRodXMsIGBcIjVcImAgaXNcbiAgICAgICAgLy8gZXF1aXZhbGVudCB0byBgbmV3IFN0cmluZyhcIjVcIilgLlxuICAgICAgICByZXR1cm4gJycgKyBhID09PSAnJyArIGI7XG4gICAgICBjYXNlICdbb2JqZWN0IE51bWJlcl0nOlxuICAgICAgICAvLyBgTmFOYHMgYXJlIGVxdWl2YWxlbnQsIGJ1dCBub24tcmVmbGV4aXZlLlxuICAgICAgICAvLyBPYmplY3QoTmFOKSBpcyBlcXVpdmFsZW50IHRvIE5hTlxuICAgICAgICBpZiAoK2EgIT09ICthKSByZXR1cm4gK2IgIT09ICtiO1xuICAgICAgICAvLyBBbiBgZWdhbGAgY29tcGFyaXNvbiBpcyBwZXJmb3JtZWQgZm9yIG90aGVyIG51bWVyaWMgdmFsdWVzLlxuICAgICAgICByZXR1cm4gK2EgPT09IDAgPyAxIC8gK2EgPT09IDEgLyBiIDogK2EgPT09ICtiO1xuICAgICAgY2FzZSAnW29iamVjdCBEYXRlXSc6XG4gICAgICBjYXNlICdbb2JqZWN0IEJvb2xlYW5dJzpcbiAgICAgICAgLy8gQ29lcmNlIGRhdGVzIGFuZCBib29sZWFucyB0byBudW1lcmljIHByaW1pdGl2ZSB2YWx1ZXMuIERhdGVzIGFyZSBjb21wYXJlZCBieSB0aGVpclxuICAgICAgICAvLyBtaWxsaXNlY29uZCByZXByZXNlbnRhdGlvbnMuIE5vdGUgdGhhdCBpbnZhbGlkIGRhdGVzIHdpdGggbWlsbGlzZWNvbmQgcmVwcmVzZW50YXRpb25zXG4gICAgICAgIC8vIG9mIGBOYU5gIGFyZSBub3QgZXF1aXZhbGVudC5cbiAgICAgICAgcmV0dXJuICthID09PSArYjtcbiAgICB9XG5cbiAgICB2YXIgYXJlQXJyYXlzID0gY2xhc3NOYW1lID09PSAnW29iamVjdCBBcnJheV0nO1xuICAgIGlmICghYXJlQXJyYXlzKSB7XG4gICAgICBpZiAodHlwZW9mIGEgIT0gJ29iamVjdCcgfHwgdHlwZW9mIGIgIT0gJ29iamVjdCcpIHJldHVybiBmYWxzZTtcblxuICAgICAgLy8gT2JqZWN0cyB3aXRoIGRpZmZlcmVudCBjb25zdHJ1Y3RvcnMgYXJlIG5vdCBlcXVpdmFsZW50LCBidXQgYE9iamVjdGBzIG9yIGBBcnJheWBzXG4gICAgICAvLyBmcm9tIGRpZmZlcmVudCBmcmFtZXMgYXJlLlxuICAgICAgdmFyIGFDdG9yID0gYS5jb25zdHJ1Y3RvciwgYkN0b3IgPSBiLmNvbnN0cnVjdG9yO1xuICAgICAgaWYgKGFDdG9yICE9PSBiQ3RvciAmJiAhKF8uaXNGdW5jdGlvbihhQ3RvcikgJiYgYUN0b3IgaW5zdGFuY2VvZiBhQ3RvciAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF8uaXNGdW5jdGlvbihiQ3RvcikgJiYgYkN0b3IgaW5zdGFuY2VvZiBiQ3RvcilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgJiYgKCdjb25zdHJ1Y3RvcicgaW4gYSAmJiAnY29uc3RydWN0b3InIGluIGIpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gICAgLy8gQXNzdW1lIGVxdWFsaXR5IGZvciBjeWNsaWMgc3RydWN0dXJlcy4gVGhlIGFsZ29yaXRobSBmb3IgZGV0ZWN0aW5nIGN5Y2xpY1xuICAgIC8vIHN0cnVjdHVyZXMgaXMgYWRhcHRlZCBmcm9tIEVTIDUuMSBzZWN0aW9uIDE1LjEyLjMsIGFic3RyYWN0IG9wZXJhdGlvbiBgSk9gLlxuXG4gICAgLy8gSW5pdGlhbGl6aW5nIHN0YWNrIG9mIHRyYXZlcnNlZCBvYmplY3RzLlxuICAgIC8vIEl0J3MgZG9uZSBoZXJlIHNpbmNlIHdlIG9ubHkgbmVlZCB0aGVtIGZvciBvYmplY3RzIGFuZCBhcnJheXMgY29tcGFyaXNvbi5cbiAgICBhU3RhY2sgPSBhU3RhY2sgfHwgW107XG4gICAgYlN0YWNrID0gYlN0YWNrIHx8IFtdO1xuICAgIHZhciBsZW5ndGggPSBhU3RhY2subGVuZ3RoO1xuICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgLy8gTGluZWFyIHNlYXJjaC4gUGVyZm9ybWFuY2UgaXMgaW52ZXJzZWx5IHByb3BvcnRpb25hbCB0byB0aGUgbnVtYmVyIG9mXG4gICAgICAvLyB1bmlxdWUgbmVzdGVkIHN0cnVjdHVyZXMuXG4gICAgICBpZiAoYVN0YWNrW2xlbmd0aF0gPT09IGEpIHJldHVybiBiU3RhY2tbbGVuZ3RoXSA9PT0gYjtcbiAgICB9XG5cbiAgICAvLyBBZGQgdGhlIGZpcnN0IG9iamVjdCB0byB0aGUgc3RhY2sgb2YgdHJhdmVyc2VkIG9iamVjdHMuXG4gICAgYVN0YWNrLnB1c2goYSk7XG4gICAgYlN0YWNrLnB1c2goYik7XG5cbiAgICAvLyBSZWN1cnNpdmVseSBjb21wYXJlIG9iamVjdHMgYW5kIGFycmF5cy5cbiAgICBpZiAoYXJlQXJyYXlzKSB7XG4gICAgICAvLyBDb21wYXJlIGFycmF5IGxlbmd0aHMgdG8gZGV0ZXJtaW5lIGlmIGEgZGVlcCBjb21wYXJpc29uIGlzIG5lY2Vzc2FyeS5cbiAgICAgIGxlbmd0aCA9IGEubGVuZ3RoO1xuICAgICAgaWYgKGxlbmd0aCAhPT0gYi5sZW5ndGgpIHJldHVybiBmYWxzZTtcbiAgICAgIC8vIERlZXAgY29tcGFyZSB0aGUgY29udGVudHMsIGlnbm9yaW5nIG5vbi1udW1lcmljIHByb3BlcnRpZXMuXG4gICAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgICAgaWYgKCFlcShhW2xlbmd0aF0sIGJbbGVuZ3RoXSwgYVN0YWNrLCBiU3RhY2spKSByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIERlZXAgY29tcGFyZSBvYmplY3RzLlxuICAgICAgdmFyIGtleXMgPSBfLmtleXMoYSksIGtleTtcbiAgICAgIGxlbmd0aCA9IGtleXMubGVuZ3RoO1xuICAgICAgLy8gRW5zdXJlIHRoYXQgYm90aCBvYmplY3RzIGNvbnRhaW4gdGhlIHNhbWUgbnVtYmVyIG9mIHByb3BlcnRpZXMgYmVmb3JlIGNvbXBhcmluZyBkZWVwIGVxdWFsaXR5LlxuICAgICAgaWYgKF8ua2V5cyhiKS5sZW5ndGggIT09IGxlbmd0aCkgcmV0dXJuIGZhbHNlO1xuICAgICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICAgIC8vIERlZXAgY29tcGFyZSBlYWNoIG1lbWJlclxuICAgICAgICBrZXkgPSBrZXlzW2xlbmd0aF07XG4gICAgICAgIGlmICghKF8uaGFzKGIsIGtleSkgJiYgZXEoYVtrZXldLCBiW2tleV0sIGFTdGFjaywgYlN0YWNrKSkpIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gICAgLy8gUmVtb3ZlIHRoZSBmaXJzdCBvYmplY3QgZnJvbSB0aGUgc3RhY2sgb2YgdHJhdmVyc2VkIG9iamVjdHMuXG4gICAgYVN0YWNrLnBvcCgpO1xuICAgIGJTdGFjay5wb3AoKTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfTtcblxuICAvLyBQZXJmb3JtIGEgZGVlcCBjb21wYXJpc29uIHRvIGNoZWNrIGlmIHR3byBvYmplY3RzIGFyZSBlcXVhbC5cbiAgXy5pc0VxdWFsID0gZnVuY3Rpb24oYSwgYikge1xuICAgIHJldHVybiBlcShhLCBiKTtcbiAgfTtcblxuICAvLyBJcyBhIGdpdmVuIGFycmF5LCBzdHJpbmcsIG9yIG9iamVjdCBlbXB0eT9cbiAgLy8gQW4gXCJlbXB0eVwiIG9iamVjdCBoYXMgbm8gZW51bWVyYWJsZSBvd24tcHJvcGVydGllcy5cbiAgXy5pc0VtcHR5ID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgaWYgKG9iaiA9PSBudWxsKSByZXR1cm4gdHJ1ZTtcbiAgICBpZiAoaXNBcnJheUxpa2Uob2JqKSAmJiAoXy5pc0FycmF5KG9iaikgfHwgXy5pc1N0cmluZyhvYmopIHx8IF8uaXNBcmd1bWVudHMob2JqKSkpIHJldHVybiBvYmoubGVuZ3RoID09PSAwO1xuICAgIHJldHVybiBfLmtleXMob2JqKS5sZW5ndGggPT09IDA7XG4gIH07XG5cbiAgLy8gSXMgYSBnaXZlbiB2YWx1ZSBhIERPTSBlbGVtZW50P1xuICBfLmlzRWxlbWVudCA9IGZ1bmN0aW9uKG9iaikge1xuICAgIHJldHVybiAhIShvYmogJiYgb2JqLm5vZGVUeXBlID09PSAxKTtcbiAgfTtcblxuICAvLyBJcyBhIGdpdmVuIHZhbHVlIGFuIGFycmF5P1xuICAvLyBEZWxlZ2F0ZXMgdG8gRUNNQTUncyBuYXRpdmUgQXJyYXkuaXNBcnJheVxuICBfLmlzQXJyYXkgPSBuYXRpdmVJc0FycmF5IHx8IGZ1bmN0aW9uKG9iaikge1xuICAgIHJldHVybiB0b1N0cmluZy5jYWxsKG9iaikgPT09ICdbb2JqZWN0IEFycmF5XSc7XG4gIH07XG5cbiAgLy8gSXMgYSBnaXZlbiB2YXJpYWJsZSBhbiBvYmplY3Q/XG4gIF8uaXNPYmplY3QgPSBmdW5jdGlvbihvYmopIHtcbiAgICB2YXIgdHlwZSA9IHR5cGVvZiBvYmo7XG4gICAgcmV0dXJuIHR5cGUgPT09ICdmdW5jdGlvbicgfHwgdHlwZSA9PT0gJ29iamVjdCcgJiYgISFvYmo7XG4gIH07XG5cbiAgLy8gQWRkIHNvbWUgaXNUeXBlIG1ldGhvZHM6IGlzQXJndW1lbnRzLCBpc0Z1bmN0aW9uLCBpc1N0cmluZywgaXNOdW1iZXIsIGlzRGF0ZSwgaXNSZWdFeHAsIGlzRXJyb3IuXG4gIF8uZWFjaChbJ0FyZ3VtZW50cycsICdGdW5jdGlvbicsICdTdHJpbmcnLCAnTnVtYmVyJywgJ0RhdGUnLCAnUmVnRXhwJywgJ0Vycm9yJ10sIGZ1bmN0aW9uKG5hbWUpIHtcbiAgICBfWydpcycgKyBuYW1lXSA9IGZ1bmN0aW9uKG9iaikge1xuICAgICAgcmV0dXJuIHRvU3RyaW5nLmNhbGwob2JqKSA9PT0gJ1tvYmplY3QgJyArIG5hbWUgKyAnXSc7XG4gICAgfTtcbiAgfSk7XG5cbiAgLy8gRGVmaW5lIGEgZmFsbGJhY2sgdmVyc2lvbiBvZiB0aGUgbWV0aG9kIGluIGJyb3dzZXJzIChhaGVtLCBJRSA8IDkpLCB3aGVyZVxuICAvLyB0aGVyZSBpc24ndCBhbnkgaW5zcGVjdGFibGUgXCJBcmd1bWVudHNcIiB0eXBlLlxuICBpZiAoIV8uaXNBcmd1bWVudHMoYXJndW1lbnRzKSkge1xuICAgIF8uaXNBcmd1bWVudHMgPSBmdW5jdGlvbihvYmopIHtcbiAgICAgIHJldHVybiBfLmhhcyhvYmosICdjYWxsZWUnKTtcbiAgICB9O1xuICB9XG5cbiAgLy8gT3B0aW1pemUgYGlzRnVuY3Rpb25gIGlmIGFwcHJvcHJpYXRlLiBXb3JrIGFyb3VuZCBzb21lIHR5cGVvZiBidWdzIGluIG9sZCB2OCxcbiAgLy8gSUUgMTEgKCMxNjIxKSwgYW5kIGluIFNhZmFyaSA4ICgjMTkyOSkuXG4gIGlmICh0eXBlb2YgLy4vICE9ICdmdW5jdGlvbicgJiYgdHlwZW9mIEludDhBcnJheSAhPSAnb2JqZWN0Jykge1xuICAgIF8uaXNGdW5jdGlvbiA9IGZ1bmN0aW9uKG9iaikge1xuICAgICAgcmV0dXJuIHR5cGVvZiBvYmogPT0gJ2Z1bmN0aW9uJyB8fCBmYWxzZTtcbiAgICB9O1xuICB9XG5cbiAgLy8gSXMgYSBnaXZlbiBvYmplY3QgYSBmaW5pdGUgbnVtYmVyP1xuICBfLmlzRmluaXRlID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgcmV0dXJuIGlzRmluaXRlKG9iaikgJiYgIWlzTmFOKHBhcnNlRmxvYXQob2JqKSk7XG4gIH07XG5cbiAgLy8gSXMgdGhlIGdpdmVuIHZhbHVlIGBOYU5gPyAoTmFOIGlzIHRoZSBvbmx5IG51bWJlciB3aGljaCBkb2VzIG5vdCBlcXVhbCBpdHNlbGYpLlxuICBfLmlzTmFOID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgcmV0dXJuIF8uaXNOdW1iZXIob2JqKSAmJiBvYmogIT09ICtvYmo7XG4gIH07XG5cbiAgLy8gSXMgYSBnaXZlbiB2YWx1ZSBhIGJvb2xlYW4/XG4gIF8uaXNCb29sZWFuID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgcmV0dXJuIG9iaiA9PT0gdHJ1ZSB8fCBvYmogPT09IGZhbHNlIHx8IHRvU3RyaW5nLmNhbGwob2JqKSA9PT0gJ1tvYmplY3QgQm9vbGVhbl0nO1xuICB9O1xuXG4gIC8vIElzIGEgZ2l2ZW4gdmFsdWUgZXF1YWwgdG8gbnVsbD9cbiAgXy5pc051bGwgPSBmdW5jdGlvbihvYmopIHtcbiAgICByZXR1cm4gb2JqID09PSBudWxsO1xuICB9O1xuXG4gIC8vIElzIGEgZ2l2ZW4gdmFyaWFibGUgdW5kZWZpbmVkP1xuICBfLmlzVW5kZWZpbmVkID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgcmV0dXJuIG9iaiA9PT0gdm9pZCAwO1xuICB9O1xuXG4gIC8vIFNob3J0Y3V0IGZ1bmN0aW9uIGZvciBjaGVja2luZyBpZiBhbiBvYmplY3QgaGFzIGEgZ2l2ZW4gcHJvcGVydHkgZGlyZWN0bHlcbiAgLy8gb24gaXRzZWxmIChpbiBvdGhlciB3b3Jkcywgbm90IG9uIGEgcHJvdG90eXBlKS5cbiAgXy5oYXMgPSBmdW5jdGlvbihvYmosIGtleSkge1xuICAgIHJldHVybiBvYmogIT0gbnVsbCAmJiBoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KTtcbiAgfTtcblxuICAvLyBVdGlsaXR5IEZ1bmN0aW9uc1xuICAvLyAtLS0tLS0tLS0tLS0tLS0tLVxuXG4gIC8vIFJ1biBVbmRlcnNjb3JlLmpzIGluICpub0NvbmZsaWN0KiBtb2RlLCByZXR1cm5pbmcgdGhlIGBfYCB2YXJpYWJsZSB0byBpdHNcbiAgLy8gcHJldmlvdXMgb3duZXIuIFJldHVybnMgYSByZWZlcmVuY2UgdG8gdGhlIFVuZGVyc2NvcmUgb2JqZWN0LlxuICBfLm5vQ29uZmxpY3QgPSBmdW5jdGlvbigpIHtcbiAgICByb290Ll8gPSBwcmV2aW91c1VuZGVyc2NvcmU7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgLy8gS2VlcCB0aGUgaWRlbnRpdHkgZnVuY3Rpb24gYXJvdW5kIGZvciBkZWZhdWx0IGl0ZXJhdGVlcy5cbiAgXy5pZGVudGl0eSA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9O1xuXG4gIC8vIFByZWRpY2F0ZS1nZW5lcmF0aW5nIGZ1bmN0aW9ucy4gT2Z0ZW4gdXNlZnVsIG91dHNpZGUgb2YgVW5kZXJzY29yZS5cbiAgXy5jb25zdGFudCA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH07XG4gIH07XG5cbiAgXy5ub29wID0gZnVuY3Rpb24oKXt9O1xuXG4gIF8ucHJvcGVydHkgPSBwcm9wZXJ0eTtcblxuICAvLyBHZW5lcmF0ZXMgYSBmdW5jdGlvbiBmb3IgYSBnaXZlbiBvYmplY3QgdGhhdCByZXR1cm5zIGEgZ2l2ZW4gcHJvcGVydHkuXG4gIF8ucHJvcGVydHlPZiA9IGZ1bmN0aW9uKG9iaikge1xuICAgIHJldHVybiBvYmogPT0gbnVsbCA/IGZ1bmN0aW9uKCl7fSA6IGZ1bmN0aW9uKGtleSkge1xuICAgICAgcmV0dXJuIG9ialtrZXldO1xuICAgIH07XG4gIH07XG5cbiAgLy8gUmV0dXJucyBhIHByZWRpY2F0ZSBmb3IgY2hlY2tpbmcgd2hldGhlciBhbiBvYmplY3QgaGFzIGEgZ2l2ZW4gc2V0IG9mXG4gIC8vIGBrZXk6dmFsdWVgIHBhaXJzLlxuICBfLm1hdGNoZXIgPSBfLm1hdGNoZXMgPSBmdW5jdGlvbihhdHRycykge1xuICAgIGF0dHJzID0gXy5leHRlbmRPd24oe30sIGF0dHJzKTtcbiAgICByZXR1cm4gZnVuY3Rpb24ob2JqKSB7XG4gICAgICByZXR1cm4gXy5pc01hdGNoKG9iaiwgYXR0cnMpO1xuICAgIH07XG4gIH07XG5cbiAgLy8gUnVuIGEgZnVuY3Rpb24gKipuKiogdGltZXMuXG4gIF8udGltZXMgPSBmdW5jdGlvbihuLCBpdGVyYXRlZSwgY29udGV4dCkge1xuICAgIHZhciBhY2N1bSA9IEFycmF5KE1hdGgubWF4KDAsIG4pKTtcbiAgICBpdGVyYXRlZSA9IG9wdGltaXplQ2IoaXRlcmF0ZWUsIGNvbnRleHQsIDEpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbjsgaSsrKSBhY2N1bVtpXSA9IGl0ZXJhdGVlKGkpO1xuICAgIHJldHVybiBhY2N1bTtcbiAgfTtcblxuICAvLyBSZXR1cm4gYSByYW5kb20gaW50ZWdlciBiZXR3ZWVuIG1pbiBhbmQgbWF4IChpbmNsdXNpdmUpLlxuICBfLnJhbmRvbSA9IGZ1bmN0aW9uKG1pbiwgbWF4KSB7XG4gICAgaWYgKG1heCA9PSBudWxsKSB7XG4gICAgICBtYXggPSBtaW47XG4gICAgICBtaW4gPSAwO1xuICAgIH1cbiAgICByZXR1cm4gbWluICsgTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKG1heCAtIG1pbiArIDEpKTtcbiAgfTtcblxuICAvLyBBIChwb3NzaWJseSBmYXN0ZXIpIHdheSB0byBnZXQgdGhlIGN1cnJlbnQgdGltZXN0YW1wIGFzIGFuIGludGVnZXIuXG4gIF8ubm93ID0gRGF0ZS5ub3cgfHwgZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICB9O1xuXG4gICAvLyBMaXN0IG9mIEhUTUwgZW50aXRpZXMgZm9yIGVzY2FwaW5nLlxuICB2YXIgZXNjYXBlTWFwID0ge1xuICAgICcmJzogJyZhbXA7JyxcbiAgICAnPCc6ICcmbHQ7JyxcbiAgICAnPic6ICcmZ3Q7JyxcbiAgICAnXCInOiAnJnF1b3Q7JyxcbiAgICBcIidcIjogJyYjeDI3OycsXG4gICAgJ2AnOiAnJiN4NjA7J1xuICB9O1xuICB2YXIgdW5lc2NhcGVNYXAgPSBfLmludmVydChlc2NhcGVNYXApO1xuXG4gIC8vIEZ1bmN0aW9ucyBmb3IgZXNjYXBpbmcgYW5kIHVuZXNjYXBpbmcgc3RyaW5ncyB0by9mcm9tIEhUTUwgaW50ZXJwb2xhdGlvbi5cbiAgdmFyIGNyZWF0ZUVzY2FwZXIgPSBmdW5jdGlvbihtYXApIHtcbiAgICB2YXIgZXNjYXBlciA9IGZ1bmN0aW9uKG1hdGNoKSB7XG4gICAgICByZXR1cm4gbWFwW21hdGNoXTtcbiAgICB9O1xuICAgIC8vIFJlZ2V4ZXMgZm9yIGlkZW50aWZ5aW5nIGEga2V5IHRoYXQgbmVlZHMgdG8gYmUgZXNjYXBlZFxuICAgIHZhciBzb3VyY2UgPSAnKD86JyArIF8ua2V5cyhtYXApLmpvaW4oJ3wnKSArICcpJztcbiAgICB2YXIgdGVzdFJlZ2V4cCA9IFJlZ0V4cChzb3VyY2UpO1xuICAgIHZhciByZXBsYWNlUmVnZXhwID0gUmVnRXhwKHNvdXJjZSwgJ2cnKTtcbiAgICByZXR1cm4gZnVuY3Rpb24oc3RyaW5nKSB7XG4gICAgICBzdHJpbmcgPSBzdHJpbmcgPT0gbnVsbCA/ICcnIDogJycgKyBzdHJpbmc7XG4gICAgICByZXR1cm4gdGVzdFJlZ2V4cC50ZXN0KHN0cmluZykgPyBzdHJpbmcucmVwbGFjZShyZXBsYWNlUmVnZXhwLCBlc2NhcGVyKSA6IHN0cmluZztcbiAgICB9O1xuICB9O1xuICBfLmVzY2FwZSA9IGNyZWF0ZUVzY2FwZXIoZXNjYXBlTWFwKTtcbiAgXy51bmVzY2FwZSA9IGNyZWF0ZUVzY2FwZXIodW5lc2NhcGVNYXApO1xuXG4gIC8vIElmIHRoZSB2YWx1ZSBvZiB0aGUgbmFtZWQgYHByb3BlcnR5YCBpcyBhIGZ1bmN0aW9uIHRoZW4gaW52b2tlIGl0IHdpdGggdGhlXG4gIC8vIGBvYmplY3RgIGFzIGNvbnRleHQ7IG90aGVyd2lzZSwgcmV0dXJuIGl0LlxuICBfLnJlc3VsdCA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHksIGZhbGxiYWNrKSB7XG4gICAgdmFyIHZhbHVlID0gb2JqZWN0ID09IG51bGwgPyB2b2lkIDAgOiBvYmplY3RbcHJvcGVydHldO1xuICAgIGlmICh2YWx1ZSA9PT0gdm9pZCAwKSB7XG4gICAgICB2YWx1ZSA9IGZhbGxiYWNrO1xuICAgIH1cbiAgICByZXR1cm4gXy5pc0Z1bmN0aW9uKHZhbHVlKSA/IHZhbHVlLmNhbGwob2JqZWN0KSA6IHZhbHVlO1xuICB9O1xuXG4gIC8vIEdlbmVyYXRlIGEgdW5pcXVlIGludGVnZXIgaWQgKHVuaXF1ZSB3aXRoaW4gdGhlIGVudGlyZSBjbGllbnQgc2Vzc2lvbikuXG4gIC8vIFVzZWZ1bCBmb3IgdGVtcG9yYXJ5IERPTSBpZHMuXG4gIHZhciBpZENvdW50ZXIgPSAwO1xuICBfLnVuaXF1ZUlkID0gZnVuY3Rpb24ocHJlZml4KSB7XG4gICAgdmFyIGlkID0gKytpZENvdW50ZXIgKyAnJztcbiAgICByZXR1cm4gcHJlZml4ID8gcHJlZml4ICsgaWQgOiBpZDtcbiAgfTtcblxuICAvLyBCeSBkZWZhdWx0LCBVbmRlcnNjb3JlIHVzZXMgRVJCLXN0eWxlIHRlbXBsYXRlIGRlbGltaXRlcnMsIGNoYW5nZSB0aGVcbiAgLy8gZm9sbG93aW5nIHRlbXBsYXRlIHNldHRpbmdzIHRvIHVzZSBhbHRlcm5hdGl2ZSBkZWxpbWl0ZXJzLlxuICBfLnRlbXBsYXRlU2V0dGluZ3MgPSB7XG4gICAgZXZhbHVhdGUgICAgOiAvPCUoW1xcc1xcU10rPyklPi9nLFxuICAgIGludGVycG9sYXRlIDogLzwlPShbXFxzXFxTXSs/KSU+L2csXG4gICAgZXNjYXBlICAgICAgOiAvPCUtKFtcXHNcXFNdKz8pJT4vZ1xuICB9O1xuXG4gIC8vIFdoZW4gY3VzdG9taXppbmcgYHRlbXBsYXRlU2V0dGluZ3NgLCBpZiB5b3UgZG9uJ3Qgd2FudCB0byBkZWZpbmUgYW5cbiAgLy8gaW50ZXJwb2xhdGlvbiwgZXZhbHVhdGlvbiBvciBlc2NhcGluZyByZWdleCwgd2UgbmVlZCBvbmUgdGhhdCBpc1xuICAvLyBndWFyYW50ZWVkIG5vdCB0byBtYXRjaC5cbiAgdmFyIG5vTWF0Y2ggPSAvKC4pXi87XG5cbiAgLy8gQ2VydGFpbiBjaGFyYWN0ZXJzIG5lZWQgdG8gYmUgZXNjYXBlZCBzbyB0aGF0IHRoZXkgY2FuIGJlIHB1dCBpbnRvIGFcbiAgLy8gc3RyaW5nIGxpdGVyYWwuXG4gIHZhciBlc2NhcGVzID0ge1xuICAgIFwiJ1wiOiAgICAgIFwiJ1wiLFxuICAgICdcXFxcJzogICAgICdcXFxcJyxcbiAgICAnXFxyJzogICAgICdyJyxcbiAgICAnXFxuJzogICAgICduJyxcbiAgICAnXFx1MjAyOCc6ICd1MjAyOCcsXG4gICAgJ1xcdTIwMjknOiAndTIwMjknXG4gIH07XG5cbiAgdmFyIGVzY2FwZXIgPSAvXFxcXHwnfFxccnxcXG58XFx1MjAyOHxcXHUyMDI5L2c7XG5cbiAgdmFyIGVzY2FwZUNoYXIgPSBmdW5jdGlvbihtYXRjaCkge1xuICAgIHJldHVybiAnXFxcXCcgKyBlc2NhcGVzW21hdGNoXTtcbiAgfTtcblxuICAvLyBKYXZhU2NyaXB0IG1pY3JvLXRlbXBsYXRpbmcsIHNpbWlsYXIgdG8gSm9obiBSZXNpZydzIGltcGxlbWVudGF0aW9uLlxuICAvLyBVbmRlcnNjb3JlIHRlbXBsYXRpbmcgaGFuZGxlcyBhcmJpdHJhcnkgZGVsaW1pdGVycywgcHJlc2VydmVzIHdoaXRlc3BhY2UsXG4gIC8vIGFuZCBjb3JyZWN0bHkgZXNjYXBlcyBxdW90ZXMgd2l0aGluIGludGVycG9sYXRlZCBjb2RlLlxuICAvLyBOQjogYG9sZFNldHRpbmdzYCBvbmx5IGV4aXN0cyBmb3IgYmFja3dhcmRzIGNvbXBhdGliaWxpdHkuXG4gIF8udGVtcGxhdGUgPSBmdW5jdGlvbih0ZXh0LCBzZXR0aW5ncywgb2xkU2V0dGluZ3MpIHtcbiAgICBpZiAoIXNldHRpbmdzICYmIG9sZFNldHRpbmdzKSBzZXR0aW5ncyA9IG9sZFNldHRpbmdzO1xuICAgIHNldHRpbmdzID0gXy5kZWZhdWx0cyh7fSwgc2V0dGluZ3MsIF8udGVtcGxhdGVTZXR0aW5ncyk7XG5cbiAgICAvLyBDb21iaW5lIGRlbGltaXRlcnMgaW50byBvbmUgcmVndWxhciBleHByZXNzaW9uIHZpYSBhbHRlcm5hdGlvbi5cbiAgICB2YXIgbWF0Y2hlciA9IFJlZ0V4cChbXG4gICAgICAoc2V0dGluZ3MuZXNjYXBlIHx8IG5vTWF0Y2gpLnNvdXJjZSxcbiAgICAgIChzZXR0aW5ncy5pbnRlcnBvbGF0ZSB8fCBub01hdGNoKS5zb3VyY2UsXG4gICAgICAoc2V0dGluZ3MuZXZhbHVhdGUgfHwgbm9NYXRjaCkuc291cmNlXG4gICAgXS5qb2luKCd8JykgKyAnfCQnLCAnZycpO1xuXG4gICAgLy8gQ29tcGlsZSB0aGUgdGVtcGxhdGUgc291cmNlLCBlc2NhcGluZyBzdHJpbmcgbGl0ZXJhbHMgYXBwcm9wcmlhdGVseS5cbiAgICB2YXIgaW5kZXggPSAwO1xuICAgIHZhciBzb3VyY2UgPSBcIl9fcCs9J1wiO1xuICAgIHRleHQucmVwbGFjZShtYXRjaGVyLCBmdW5jdGlvbihtYXRjaCwgZXNjYXBlLCBpbnRlcnBvbGF0ZSwgZXZhbHVhdGUsIG9mZnNldCkge1xuICAgICAgc291cmNlICs9IHRleHQuc2xpY2UoaW5kZXgsIG9mZnNldCkucmVwbGFjZShlc2NhcGVyLCBlc2NhcGVDaGFyKTtcbiAgICAgIGluZGV4ID0gb2Zmc2V0ICsgbWF0Y2gubGVuZ3RoO1xuXG4gICAgICBpZiAoZXNjYXBlKSB7XG4gICAgICAgIHNvdXJjZSArPSBcIicrXFxuKChfX3Q9KFwiICsgZXNjYXBlICsgXCIpKT09bnVsbD8nJzpfLmVzY2FwZShfX3QpKStcXG4nXCI7XG4gICAgICB9IGVsc2UgaWYgKGludGVycG9sYXRlKSB7XG4gICAgICAgIHNvdXJjZSArPSBcIicrXFxuKChfX3Q9KFwiICsgaW50ZXJwb2xhdGUgKyBcIikpPT1udWxsPycnOl9fdCkrXFxuJ1wiO1xuICAgICAgfSBlbHNlIGlmIChldmFsdWF0ZSkge1xuICAgICAgICBzb3VyY2UgKz0gXCInO1xcblwiICsgZXZhbHVhdGUgKyBcIlxcbl9fcCs9J1wiO1xuICAgICAgfVxuXG4gICAgICAvLyBBZG9iZSBWTXMgbmVlZCB0aGUgbWF0Y2ggcmV0dXJuZWQgdG8gcHJvZHVjZSB0aGUgY29ycmVjdCBvZmZlc3QuXG4gICAgICByZXR1cm4gbWF0Y2g7XG4gICAgfSk7XG4gICAgc291cmNlICs9IFwiJztcXG5cIjtcblxuICAgIC8vIElmIGEgdmFyaWFibGUgaXMgbm90IHNwZWNpZmllZCwgcGxhY2UgZGF0YSB2YWx1ZXMgaW4gbG9jYWwgc2NvcGUuXG4gICAgaWYgKCFzZXR0aW5ncy52YXJpYWJsZSkgc291cmNlID0gJ3dpdGgob2JqfHx7fSl7XFxuJyArIHNvdXJjZSArICd9XFxuJztcblxuICAgIHNvdXJjZSA9IFwidmFyIF9fdCxfX3A9JycsX19qPUFycmF5LnByb3RvdHlwZS5qb2luLFwiICtcbiAgICAgIFwicHJpbnQ9ZnVuY3Rpb24oKXtfX3ArPV9fai5jYWxsKGFyZ3VtZW50cywnJyk7fTtcXG5cIiArXG4gICAgICBzb3VyY2UgKyAncmV0dXJuIF9fcDtcXG4nO1xuXG4gICAgdHJ5IHtcbiAgICAgIHZhciByZW5kZXIgPSBuZXcgRnVuY3Rpb24oc2V0dGluZ3MudmFyaWFibGUgfHwgJ29iaicsICdfJywgc291cmNlKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBlLnNvdXJjZSA9IHNvdXJjZTtcbiAgICAgIHRocm93IGU7XG4gICAgfVxuXG4gICAgdmFyIHRlbXBsYXRlID0gZnVuY3Rpb24oZGF0YSkge1xuICAgICAgcmV0dXJuIHJlbmRlci5jYWxsKHRoaXMsIGRhdGEsIF8pO1xuICAgIH07XG5cbiAgICAvLyBQcm92aWRlIHRoZSBjb21waWxlZCBzb3VyY2UgYXMgYSBjb252ZW5pZW5jZSBmb3IgcHJlY29tcGlsYXRpb24uXG4gICAgdmFyIGFyZ3VtZW50ID0gc2V0dGluZ3MudmFyaWFibGUgfHwgJ29iaic7XG4gICAgdGVtcGxhdGUuc291cmNlID0gJ2Z1bmN0aW9uKCcgKyBhcmd1bWVudCArICcpe1xcbicgKyBzb3VyY2UgKyAnfSc7XG5cbiAgICByZXR1cm4gdGVtcGxhdGU7XG4gIH07XG5cbiAgLy8gQWRkIGEgXCJjaGFpblwiIGZ1bmN0aW9uLiBTdGFydCBjaGFpbmluZyBhIHdyYXBwZWQgVW5kZXJzY29yZSBvYmplY3QuXG4gIF8uY2hhaW4gPSBmdW5jdGlvbihvYmopIHtcbiAgICB2YXIgaW5zdGFuY2UgPSBfKG9iaik7XG4gICAgaW5zdGFuY2UuX2NoYWluID0gdHJ1ZTtcbiAgICByZXR1cm4gaW5zdGFuY2U7XG4gIH07XG5cbiAgLy8gT09QXG4gIC8vIC0tLS0tLS0tLS0tLS0tLVxuICAvLyBJZiBVbmRlcnNjb3JlIGlzIGNhbGxlZCBhcyBhIGZ1bmN0aW9uLCBpdCByZXR1cm5zIGEgd3JhcHBlZCBvYmplY3QgdGhhdFxuICAvLyBjYW4gYmUgdXNlZCBPTy1zdHlsZS4gVGhpcyB3cmFwcGVyIGhvbGRzIGFsdGVyZWQgdmVyc2lvbnMgb2YgYWxsIHRoZVxuICAvLyB1bmRlcnNjb3JlIGZ1bmN0aW9ucy4gV3JhcHBlZCBvYmplY3RzIG1heSBiZSBjaGFpbmVkLlxuXG4gIC8vIEhlbHBlciBmdW5jdGlvbiB0byBjb250aW51ZSBjaGFpbmluZyBpbnRlcm1lZGlhdGUgcmVzdWx0cy5cbiAgdmFyIHJlc3VsdCA9IGZ1bmN0aW9uKGluc3RhbmNlLCBvYmopIHtcbiAgICByZXR1cm4gaW5zdGFuY2UuX2NoYWluID8gXyhvYmopLmNoYWluKCkgOiBvYmo7XG4gIH07XG5cbiAgLy8gQWRkIHlvdXIgb3duIGN1c3RvbSBmdW5jdGlvbnMgdG8gdGhlIFVuZGVyc2NvcmUgb2JqZWN0LlxuICBfLm1peGluID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgXy5lYWNoKF8uZnVuY3Rpb25zKG9iaiksIGZ1bmN0aW9uKG5hbWUpIHtcbiAgICAgIHZhciBmdW5jID0gX1tuYW1lXSA9IG9ialtuYW1lXTtcbiAgICAgIF8ucHJvdG90eXBlW25hbWVdID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBhcmdzID0gW3RoaXMuX3dyYXBwZWRdO1xuICAgICAgICBwdXNoLmFwcGx5KGFyZ3MsIGFyZ3VtZW50cyk7XG4gICAgICAgIHJldHVybiByZXN1bHQodGhpcywgZnVuYy5hcHBseShfLCBhcmdzKSk7XG4gICAgICB9O1xuICAgIH0pO1xuICB9O1xuXG4gIC8vIEFkZCBhbGwgb2YgdGhlIFVuZGVyc2NvcmUgZnVuY3Rpb25zIHRvIHRoZSB3cmFwcGVyIG9iamVjdC5cbiAgXy5taXhpbihfKTtcblxuICAvLyBBZGQgYWxsIG11dGF0b3IgQXJyYXkgZnVuY3Rpb25zIHRvIHRoZSB3cmFwcGVyLlxuICBfLmVhY2goWydwb3AnLCAncHVzaCcsICdyZXZlcnNlJywgJ3NoaWZ0JywgJ3NvcnQnLCAnc3BsaWNlJywgJ3Vuc2hpZnQnXSwgZnVuY3Rpb24obmFtZSkge1xuICAgIHZhciBtZXRob2QgPSBBcnJheVByb3RvW25hbWVdO1xuICAgIF8ucHJvdG90eXBlW25hbWVdID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgb2JqID0gdGhpcy5fd3JhcHBlZDtcbiAgICAgIG1ldGhvZC5hcHBseShvYmosIGFyZ3VtZW50cyk7XG4gICAgICBpZiAoKG5hbWUgPT09ICdzaGlmdCcgfHwgbmFtZSA9PT0gJ3NwbGljZScpICYmIG9iai5sZW5ndGggPT09IDApIGRlbGV0ZSBvYmpbMF07XG4gICAgICByZXR1cm4gcmVzdWx0KHRoaXMsIG9iaik7XG4gICAgfTtcbiAgfSk7XG5cbiAgLy8gQWRkIGFsbCBhY2Nlc3NvciBBcnJheSBmdW5jdGlvbnMgdG8gdGhlIHdyYXBwZXIuXG4gIF8uZWFjaChbJ2NvbmNhdCcsICdqb2luJywgJ3NsaWNlJ10sIGZ1bmN0aW9uKG5hbWUpIHtcbiAgICB2YXIgbWV0aG9kID0gQXJyYXlQcm90b1tuYW1lXTtcbiAgICBfLnByb3RvdHlwZVtuYW1lXSA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHJlc3VsdCh0aGlzLCBtZXRob2QuYXBwbHkodGhpcy5fd3JhcHBlZCwgYXJndW1lbnRzKSk7XG4gICAgfTtcbiAgfSk7XG5cbiAgLy8gRXh0cmFjdHMgdGhlIHJlc3VsdCBmcm9tIGEgd3JhcHBlZCBhbmQgY2hhaW5lZCBvYmplY3QuXG4gIF8ucHJvdG90eXBlLnZhbHVlID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuX3dyYXBwZWQ7XG4gIH07XG5cbiAgLy8gUHJvdmlkZSB1bndyYXBwaW5nIHByb3h5IGZvciBzb21lIG1ldGhvZHMgdXNlZCBpbiBlbmdpbmUgb3BlcmF0aW9uc1xuICAvLyBzdWNoIGFzIGFyaXRobWV0aWMgYW5kIEpTT04gc3RyaW5naWZpY2F0aW9uLlxuICBfLnByb3RvdHlwZS52YWx1ZU9mID0gXy5wcm90b3R5cGUudG9KU09OID0gXy5wcm90b3R5cGUudmFsdWU7XG5cbiAgXy5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gJycgKyB0aGlzLl93cmFwcGVkO1xuICB9O1xuXG4gIC8vIEFNRCByZWdpc3RyYXRpb24gaGFwcGVucyBhdCB0aGUgZW5kIGZvciBjb21wYXRpYmlsaXR5IHdpdGggQU1EIGxvYWRlcnNcbiAgLy8gdGhhdCBtYXkgbm90IGVuZm9yY2UgbmV4dC10dXJuIHNlbWFudGljcyBvbiBtb2R1bGVzLiBFdmVuIHRob3VnaCBnZW5lcmFsXG4gIC8vIHByYWN0aWNlIGZvciBBTUQgcmVnaXN0cmF0aW9uIGlzIHRvIGJlIGFub255bW91cywgdW5kZXJzY29yZSByZWdpc3RlcnNcbiAgLy8gYXMgYSBuYW1lZCBtb2R1bGUgYmVjYXVzZSwgbGlrZSBqUXVlcnksIGl0IGlzIGEgYmFzZSBsaWJyYXJ5IHRoYXQgaXNcbiAgLy8gcG9wdWxhciBlbm91Z2ggdG8gYmUgYnVuZGxlZCBpbiBhIHRoaXJkIHBhcnR5IGxpYiwgYnV0IG5vdCBiZSBwYXJ0IG9mXG4gIC8vIGFuIEFNRCBsb2FkIHJlcXVlc3QuIFRob3NlIGNhc2VzIGNvdWxkIGdlbmVyYXRlIGFuIGVycm9yIHdoZW4gYW5cbiAgLy8gYW5vbnltb3VzIGRlZmluZSgpIGlzIGNhbGxlZCBvdXRzaWRlIG9mIGEgbG9hZGVyIHJlcXVlc3QuXG4gIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcbiAgICBkZWZpbmUoJ3VuZGVyc2NvcmUnLCBbXSwgZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gXztcbiAgICB9KTtcbiAgfVxufS5jYWxsKHRoaXMpKTtcblxuLyogZXhwb3J0ZWQgV0lER0VUX0NPTU1PTl9DT05GSUcgKi9cbnZhciBXSURHRVRfQ09NTU9OX0NPTkZJRyA9IHtcbiAgQVVUSF9QQVRIX1VSTDogXCJ2MS93aWRnZXQvYXV0aFwiLFxuICBMT0dHRVJfQ0xJRU5UX0lEOiBcIjEwODg1MjcxNDcxMDktNnExbzJ2dGlobjM0MjkycGp0NGNraG1oY2swcmswbzcuYXBwcy5nb29nbGV1c2VyY29udGVudC5jb21cIixcbiAgTE9HR0VSX0NMSUVOVF9TRUNSRVQ6IFwibmxaeXJjUExnNm9Fd085ZjlXZm4yOVdoXCIsXG4gIExPR0dFUl9SRUZSRVNIX1RPS0VOOiBcIjEveHp0NGt3ekUxSDdXOVZuS0I4Y0FhQ3g2emI0RXM0bktFb3FhWUhkVEQxNUlnT3JKRHRkdW42eks2WGlBVENLVFwiLFxuICBTVE9SRV9VUkw6IFwiaHR0cHM6Ly9zdG9yZS1kb3QtcnZhc2VydmVyMi5hcHBzcG90LmNvbS9cIlxufTtcbi8qIGdsb2JhbCBXSURHRVRfQ09NTU9OX0NPTkZJRyAqL1xuXG52YXIgUmlzZVZpc2lvbiA9IFJpc2VWaXNpb24gfHwge307XG5SaXNlVmlzaW9uLkNvbW1vbiA9IFJpc2VWaXNpb24uQ29tbW9uIHx8IHt9O1xuXG5SaXNlVmlzaW9uLkNvbW1vbi5Mb2dnZXJVdGlscyA9IChmdW5jdGlvbigpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgIHZhciBkaXNwbGF5SWQgPSBcIlwiLFxuICAgICBjb21wYW55SWQgPSBcIlwiLFxuICAgICB2ZXJzaW9uID0gbnVsbDtcblxuICAvKlxuICAgKiAgUHJpdmF0ZSBNZXRob2RzXG4gICAqL1xuXG4gIC8qIFJldHJpZXZlIHBhcmFtZXRlcnMgdG8gcGFzcyB0byB0aGUgZXZlbnQgbG9nZ2VyLiAqL1xuICBmdW5jdGlvbiBnZXRFdmVudFBhcmFtcyhwYXJhbXMsIGNiKSB7XG4gICAgdmFyIGpzb24gPSBudWxsO1xuXG4gICAgLy8gZXZlbnQgaXMgcmVxdWlyZWQuXG4gICAgaWYgKHBhcmFtcy5ldmVudCkge1xuICAgICAganNvbiA9IHBhcmFtcztcblxuICAgICAgaWYgKGpzb24uZmlsZV91cmwpIHtcbiAgICAgICAganNvbi5maWxlX2Zvcm1hdCA9IGdldEZpbGVGb3JtYXQoanNvbi5maWxlX3VybCk7XG4gICAgICB9XG5cbiAgICAgIGpzb24uY29tcGFueV9pZCA9IGNvbXBhbnlJZDtcbiAgICAgIGpzb24uZGlzcGxheV9pZCA9IGRpc3BsYXlJZDtcblxuICAgICAgaWYgKHZlcnNpb24pIHtcbiAgICAgICAganNvbi52ZXJzaW9uID0gdmVyc2lvbjtcbiAgICAgIH1cblxuICAgICAgY2IoanNvbik7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgY2IoanNvbik7XG4gICAgfVxuICB9XG5cbiAgLy8gR2V0IHN1ZmZpeCBmb3IgQlEgdGFibGUgbmFtZS5cbiAgZnVuY3Rpb24gZ2V0U3VmZml4KCkge1xuICAgIHZhciBkYXRlID0gbmV3IERhdGUoKSxcbiAgICAgIHllYXIgPSBkYXRlLmdldFVUQ0Z1bGxZZWFyKCksXG4gICAgICBtb250aCA9IGRhdGUuZ2V0VVRDTW9udGgoKSArIDEsXG4gICAgICBkYXkgPSBkYXRlLmdldFVUQ0RhdGUoKTtcblxuICAgIGlmIChtb250aCA8IDEwKSB7XG4gICAgICBtb250aCA9IFwiMFwiICsgbW9udGg7XG4gICAgfVxuXG4gICAgaWYgKGRheSA8IDEwKSB7XG4gICAgICBkYXkgPSBcIjBcIiArIGRheTtcbiAgICB9XG5cbiAgICByZXR1cm4geWVhciArIG1vbnRoICsgZGF5O1xuICB9XG5cbiAgLypcbiAgICogIFB1YmxpYyBNZXRob2RzXG4gICAqL1xuICBmdW5jdGlvbiBnZXRGaWxlRm9ybWF0KHVybCkge1xuICAgIHZhciBoYXNQYXJhbXMgPSAvWz8jJl0vLFxuICAgICAgc3RyO1xuXG4gICAgaWYgKCF1cmwgfHwgdHlwZW9mIHVybCAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgc3RyID0gdXJsLnN1YnN0cih1cmwubGFzdEluZGV4T2YoXCIuXCIpICsgMSk7XG5cbiAgICAvLyBkb24ndCBpbmNsdWRlIGFueSBwYXJhbXMgYWZ0ZXIgdGhlIGZpbGVuYW1lXG4gICAgaWYgKGhhc1BhcmFtcy50ZXN0KHN0cikpIHtcbiAgICAgIHN0ciA9IHN0ci5zdWJzdHIoMCAsKHN0ci5pbmRleE9mKFwiP1wiKSAhPT0gLTEpID8gc3RyLmluZGV4T2YoXCI/XCIpIDogc3RyLmxlbmd0aCk7XG5cbiAgICAgIHN0ciA9IHN0ci5zdWJzdHIoMCwgKHN0ci5pbmRleE9mKFwiI1wiKSAhPT0gLTEpID8gc3RyLmluZGV4T2YoXCIjXCIpIDogc3RyLmxlbmd0aCk7XG5cbiAgICAgIHN0ciA9IHN0ci5zdWJzdHIoMCwgKHN0ci5pbmRleE9mKFwiJlwiKSAhPT0gLTEpID8gc3RyLmluZGV4T2YoXCImXCIpIDogc3RyLmxlbmd0aCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHN0ci50b0xvd2VyQ2FzZSgpO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0SW5zZXJ0RGF0YShwYXJhbXMpIHtcbiAgICB2YXIgQkFTRV9JTlNFUlRfU0NIRU1BID0ge1xuICAgICAgXCJraW5kXCI6IFwiYmlncXVlcnkjdGFibGVEYXRhSW5zZXJ0QWxsUmVxdWVzdFwiLFxuICAgICAgXCJza2lwSW52YWxpZFJvd3NcIjogZmFsc2UsXG4gICAgICBcImlnbm9yZVVua25vd25WYWx1ZXNcIjogZmFsc2UsXG4gICAgICBcInRlbXBsYXRlU3VmZml4XCI6IGdldFN1ZmZpeCgpLFxuICAgICAgXCJyb3dzXCI6IFt7XG4gICAgICAgIFwiaW5zZXJ0SWRcIjogXCJcIlxuICAgICAgfV1cbiAgICB9LFxuICAgIGRhdGEgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KEJBU0VfSU5TRVJUX1NDSEVNQSkpO1xuXG4gICAgZGF0YS5yb3dzWzBdLmluc2VydElkID0gTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyKDIpLnRvVXBwZXJDYXNlKCk7XG4gICAgZGF0YS5yb3dzWzBdLmpzb24gPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHBhcmFtcykpO1xuICAgIGRhdGEucm93c1swXS5qc29uLnRzID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpO1xuXG4gICAgcmV0dXJuIGRhdGE7XG4gIH1cblxuICBmdW5jdGlvbiBsb2dFdmVudCh0YWJsZSwgcGFyYW1zKSB7XG4gICAgZ2V0RXZlbnRQYXJhbXMocGFyYW1zLCBmdW5jdGlvbihqc29uKSB7XG4gICAgICBpZiAoanNvbiAhPT0gbnVsbCkge1xuICAgICAgICBSaXNlVmlzaW9uLkNvbW1vbi5Mb2dnZXIubG9nKHRhYmxlLCBqc29uKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8qIFNldCB0aGUgQ29tcGFueSBhbmQgRGlzcGxheSBJRHMuICovXG4gIGZ1bmN0aW9uIHNldElkcyhjb21wYW55LCBkaXNwbGF5KSB7XG4gICAgY29tcGFueUlkID0gY29tcGFueTtcbiAgICBkaXNwbGF5SWQgPSBkaXNwbGF5O1xuICB9XG5cbiAgZnVuY3Rpb24gc2V0VmVyc2lvbih2YWx1ZSkge1xuICAgIHZlcnNpb24gPSB2YWx1ZTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgXCJnZXRJbnNlcnREYXRhXCI6IGdldEluc2VydERhdGEsXG4gICAgXCJnZXRGaWxlRm9ybWF0XCI6IGdldEZpbGVGb3JtYXQsXG4gICAgXCJsb2dFdmVudFwiOiBsb2dFdmVudCxcbiAgICBcInNldElkc1wiOiBzZXRJZHMsXG4gICAgXCJzZXRWZXJzaW9uXCI6IHNldFZlcnNpb25cbiAgfTtcbn0pKCk7XG5cblJpc2VWaXNpb24uQ29tbW9uLkxvZ2dlciA9IChmdW5jdGlvbih1dGlscykge1xuICBcInVzZSBzdHJpY3RcIjtcblxuICB2YXIgUkVGUkVTSF9VUkwgPSBcImh0dHBzOi8vd3d3Lmdvb2dsZWFwaXMuY29tL29hdXRoMi92My90b2tlbj9jbGllbnRfaWQ9XCIgKyBXSURHRVRfQ09NTU9OX0NPTkZJRy5MT0dHRVJfQ0xJRU5UX0lEICtcbiAgICAgIFwiJmNsaWVudF9zZWNyZXQ9XCIgKyBXSURHRVRfQ09NTU9OX0NPTkZJRy5MT0dHRVJfQ0xJRU5UX1NFQ1JFVCArXG4gICAgICBcIiZyZWZyZXNoX3Rva2VuPVwiICsgV0lER0VUX0NPTU1PTl9DT05GSUcuTE9HR0VSX1JFRlJFU0hfVE9LRU4gK1xuICAgICAgXCImZ3JhbnRfdHlwZT1yZWZyZXNoX3Rva2VuXCI7XG5cbiAgdmFyIHNlcnZpY2VVcmwgPSBcImh0dHBzOi8vd3d3Lmdvb2dsZWFwaXMuY29tL2JpZ3F1ZXJ5L3YyL3Byb2plY3RzL2NsaWVudC1zaWRlLWV2ZW50cy9kYXRhc2V0cy9XaWRnZXRfRXZlbnRzL3RhYmxlcy9UQUJMRV9JRC9pbnNlcnRBbGxcIixcbiAgICB0aHJvdHRsZSA9IGZhbHNlLFxuICAgIHRocm90dGxlRGVsYXkgPSAxMDAwLFxuICAgIGxhc3RFdmVudCA9IFwiXCIsXG4gICAgcmVmcmVzaERhdGUgPSAwLFxuICAgIHRva2VuID0gXCJcIjtcblxuICAvKlxuICAgKiAgUHJpdmF0ZSBNZXRob2RzXG4gICAqL1xuICBmdW5jdGlvbiByZWZyZXNoVG9rZW4oY2IpIHtcbiAgICB2YXIgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG5cbiAgICBpZiAobmV3IERhdGUoKSAtIHJlZnJlc2hEYXRlIDwgMzU4MDAwMCkge1xuICAgICAgcmV0dXJuIGNiKHt9KTtcbiAgICB9XG5cbiAgICB4aHIub3BlbihcIlBPU1RcIiwgUkVGUkVTSF9VUkwsIHRydWUpO1xuICAgIHhoci5vbmxvYWRlbmQgPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciByZXNwID0gSlNPTi5wYXJzZSh4aHIucmVzcG9uc2UpO1xuXG4gICAgICBjYih7IHRva2VuOiByZXNwLmFjY2Vzc190b2tlbiwgcmVmcmVzaGVkQXQ6IG5ldyBEYXRlKCkgfSk7XG4gICAgfTtcblxuICAgIHhoci5zZW5kKCk7XG4gIH1cblxuICBmdW5jdGlvbiBpc1Rocm90dGxlZChldmVudCkge1xuICAgIHJldHVybiB0aHJvdHRsZSAmJiAobGFzdEV2ZW50ID09PSBldmVudCk7XG4gIH1cblxuICAvKlxuICAgKiAgUHVibGljIE1ldGhvZHNcbiAgICovXG4gIGZ1bmN0aW9uIGxvZyh0YWJsZU5hbWUsIHBhcmFtcykge1xuICAgIGlmICghdGFibGVOYW1lIHx8ICFwYXJhbXMgfHwgKHBhcmFtcy5oYXNPd25Qcm9wZXJ0eShcImV2ZW50XCIpICYmICFwYXJhbXMuZXZlbnQpIHx8XG4gICAgICAocGFyYW1zLmhhc093blByb3BlcnR5KFwiZXZlbnRcIikgJiYgaXNUaHJvdHRsZWQocGFyYW1zLmV2ZW50KSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aHJvdHRsZSA9IHRydWU7XG4gICAgbGFzdEV2ZW50ID0gcGFyYW1zLmV2ZW50O1xuXG4gICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICB0aHJvdHRsZSA9IGZhbHNlO1xuICAgIH0sIHRocm90dGxlRGVsYXkpO1xuXG4gICAgZnVuY3Rpb24gaW5zZXJ0V2l0aFRva2VuKHJlZnJlc2hEYXRhKSB7XG4gICAgICB2YXIgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCksXG4gICAgICAgIGluc2VydERhdGEsIHVybDtcblxuICAgICAgdXJsID0gc2VydmljZVVybC5yZXBsYWNlKFwiVEFCTEVfSURcIiwgdGFibGVOYW1lKTtcbiAgICAgIHJlZnJlc2hEYXRlID0gcmVmcmVzaERhdGEucmVmcmVzaGVkQXQgfHwgcmVmcmVzaERhdGU7XG4gICAgICB0b2tlbiA9IHJlZnJlc2hEYXRhLnRva2VuIHx8IHRva2VuO1xuICAgICAgaW5zZXJ0RGF0YSA9IHV0aWxzLmdldEluc2VydERhdGEocGFyYW1zKTtcblxuICAgICAgLy8gSW5zZXJ0IHRoZSBkYXRhLlxuICAgICAgeGhyLm9wZW4oXCJQT1NUXCIsIHVybCwgdHJ1ZSk7XG4gICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcihcIkNvbnRlbnQtVHlwZVwiLCBcImFwcGxpY2F0aW9uL2pzb25cIik7XG4gICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcihcIkF1dGhvcml6YXRpb25cIiwgXCJCZWFyZXIgXCIgKyB0b2tlbik7XG5cbiAgICAgIGlmIChwYXJhbXMuY2IgJiYgdHlwZW9mIHBhcmFtcy5jYiA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIHhoci5vbmxvYWRlbmQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICBwYXJhbXMuY2IoeGhyLnJlc3BvbnNlKTtcbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgeGhyLnNlbmQoSlNPTi5zdHJpbmdpZnkoaW5zZXJ0RGF0YSkpO1xuICAgIH1cblxuICAgIHJldHVybiByZWZyZXNoVG9rZW4oaW5zZXJ0V2l0aFRva2VuKTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgXCJsb2dcIjogbG9nXG4gIH07XG59KShSaXNlVmlzaW9uLkNvbW1vbi5Mb2dnZXJVdGlscyk7XG52YXIgUmlzZVZpc2lvbiA9IFJpc2VWaXNpb24gfHwge307XG5SaXNlVmlzaW9uLkNvbW1vbiA9IFJpc2VWaXNpb24uQ29tbW9uIHx8IHt9O1xuXG5SaXNlVmlzaW9uLkNvbW1vbi5SaXNlQ2FjaGUgPSAoZnVuY3Rpb24gKCkge1xuICBcInVzZSBzdHJpY3RcIjtcblxuICB2YXIgQkFTRV9DQUNIRV9VUkwgPSBcIi8vbG9jYWxob3N0Ojk0OTQvXCI7XG5cbiAgdmFyIF9waW5nUmVjZWl2ZWQgPSBmYWxzZSxcbiAgICBfaXNDYWNoZVJ1bm5pbmcgPSBmYWxzZSxcbiAgICBfaXNWMlJ1bm5pbmcgPSBmYWxzZTtcblxuICBmdW5jdGlvbiBwaW5nKGNhbGxiYWNrKSB7XG4gICAgdmFyIHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKSxcbiAgICAgIC8qIGpzaGludCB2YWxpZHRoaXM6IHRydWUgKi9cbiAgICAgIHNlbGYgPSB0aGlzO1xuXG4gICAgaWYgKCFjYWxsYmFjayB8fCB0eXBlb2YgY2FsbGJhY2sgIT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICghX2lzVjJSdW5uaW5nKSB7XG4gICAgICByLm9wZW4oXCJHRVRcIiwgQkFTRV9DQUNIRV9VUkwgKyBcInBpbmc/Y2FsbGJhY2s9X1wiLCB0cnVlKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICByLm9wZW4oXCJHRVRcIiwgQkFTRV9DQUNIRV9VUkwsIHRydWUpO1xuICAgIH1cblxuICAgIHIub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgaWYgKHIucmVhZHlTdGF0ZSA9PT0gNCApIHtcbiAgICAgICAgICAvLyBzYXZlIHRoaXMgcmVzdWx0IGZvciB1c2UgaW4gZ2V0RmlsZSgpXG4gICAgICAgICAgX3BpbmdSZWNlaXZlZCA9IHRydWU7XG5cbiAgICAgICAgICBpZihyLnN0YXR1cyA9PT0gMjAwKSB7XG4gICAgICAgICAgICBfaXNDYWNoZVJ1bm5pbmcgPSB0cnVlO1xuXG4gICAgICAgICAgICBjYWxsYmFjayh0cnVlLCByLnJlc3BvbnNlVGV4dCk7XG4gICAgICAgICAgfSBlbHNlIGlmIChyLnN0YXR1cyA9PT0gNDA0KSB7XG4gICAgICAgICAgICAvLyBSaXNlIENhY2hlIFYyIGlzIHJ1bm5pbmdcbiAgICAgICAgICAgIF9pc1YyUnVubmluZyA9IHRydWU7XG5cbiAgICAgICAgICAgIC8vIGNhbGwgcGluZyBhZ2FpbiBzbyBjb3JyZWN0IHBpbmcgVVJMIGlzIHVzZWQgZm9yIFJpc2UgQ2FjaGUgVjJcbiAgICAgICAgICAgIHJldHVybiBzZWxmLnBpbmcoY2FsbGJhY2spO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLmRlYnVnKFwiUmlzZSBDYWNoZSBpcyBub3QgcnVubmluZ1wiKTtcbiAgICAgICAgICAgIF9pc0NhY2hlUnVubmluZyA9IGZhbHNlO1xuXG4gICAgICAgICAgICBjYWxsYmFjayhmYWxzZSwgbnVsbCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBjYXRjaCAoZSkge1xuICAgICAgICBjb25zb2xlLmRlYnVnKFwiQ2F1Z2h0IGV4Y2VwdGlvbjogXCIsIGUuZGVzY3JpcHRpb24pO1xuICAgICAgfVxuXG4gICAgfTtcbiAgICByLnNlbmQoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldEZpbGUoZmlsZVVybCwgY2FsbGJhY2ssIG5vY2FjaGVidXN0ZXIpIHtcbiAgICBpZiAoIWZpbGVVcmwgfHwgIWNhbGxiYWNrIHx8IHR5cGVvZiBjYWxsYmFjayAhPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZmlsZVJlcXVlc3QoKSB7XG4gICAgICB2YXIgdXJsLCBzdHIsIHNlcGFyYXRvcjtcblxuICAgICAgaWYgKF9pc0NhY2hlUnVubmluZykge1xuICAgICAgICBpZiAoX2lzVjJSdW5uaW5nKSB7XG4gICAgICAgICAgdXJsID0gQkFTRV9DQUNIRV9VUkwgKyBcImZpbGVzP3VybD1cIiArIGVuY29kZVVSSUNvbXBvbmVudChmaWxlVXJsKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBjb25maWd1cmUgdXJsIHdpdGggY2FjaGVidXN0ZXIgb3Igbm90XG4gICAgICAgICAgdXJsID0gKG5vY2FjaGVidXN0ZXIpID8gQkFTRV9DQUNIRV9VUkwgKyBcIj91cmw9XCIgKyBlbmNvZGVVUklDb21wb25lbnQoZmlsZVVybCkgOlxuICAgICAgICAgIEJBU0VfQ0FDSEVfVVJMICsgXCJjYj1cIiArIG5ldyBEYXRlKCkuZ2V0VGltZSgpICsgXCI/dXJsPVwiICsgZW5jb2RlVVJJQ29tcG9uZW50KGZpbGVVcmwpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAobm9jYWNoZWJ1c3Rlcikge1xuICAgICAgICAgIHVybCA9IGZpbGVVcmw7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc3RyID0gZmlsZVVybC5zcGxpdChcIj9cIik7XG4gICAgICAgICAgc2VwYXJhdG9yID0gKHN0ci5sZW5ndGggPT09IDEpID8gXCI/XCIgOiBcIiZcIjtcbiAgICAgICAgICB1cmwgPSBmaWxlVXJsICsgc2VwYXJhdG9yICsgXCJjYj1cIiArIG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIG1ha2VSZXF1ZXN0KFwiSEVBRFwiLCB1cmwpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG1ha2VSZXF1ZXN0KG1ldGhvZCwgdXJsKSB7XG4gICAgICB2YXIgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCksXG4gICAgICAgIHJlcXVlc3QgPSB7XG4gICAgICAgICAgeGhyOiB4aHIsXG4gICAgICAgICAgdXJsOiB1cmxcbiAgICAgICAgfTtcblxuICAgICAgaWYgKF9pc0NhY2hlUnVubmluZykge1xuICAgICAgICB4aHIub3BlbihtZXRob2QsIHVybCwgdHJ1ZSk7XG5cbiAgICAgICAgeGhyLmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkZW5kXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICB2YXIgc3RhdHVzID0geGhyLnN0YXR1cyB8fCAwO1xuXG4gICAgICAgICAgaWYgKHN0YXR1cyA+PSAyMDAgJiYgc3RhdHVzIDwgMzAwKSB7XG4gICAgICAgICAgICBjYWxsYmFjayhyZXF1ZXN0KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gU2VydmVyIG1heSBub3Qgc3VwcG9ydCBIRUFEIHJlcXVlc3QuIEZhbGxiYWNrIHRvIGEgR0VUIHJlcXVlc3QuXG4gICAgICAgICAgICBpZiAobWV0aG9kID09PSBcIkhFQURcIikge1xuICAgICAgICAgICAgICBtYWtlUmVxdWVzdChcIkdFVFwiLCB1cmwpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgY2FsbGJhY2socmVxdWVzdCwgbmV3IEVycm9yKFwiVGhlIHJlcXVlc3QgZmFpbGVkIHdpdGggc3RhdHVzIGNvZGU6IFwiICsgc3RhdHVzKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICB4aHIuc2VuZCgpO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIC8vIFJpc2UgQ2FjaGUgaXMgbm90IHJ1bm5pbmcgKHByZXZpZXcpLCBza2lwIEhFQUQgcmVxdWVzdCBhbmQgZXhlY3V0ZSBjYWxsYmFjayBpbW1lZGlhdGVseVxuICAgICAgICBjYWxsYmFjayhyZXF1ZXN0KTtcbiAgICAgIH1cblxuICAgIH1cblxuICAgIGlmICghX3BpbmdSZWNlaXZlZCkge1xuICAgICAgLyoganNoaW50IHZhbGlkdGhpczogdHJ1ZSAqL1xuICAgICAgcmV0dXJuIHRoaXMucGluZyhmaWxlUmVxdWVzdCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmaWxlUmVxdWVzdCgpO1xuICAgIH1cblxuICB9XG5cbiAgZnVuY3Rpb24gaXNSaXNlQ2FjaGVSdW5uaW5nKGNhbGxiYWNrKSB7XG4gICAgaWYgKCFjYWxsYmFjayB8fCB0eXBlb2YgY2FsbGJhY2sgIT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICghX3BpbmdSZWNlaXZlZCkge1xuICAgICAgLyoganNoaW50IHZhbGlkdGhpczogdHJ1ZSAqL1xuICAgICAgcmV0dXJuIHRoaXMucGluZyhmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNhbGxiYWNrKF9pc0NhY2hlUnVubmluZyk7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgY2FsbGJhY2soX2lzQ2FjaGVSdW5uaW5nKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBpc1YyUnVubmluZyhjYWxsYmFjaykge1xuICAgIGlmICghY2FsbGJhY2sgfHwgdHlwZW9mIGNhbGxiYWNrICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoIV9waW5nUmVjZWl2ZWQpIHtcbiAgICAgIC8qIGpzaGludCB2YWxpZHRoaXM6IHRydWUgKi9cbiAgICAgIHJldHVybiB0aGlzLnBpbmcoZnVuY3Rpb24gKCkge1xuICAgICAgICBjYWxsYmFjayhfaXNWMlJ1bm5pbmcpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgY2FsbGJhY2soX2lzVjJSdW5uaW5nKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4ge1xuICAgIGdldEZpbGU6IGdldEZpbGUsXG4gICAgaXNSaXNlQ2FjaGVSdW5uaW5nOiBpc1Jpc2VDYWNoZVJ1bm5pbmcsXG4gICAgaXNWMlJ1bm5pbmc6IGlzVjJSdW5uaW5nLFxuICAgIHBpbmc6IHBpbmdcbiAgfTtcblxufSkoKTtcblxuLyogZ2xvYmFsIFdlYkZvbnQgKi9cblxudmFyIFJpc2VWaXNpb24gPSBSaXNlVmlzaW9uIHx8IHt9O1xuXG5SaXNlVmlzaW9uLkNvbW1vbiA9IFJpc2VWaXNpb24uQ29tbW9uIHx8IHt9O1xuXG5SaXNlVmlzaW9uLkNvbW1vbi5VdGlsaXRpZXMgPSAoZnVuY3Rpb24oKSB7XG5cbiAgZnVuY3Rpb24gZ2V0Rm9udENzc1N0eWxlKGNsYXNzTmFtZSwgZm9udE9iaikge1xuICAgIHZhciBmYW1pbHkgPSBcImZvbnQtZmFtaWx5OiBcIiArIGRlY29kZVVSSUNvbXBvbmVudChmb250T2JqLmZvbnQuZmFtaWx5KS5yZXBsYWNlKC8nL2csIFwiXCIpICsgXCI7IFwiO1xuICAgIHZhciBjb2xvciA9IFwiY29sb3I6IFwiICsgKGZvbnRPYmouY29sb3IgPyBmb250T2JqLmNvbG9yIDogZm9udE9iai5mb3JlY29sb3IpICsgXCI7IFwiO1xuICAgIHZhciBzaXplID0gXCJmb250LXNpemU6IFwiICsgKGZvbnRPYmouc2l6ZS5pbmRleE9mKFwicHhcIikgPT09IC0xID8gZm9udE9iai5zaXplICsgXCJweDsgXCIgOiBmb250T2JqLnNpemUgKyBcIjsgXCIpO1xuICAgIHZhciB3ZWlnaHQgPSBcImZvbnQtd2VpZ2h0OiBcIiArIChmb250T2JqLmJvbGQgPyBcImJvbGRcIiA6IFwibm9ybWFsXCIpICsgXCI7IFwiO1xuICAgIHZhciBpdGFsaWMgPSBcImZvbnQtc3R5bGU6IFwiICsgKGZvbnRPYmouaXRhbGljID8gXCJpdGFsaWNcIiA6IFwibm9ybWFsXCIpICsgXCI7IFwiO1xuICAgIHZhciB1bmRlcmxpbmUgPSBcInRleHQtZGVjb3JhdGlvbjogXCIgKyAoZm9udE9iai51bmRlcmxpbmUgPyBcInVuZGVybGluZVwiIDogXCJub25lXCIpICsgXCI7IFwiO1xuICAgIHZhciBoaWdobGlnaHQgPSBcImJhY2tncm91bmQtY29sb3I6IFwiICsgKGZvbnRPYmouaGlnaGxpZ2h0Q29sb3IgPyBmb250T2JqLmhpZ2hsaWdodENvbG9yIDogZm9udE9iai5iYWNrY29sb3IpICsgXCI7XCI7XG5cbiAgICByZXR1cm4gXCIuXCIgKyBjbGFzc05hbWUgKyBcIiB7XCIgKyBmYW1pbHkgKyBjb2xvciArIHNpemUgKyB3ZWlnaHQgKyBpdGFsaWMgKyB1bmRlcmxpbmUgKyBoaWdobGlnaHQgKyBcIn1cIjtcbiAgfVxuXG4gIGZ1bmN0aW9uIGFkZENTU1J1bGVzKHJ1bGVzKSB7XG4gICAgdmFyIHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO1xuXG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aCA9IHJ1bGVzLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICBzdHlsZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShydWxlc1tpXSkpO1xuICAgIH1cblxuICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xuICB9XG5cbiAgLypcbiAgICogTG9hZHMgR29vZ2xlIG9yIGN1c3RvbSBmb250cywgaWYgYXBwbGljYWJsZSwgYW5kIGluamVjdHMgQ1NTIHN0eWxlc1xuICAgKiBpbnRvIHRoZSBoZWFkIG9mIHRoZSBkb2N1bWVudC5cbiAgICpcbiAgICogQHBhcmFtICAgIGFycmF5ICAgIHNldHRpbmdzICAgIEFycmF5IG9mIG9iamVjdHMgd2l0aCB0aGUgZm9sbG93aW5nIGZvcm06XG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW3tcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiY2xhc3NcIjogXCJkYXRlXCIsXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImZvbnRTZXR0aW5nXCI6IHtcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib2xkOiB0cnVlLFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiBcImJsYWNrXCIsXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9udDoge1xuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmFtaWx5OiBcIkFrcm9uaW1cIixcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvbnQ6IFwiQWtyb25pbVwiLFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJWZXJkYW5hXCIsXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImdvb2dsZVwiLFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiBcImh0dHA6Ly9jdXN0b20tZm9udC11cmxcIlxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGlnaGxpZ2h0Q29sb3I6IFwidHJhbnNwYXJlbnRcIixcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGFsaWM6IGZhbHNlLFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6IFwiMjBcIixcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bmRlcmxpbmU6IGZhbHNlXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfV1cbiAgICpcbiAgICogICAgICAgICAgIG9iamVjdCAgIGNvbnRlbnREb2MgICAgRG9jdW1lbnQgb2JqZWN0IGludG8gd2hpY2ggdG8gaW5qZWN0IHN0eWxlc1xuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmQgbG9hZCBmb250cyAob3B0aW9uYWwpLlxuICAgKi9cbiAgZnVuY3Rpb24gbG9hZEZvbnRzKHNldHRpbmdzLCBjYikge1xuICAgIHZhciBmYW1pbGllcyA9IG51bGwsXG4gICAgICBnb29nbGVGYW1pbGllcyA9IFtdLFxuICAgICAgY3VzdG9tRmFtaWxpZXMgPSBbXSxcbiAgICAgIGN1c3RvbVVybHMgPSBbXTtcblxuICAgIGZ1bmN0aW9uIGNhbGxiYWNrKCkge1xuICAgICAgaWYgKGNiICYmIHR5cGVvZiBjYiA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIGNiKCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb25Hb29nbGVGb250c0xvYWRlZCgpIHtcbiAgICAgIGNhbGxiYWNrKCk7XG4gICAgfVxuXG4gICAgaWYgKCFzZXR0aW5ncyB8fCBzZXR0aW5ncy5sZW5ndGggPT09IDApIHtcbiAgICAgIGNhbGxiYWNrKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gQ2hlY2sgZm9yIGN1c3RvbSBjc3MgY2xhc3MgbmFtZXMgYW5kIGFkZCBydWxlcyBpZiBzb1xuICAgIHNldHRpbmdzLmZvckVhY2goZnVuY3Rpb24oaXRlbSkge1xuICAgICAgaWYgKGl0ZW0uY2xhc3MgJiYgaXRlbS5mb250U3R5bGUpIHtcbiAgICAgICAgYWRkQ1NTUnVsZXMoWyBnZXRGb250Q3NzU3R5bGUoaXRlbS5jbGFzcywgaXRlbS5mb250U3R5bGUpIF0pO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gR29vZ2xlIGZvbnRzXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzZXR0aW5ncy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKHNldHRpbmdzW2ldLmZvbnRTdHlsZSAmJiBzZXR0aW5nc1tpXS5mb250U3R5bGUuZm9udC50eXBlICYmXG4gICAgICAgIChzZXR0aW5nc1tpXS5mb250U3R5bGUuZm9udC50eXBlID09PSBcImdvb2dsZVwiKSkge1xuICAgICAgICAvLyBSZW1vdmUgZmFsbGJhY2sgZm9udC5cbiAgICAgICAgZmFtaWxpZXMgPSBzZXR0aW5nc1tpXS5mb250U3R5bGUuZm9udC5mYW1pbHkuc3BsaXQoXCIsXCIpWzBdO1xuXG4gICAgICAgIC8vIHN0cmlwIHBvc3NpYmxlIHNpbmdsZSBxdW90ZXNcbiAgICAgICAgZmFtaWxpZXMgPSBmYW1pbGllcy5yZXBsYWNlKC8nL2csIFwiXCIpO1xuXG4gICAgICAgIGdvb2dsZUZhbWlsaWVzLnB1c2goZmFtaWxpZXMpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIEN1c3RvbSBmb250c1xuICAgIGZvciAoaSA9IDA7IGkgPCBzZXR0aW5ncy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKHNldHRpbmdzW2ldLmZvbnRTdHlsZSAmJiBzZXR0aW5nc1tpXS5mb250U3R5bGUuZm9udC50eXBlICYmXG4gICAgICAgIChzZXR0aW5nc1tpXS5mb250U3R5bGUuZm9udC50eXBlID09PSBcImN1c3RvbVwiKSkge1xuICAgICAgICAvLyBkZWNvZGUgdmFsdWUgYW5kIHN0cmlwIHNpbmdsZSBxdW90ZXNcbiAgICAgICAgY3VzdG9tRmFtaWxpZXMucHVzaChkZWNvZGVVUklDb21wb25lbnQoc2V0dGluZ3NbaV0uZm9udFN0eWxlLmZvbnQuZmFtaWx5KS5yZXBsYWNlKC8nL2csIFwiXCIpKTtcbiAgICAgICAgLy8gc3RyaXAgc2luZ2xlIHF1b3Rlc1xuICAgICAgICBjdXN0b21VcmxzLnB1c2goc2V0dGluZ3NbaV0uZm9udFN0eWxlLmZvbnQudXJsLnJlcGxhY2UoLycvZywgXCJcXFxcJ1wiKSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGdvb2dsZUZhbWlsaWVzLmxlbmd0aCA9PT0gMCAmJiBjdXN0b21GYW1pbGllcy5sZW5ndGggPT09IDApIHtcbiAgICAgIGNhbGxiYWNrKCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgLy8gTG9hZCB0aGUgZm9udHNcbiAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgY3VzdG9tRmFtaWxpZXMubGVuZ3RoOyBqICs9IDEpIHtcbiAgICAgICAgbG9hZEN1c3RvbUZvbnQoY3VzdG9tRmFtaWxpZXNbal0sIGN1c3RvbVVybHNbal0pO1xuICAgICAgfVxuXG4gICAgICBpZiAoZ29vZ2xlRmFtaWxpZXMubGVuZ3RoID4gMCkge1xuICAgICAgICBsb2FkR29vZ2xlRm9udHMoZ29vZ2xlRmFtaWxpZXMsIG9uR29vZ2xlRm9udHNMb2FkZWQpO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gbG9hZEN1c3RvbUZvbnQoZmFtaWx5LCB1cmwsIGNvbnRlbnREb2MpIHtcbiAgICB2YXIgc2hlZXQgPSBudWxsO1xuICAgIHZhciBydWxlID0gXCJmb250LWZhbWlseTogXCIgKyBmYW1pbHkgKyBcIjsgXCIgKyBcInNyYzogdXJsKCdcIiArIHVybCArIFwiJyk7XCI7XG5cbiAgICBjb250ZW50RG9jID0gY29udGVudERvYyB8fCBkb2N1bWVudDtcblxuICAgIHNoZWV0ID0gY29udGVudERvYy5zdHlsZVNoZWV0c1swXTtcblxuICAgIGlmIChzaGVldCAhPT0gbnVsbCkge1xuICAgICAgc2hlZXQuYWRkUnVsZShcIkBmb250LWZhY2VcIiwgcnVsZSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gbG9hZEdvb2dsZUZvbnRzKGZhbWlsaWVzLCBjYikge1xuICAgIFdlYkZvbnQubG9hZCh7XG4gICAgICBnb29nbGU6IHtcbiAgICAgICAgZmFtaWxpZXM6IGZhbWlsaWVzXG4gICAgICB9LFxuICAgICAgYWN0aXZlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKGNiICYmIHR5cGVvZiBjYiA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgY2IoKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGluYWN0aXZlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKGNiICYmIHR5cGVvZiBjYiA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgY2IoKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHRpbWVvdXQ6IDIwMDBcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHByZWxvYWRJbWFnZXModXJscykge1xuICAgIHZhciBsZW5ndGggPSB1cmxzLmxlbmd0aCxcbiAgICAgIGltYWdlcyA9IFtdO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgaW1hZ2VzW2ldID0gbmV3IEltYWdlKCk7XG4gICAgICBpbWFnZXNbaV0uc3JjID0gdXJsc1tpXTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBnZXRRdWVyeVBhcmFtZXRlcihwYXJhbSkge1xuICAgIHZhciBxdWVyeSA9IHdpbmRvdy5sb2NhdGlvbi5zZWFyY2guc3Vic3RyaW5nKDEpLFxuICAgICAgdmFycyA9IHF1ZXJ5LnNwbGl0KFwiJlwiKSxcbiAgICAgIHBhaXI7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZhcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHBhaXIgPSB2YXJzW2ldLnNwbGl0KFwiPVwiKTtcblxuICAgICAgaWYgKHBhaXJbMF0gPT0gcGFyYW0pIHsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG4gICAgICAgIHJldHVybiBkZWNvZGVVUklDb21wb25lbnQocGFpclsxXSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIFwiXCI7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRSaXNlQ2FjaGVFcnJvck1lc3NhZ2Uoc3RhdHVzQ29kZSkge1xuICAgIHZhciBlcnJvck1lc3NhZ2UgPSBcIlwiO1xuICAgIHN3aXRjaCAoc3RhdHVzQ29kZSkge1xuICAgICAgY2FzZSA0MDQ6XG4gICAgICAgIGVycm9yTWVzc2FnZSA9IFwiVGhlIGZpbGUgZG9lcyBub3QgZXhpc3Qgb3IgY2Fubm90IGJlIGFjY2Vzc2VkLlwiO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgNTA3OlxuICAgICAgICBlcnJvck1lc3NhZ2UgPSBcIlRoZXJlIGlzIG5vdCBlbm91Z2ggZGlzayBzcGFjZSB0byBzYXZlIHRoZSBmaWxlIG9uIFJpc2UgQ2FjaGUuXCI7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgZXJyb3JNZXNzYWdlID0gXCJUaGVyZSB3YXMgYSBwcm9ibGVtIHJldHJpZXZpbmcgdGhlIGZpbGUgZnJvbSBSaXNlIENhY2hlLlwiO1xuICAgIH1cblxuICAgIHJldHVybiBlcnJvck1lc3NhZ2U7XG4gIH1cblxuICBmdW5jdGlvbiB1bmVzY2FwZUhUTUwoaHRtbCkge1xuICAgIHZhciBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuXG4gICAgZGl2LmlubmVySFRNTCA9IGh0bWw7XG5cbiAgICByZXR1cm4gZGl2LnRleHRDb250ZW50O1xuICB9XG5cbiAgZnVuY3Rpb24gaGFzSW50ZXJuZXRDb25uZWN0aW9uKGZpbGVQYXRoLCBjYWxsYmFjaykge1xuICAgIHZhciB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcblxuICAgIGlmICghZmlsZVBhdGggfHwgIWNhbGxiYWNrIHx8IHR5cGVvZiBjYWxsYmFjayAhPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgeGhyLm9wZW4oXCJIRUFEXCIsIGZpbGVQYXRoICsgXCI/Y2I9XCIgKyBuZXcgRGF0ZSgpLmdldFRpbWUoKSwgZmFsc2UpO1xuXG4gICAgdHJ5IHtcbiAgICAgIHhoci5zZW5kKCk7XG5cbiAgICAgIGNhbGxiYWNrKCh4aHIuc3RhdHVzID49IDIwMCAmJiB4aHIuc3RhdHVzIDwgMzA0KSk7XG5cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBjYWxsYmFjayhmYWxzZSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrIGlmIGNocm9tZSB2ZXJzaW9uIGlzIHVuZGVyIGEgY2VydGFpbiB2ZXJzaW9uXG4gICAqL1xuICBmdW5jdGlvbiBpc0xlZ2FjeSgpIHtcbiAgICB2YXIgbGVnYWN5VmVyc2lvbiA9IDI1O1xuXG4gICAgdmFyIG1hdGNoID0gbmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvQ2hyb21lXFwvKFxcUyspLyk7XG4gICAgdmFyIHZlcnNpb24gPSBtYXRjaCA/IG1hdGNoWzFdIDogMDtcblxuICAgIGlmICh2ZXJzaW9uKSB7XG4gICAgICB2ZXJzaW9uID0gcGFyc2VJbnQodmVyc2lvbi5zdWJzdHJpbmcoMCx2ZXJzaW9uLmluZGV4T2YoXCIuXCIpKSk7XG5cbiAgICAgIGlmICh2ZXJzaW9uIDw9IGxlZ2FjeVZlcnNpb24pIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBnZXRRdWVyeVBhcmFtZXRlcjogZ2V0UXVlcnlQYXJhbWV0ZXIsXG4gICAgZ2V0Rm9udENzc1N0eWxlOiAgZ2V0Rm9udENzc1N0eWxlLFxuICAgIGFkZENTU1J1bGVzOiAgICAgIGFkZENTU1J1bGVzLFxuICAgIGxvYWRGb250czogICAgICAgIGxvYWRGb250cyxcbiAgICBsb2FkQ3VzdG9tRm9udDogICBsb2FkQ3VzdG9tRm9udCxcbiAgICBsb2FkR29vZ2xlRm9udHM6ICAgbG9hZEdvb2dsZUZvbnRzLFxuICAgIHByZWxvYWRJbWFnZXM6ICAgIHByZWxvYWRJbWFnZXMsXG4gICAgZ2V0UmlzZUNhY2hlRXJyb3JNZXNzYWdlOiBnZXRSaXNlQ2FjaGVFcnJvck1lc3NhZ2UsXG4gICAgdW5lc2NhcGVIVE1MOiB1bmVzY2FwZUhUTUwsXG4gICAgaGFzSW50ZXJuZXRDb25uZWN0aW9uOiBoYXNJbnRlcm5ldENvbm5lY3Rpb24sXG4gICAgaXNMZWdhY3k6IGlzTGVnYWN5XG4gIH07XG59KSgpO1xuXG4vKiBleHBvcnRlZCBjb25maWcgKi9cbmlmICh0eXBlb2YgYW5ndWxhciAhPT0gXCJ1bmRlZmluZWRcIikge1xuICBhbmd1bGFyLm1vZHVsZShcInJpc2V2aXNpb24uY29tbW9uLmkxOG4uY29uZmlnXCIsIFtdKVxuICAgIC5jb25zdGFudChcIkxPQ0FMRVNfUFJFRklYXCIsIFwibG9jYWxlcy90cmFuc2xhdGlvbl9cIilcbiAgICAuY29uc3RhbnQoXCJMT0NBTEVTX1NVRklYXCIsIFwiLmpzb25cIik7XG59XG5cbnZhciBjb25maWcgPSB7XG4gIFNUT1JBR0VfRU5WOiBcInByb2RcIixcbiAgQ09NUE9ORU5UU19QQVRIOiBcImNvbXBvbmVudHMvXCJcbn07XG5cbi8qIGdsb2JhbCBnYWRnZXRzLCBfICovXG5cbnZhciBSaXNlVmlzaW9uID0gUmlzZVZpc2lvbiB8fCB7fTtcblJpc2VWaXNpb24uSW1hZ2UgPSB7fTtcblxuUmlzZVZpc2lvbi5JbWFnZSA9IChmdW5jdGlvbiAoZ2FkZ2V0cykge1xuICBcInVzZSBzdHJpY3RcIjtcblxuICB2YXIgX21vZGU7XG5cbiAgdmFyIF9wcmVmcyA9IG5ldyBnYWRnZXRzLlByZWZzKCksXG4gICAgX21lc3NhZ2UgPSBudWxsLFxuICAgIF9wYXJhbXMgPSBudWxsO1xuXG4gIHZhciBfc3RvcmFnZSA9IG51bGwsXG4gICAgX25vblN0b3JhZ2UgPSBudWxsLFxuICAgIF9zbGlkZXIgPSBudWxsO1xuXG4gIHZhciBfY3VycmVudEZpbGVzID0gW107XG5cbiAgdmFyIF9lcnJvckxvZyA9IG51bGwsXG4gICAgX2NvbmZpZ3VyYXRpb25UeXBlID0gbnVsbCxcbiAgICBfZXJyb3JUaW1lciA9IG51bGwsXG4gICAgX2Vycm9yRmxhZyA9IGZhbHNlLFxuICAgIF9zdG9yYWdlRXJyb3JGbGFnID0gZmFsc2UsXG4gICAgX2NvbmZpZ3VyYXRpb25Mb2dnZWQgPSBmYWxzZSxcbiAgICBfdW5hdmFpbGFibGVGbGFnID0gZmFsc2U7XG5cbiAgdmFyIF92aWV3ZXJQYXVzZWQgPSB0cnVlO1xuXG4gIHZhciBfaW1nID0gbnVsbDtcblxuICAvKlxuICAgKiAgUHJpdmF0ZSBNZXRob2RzXG4gICAqL1xuICBmdW5jdGlvbiBfcmVhZHkoKSB7XG4gICAgZ2FkZ2V0cy5ycGMuY2FsbChcIlwiLCBcInJzZXZlbnRfcmVhZHlcIiwgbnVsbCwgX3ByZWZzLmdldFN0cmluZyhcImlkXCIpLFxuICAgICAgdHJ1ZSwgdHJ1ZSwgdHJ1ZSwgdHJ1ZSwgdHJ1ZSk7XG4gIH1cblxuICBmdW5jdGlvbiBfZG9uZSgpIHtcbiAgICBnYWRnZXRzLnJwYy5jYWxsKFwiXCIsIFwicnNldmVudF9kb25lXCIsIG51bGwsIF9wcmVmcy5nZXRTdHJpbmcoXCJpZFwiKSk7XG5cbiAgICAvLyBBbnkgZXJyb3JzIG5lZWQgdG8gYmUgbG9nZ2VkIGJlZm9yZSB0aGUgZG9uZSBldmVudC5cbiAgICBpZiAoX2Vycm9yTG9nICE9PSBudWxsKSB7XG4gICAgICBsb2dFdmVudChfZXJyb3JMb2csIHRydWUpO1xuICAgIH1cblxuICAgIC8vIGxvZyBcImRvbmVcIiBldmVudFxuICAgIGxvZ0V2ZW50KHsgXCJldmVudFwiOiBcImRvbmVcIiwgXCJmaWxlX3VybFwiOiBfZ2V0Q3VycmVudEZpbGUoKSB9LCBmYWxzZSk7XG4gIH1cblxuICBmdW5jdGlvbiBfY2xlYXJFcnJvclRpbWVyKCkge1xuICAgIGNsZWFyVGltZW91dChfZXJyb3JUaW1lcik7XG4gICAgX2Vycm9yVGltZXIgPSBudWxsO1xuICB9XG5cbiAgZnVuY3Rpb24gX3N0YXJ0RXJyb3JUaW1lcigpIHtcbiAgICBfY2xlYXJFcnJvclRpbWVyKCk7XG5cbiAgICBfZXJyb3JUaW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgLy8gbm90aWZ5IFZpZXdlciB3aWRnZXQgaXMgZG9uZVxuICAgICAgX2RvbmUoKTtcbiAgICB9LCA1MDAwKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9nZXRDdXJyZW50RmlsZSgpIHtcbiAgICB2YXIgc2xpZGVOdW0gPSAtMTtcblxuICAgIGlmIChfY3VycmVudEZpbGVzICYmIF9jdXJyZW50RmlsZXMubGVuZ3RoID4gMCkge1xuICAgICAgaWYgKF9tb2RlID09PSBcImZpbGVcIikge1xuICAgICAgICByZXR1cm4gX2N1cnJlbnRGaWxlc1swXTtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKF9tb2RlID09PSBcImZvbGRlclwiICYmIF9zbGlkZXIgJiYgX3NsaWRlci5pc1JlYWR5KCkpIHtcbiAgICAgICAgLy8gcmV0cmlldmUgdGhlIGN1cnJlbnRseSBwbGF5ZWQgc2xpZGVcbiAgICAgICAgc2xpZGVOdW0gPSBfc2xpZGVyLmdldEN1cnJlbnRTbGlkZSgpO1xuXG4gICAgICAgIGlmIChzbGlkZU51bSAhPT0gLTEpIHtcbiAgICAgICAgICByZXR1cm4gX2N1cnJlbnRGaWxlc1tzbGlkZU51bV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGluaXQoKSB7XG4gICAgdmFyIGNvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY29udGFpbmVyXCIpLFxuICAgICAgZnJhZ21lbnQgPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCksXG4gICAgICBlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksXG4gICAgICBpc1N0b3JhZ2VGaWxlO1xuXG4gICAgLy8gY3JlYXRlIGluc3RhbmNlIG9mIG1lc3NhZ2VcbiAgICBfbWVzc2FnZSA9IG5ldyBSaXNlVmlzaW9uLkltYWdlLk1lc3NhZ2UoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjb250YWluZXJcIiksXG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1lc3NhZ2VDb250YWluZXJcIikpO1xuXG4gICAgLy8gc2hvdyB3YWl0IG1lc3NhZ2VcbiAgICBfbWVzc2FnZS5zaG93KFwiUGxlYXNlIHdhaXQgd2hpbGUgeW91ciBpbWFnZSBpcyBkb3dubG9hZGVkLlwiKTtcblxuICAgIC8vIGxlZ2FjeVxuICAgIGlmIChfcGFyYW1zLmJhY2tncm91bmQgJiYgT2JqZWN0LmtleXMoX3BhcmFtcy5iYWNrZ3JvdW5kKS5sZW5ndGggPiAwKSB7XG4gICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLmJhY2tncm91bmQgPSBfcGFyYW1zLmJhY2tncm91bmQuY29sb3I7XG4gICAgfVxuXG4gICAgaWYgKF9tb2RlID09PSBcImZpbGVcIikge1xuICAgICAgLy8gY3JlYXRlIHRoZSBpbWFnZSA8ZGl2PiB3aXRoaW4gdGhlIGNvbnRhaW5lciA8ZGl2PlxuICAgICAgZWwgPSBfZ2V0SW1hZ2VFbGVtZW50KCk7XG4gICAgICBmcmFnbWVudC5hcHBlbmRDaGlsZChlbCk7XG4gICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoZnJhZ21lbnQpO1xuXG4gICAgICBfaW1nID0gbmV3IEltYWdlKCk7XG5cbiAgICAgIGlzU3RvcmFnZUZpbGUgPSAoT2JqZWN0LmtleXMoX3BhcmFtcy5zdG9yYWdlKS5sZW5ndGggIT09IDApO1xuXG4gICAgICBpZiAoIWlzU3RvcmFnZUZpbGUpIHtcbiAgICAgICAgX2NvbmZpZ3VyYXRpb25UeXBlID0gXCJjdXN0b21cIjtcblxuICAgICAgICBfbm9uU3RvcmFnZSA9IG5ldyBSaXNlVmlzaW9uLkltYWdlLk5vblN0b3JhZ2UoX3BhcmFtcyk7XG4gICAgICAgIF9ub25TdG9yYWdlLmluaXQoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIF9jb25maWd1cmF0aW9uVHlwZSA9IFwic3RvcmFnZSBmaWxlXCI7XG5cbiAgICAgICAgLy8gY3JlYXRlIGFuZCBpbml0aWFsaXplIHRoZSBTdG9yYWdlIGZpbGUgaW5zdGFuY2VcbiAgICAgICAgX3N0b3JhZ2UgPSBuZXcgUmlzZVZpc2lvbi5JbWFnZS5TdG9yYWdlRmlsZShfcGFyYW1zKTtcbiAgICAgICAgX3N0b3JhZ2UuaW5pdCgpO1xuICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmIChfbW9kZSA9PT0gXCJmb2xkZXJcIikge1xuICAgICAgLy8gY3JlYXRlIHRoZSBzbGlkZXIgY29udGFpbmVyIDxkaXY+IHdpdGhpbiB0aGUgY29udGFpbmVyIDxkaXY+XG4gICAgICBlbC5jbGFzc05hbWUgPSBcInRwLWJhbm5lci1jb250YWluZXJcIjtcblxuICAgICAgZnJhZ21lbnQuYXBwZW5kQ2hpbGQoZWwpO1xuICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGZyYWdtZW50KTtcblxuICAgICAgX2NvbmZpZ3VyYXRpb25UeXBlID0gXCJzdG9yYWdlIGZvbGRlclwiO1xuXG4gICAgICAvLyBjcmVhdGUgYW5kIGluaXRpYWxpemUgdGhlIFN0b3JhZ2UgZm9sZGVyIGluc3RhbmNlXG4gICAgICBfc3RvcmFnZSA9IG5ldyBSaXNlVmlzaW9uLkltYWdlLlN0b3JhZ2VGb2xkZXIoX3BhcmFtcyk7XG4gICAgICBfc3RvcmFnZS5pbml0KCk7XG4gICAgfVxuXG4gICAgX3JlYWR5KCk7XG4gIH1cblxuICBmdW5jdGlvbiBfZ2V0SW1hZ2VFbGVtZW50KCkge1xuICAgIHZhciBlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG5cbiAgICBlbC5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBcImltYWdlXCIpO1xuICAgIGVsLmNsYXNzTmFtZSA9IF9wYXJhbXMucG9zaXRpb247XG4gICAgZWwuY2xhc3NOYW1lID0gX3BhcmFtcy5zY2FsZVRvRml0ID8gZWwuY2xhc3NOYW1lICsgXCIgc2NhbGUtdG8tZml0XCIgOiBlbC5jbGFzc05hbWU7XG5cbiAgICByZXR1cm4gZWw7XG4gIH1cblxuICBmdW5jdGlvbiBzZXRTaW5nbGVJbWFnZSh1cmwpIHtcblxuICAgIF9pbWcub25sb2FkID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgaW1hZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2NvbnRhaW5lciAjaW1hZ2VcIik7XG5cbiAgICAgIGltYWdlLnN0eWxlLmJhY2tncm91bmRJbWFnZSA9IFwidXJsKCdcIiArIHVybCArIFwiJylcIjtcblxuICAgICAgLy8gSWYgd2lkZ2V0IGlzIHBsYXlpbmcgcmlnaHQgbm93IG1ha2Ugc3VyZSB0aGUgZGl2IGltYWdlIGVsZW1lbnQgaXMgdmlzaWJsZVxuICAgICAgaWYgKCFfdmlld2VyUGF1c2VkKSB7XG4gICAgICAgIGltYWdlLnN0eWxlLnZpc2liaWxpdHkgPSBcInZpc2libGVcIjtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX2ltZy5vbmVycm9yID0gZnVuY3Rpb24oKSB7XG4gICAgICBsb2dFdmVudCh7XG4gICAgICAgIFwiZXZlbnRcIjogXCJlcnJvclwiLFxuICAgICAgICBcImV2ZW50X2RldGFpbHNcIjogXCJpbWFnZSBsb2FkIGVycm9yXCIsXG4gICAgICAgIFwiZmlsZV91cmxcIjogdXJsXG4gICAgICB9LCB0cnVlKTtcbiAgICB9O1xuXG4gICAgX2ltZy5zcmMgPSB1cmwucmVwbGFjZShcIlxcXFwnXCIsIFwiJ1wiKTsgLy8gaGFuZGxlcyBzcGVjaWFsIGNoYXJhY3RlcnNcbiAgfVxuXG4gIC8qXG4gICAqICBQdWJsaWMgTWV0aG9kc1xuICAgKi9cbiAgZnVuY3Rpb24gaGFzU3RvcmFnZUVycm9yKCkge1xuICAgIHJldHVybiBfc3RvcmFnZUVycm9yRmxhZztcbiAgfVxuXG4gIGZ1bmN0aW9uIGxvZ0V2ZW50KHBhcmFtcywgaXNFcnJvcikge1xuICAgIGlmIChpc0Vycm9yKSB7XG4gICAgICBfZXJyb3JMb2cgPSBwYXJhbXM7XG4gICAgfVxuXG4gICAgUmlzZVZpc2lvbi5Db21tb24uTG9nZ2VyVXRpbHMubG9nRXZlbnQoZ2V0VGFibGVOYW1lKCksIHBhcmFtcyk7XG4gIH1cblxuICBmdW5jdGlvbiBvbkZpbGVJbml0KHVybHMpIHtcbiAgICBpZiAoX21vZGUgPT09IFwiZmlsZVwiKSB7XG4gICAgICAvLyB1cmxzIHZhbHVlIHdpbGwgYmUgYSBzdHJpbmdcbiAgICAgIF9jdXJyZW50RmlsZXNbMF0gPSB1cmxzO1xuXG4gICAgICBfdW5hdmFpbGFibGVGbGFnID0gZmFsc2U7XG5cbiAgICAgIC8vIHJlbW92ZSBhIG1lc3NhZ2UgcHJldmlvdXNseSBzaG93blxuICAgICAgX21lc3NhZ2UuaGlkZSgpO1xuXG4gICAgICBzZXRTaW5nbGVJbWFnZShfY3VycmVudEZpbGVzWzBdKTtcblxuICAgIH0gZWxzZSBpZiAoX21vZGUgPT09IFwiZm9sZGVyXCIpIHtcbiAgICAgIC8vIHVybHMgdmFsdWUgd2lsbCBiZSBhbiBhcnJheVxuICAgICAgX2N1cnJlbnRGaWxlcyA9IHVybHM7XG5cbiAgICAgIC8vIGNyZWF0ZSBzbGlkZXIgaW5zdGFuY2VcbiAgICAgIF9zbGlkZXIgPSBuZXcgUmlzZVZpc2lvbi5JbWFnZS5TbGlkZXIoX3BhcmFtcyk7XG4gICAgICBfc2xpZGVyLmluaXQodXJscyk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gb25GaWxlUmVmcmVzaCh1cmxzKSB7XG4gICAgaWYgKF9tb2RlID09PSBcImZpbGVcIikge1xuICAgICAgLy8gdXJscyB2YWx1ZSB3aWxsIGJlIGEgc3RyaW5nIG9mIG9uZSB1cmxcbiAgICAgIF9jdXJyZW50RmlsZXNbMF0gPSB1cmxzO1xuXG4gICAgICBpZiAoX3VuYXZhaWxhYmxlRmxhZykge1xuICAgICAgICAvLyByZW1vdmUgdGhlIG1lc3NhZ2UgcHJldmlvdXNseSBzaG93blxuICAgICAgICBfbWVzc2FnZS5oaWRlKCk7XG4gICAgICB9XG5cbiAgICAgIHNldFNpbmdsZUltYWdlKF9jdXJyZW50RmlsZXNbMF0pO1xuXG4gICAgfSBlbHNlIGlmIChfbW9kZSA9PT0gXCJmb2xkZXJcIikge1xuICAgICAgLy8gdXJscyB2YWx1ZSB3aWxsIGJlIGFuIGFycmF5IG9mIHVybHNcbiAgICAgIF9jdXJyZW50RmlsZXMgPSB1cmxzO1xuXG4gICAgICBfc2xpZGVyLnJlZnJlc2goX2N1cnJlbnRGaWxlcyk7XG4gICAgfVxuXG4gICAgLy8gaW4gY2FzZSByZWZyZXNoZWQgZmlsZSBmaXhlcyBhbiBlcnJvciB3aXRoIHByZXZpb3VzIGZpbGUsIGVuc3VyZSBmbGFnIGlzIHJlbW92ZWQgc28gcGxheWJhY2sgaXMgYXR0ZW1wdGVkIGFnYWluXG4gICAgX2Vycm9yRmxhZyA9IGZhbHNlO1xuICAgIF9zdG9yYWdlRXJyb3JGbGFnID0gZmFsc2U7XG4gICAgX3VuYXZhaWxhYmxlRmxhZyA9IGZhbHNlO1xuICAgIF9lcnJvckxvZyA9IG51bGw7XG4gIH1cblxuICBmdW5jdGlvbiBvbkZpbGVVbmF2YWlsYWJsZShtZXNzYWdlKSB7XG4gICAgX3VuYXZhaWxhYmxlRmxhZyA9IHRydWU7XG5cbiAgICBfbWVzc2FnZS5zaG93KG1lc3NhZ2UpO1xuXG4gICAgLy8gaWYgV2lkZ2V0IGlzIHBsYXlpbmcgcmlnaHQgbm93LCBydW4gdGhlIHRpbWVyXG4gICAgaWYgKCFfdmlld2VyUGF1c2VkKSB7XG4gICAgICBfc3RhcnRFcnJvclRpbWVyKCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gc2V0QWRkaXRpb25hbFBhcmFtcyhhZGRpdGlvbmFsUGFyYW1zLCBtb2RlVHlwZSkge1xuICAgIF9wYXJhbXMgPSBfLmNsb25lKGFkZGl0aW9uYWxQYXJhbXMpO1xuICAgIF9tb2RlID0gbW9kZVR5cGU7XG5cbiAgICBfcGFyYW1zLndpZHRoID0gX3ByZWZzLmdldEludChcInJzV1wiKTtcbiAgICBfcGFyYW1zLmhlaWdodCA9IF9wcmVmcy5nZXRJbnQoXCJyc0hcIik7XG5cbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNvbnRhaW5lclwiKS5zdHlsZS5oZWlnaHQgPSBfcHJlZnMuZ2V0SW50KFwicnNIXCIpICsgXCJweFwiO1xuICAgIGluaXQoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG9uU2xpZGVyUmVhZHkoKSB7XG4gICAgX21lc3NhZ2UuaGlkZSgpO1xuXG4gICAgaWYgKCFfdmlld2VyUGF1c2VkKSB7XG4gICAgICBfc2xpZGVyLnBsYXkoKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBvblNsaWRlckNvbXBsZXRlKCkge1xuICAgIF9kb25lKCk7XG4gIH1cblxuICBmdW5jdGlvbiBwYXVzZSgpIHtcbiAgICB2YXIgaW1hZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2NvbnRhaW5lciAjaW1hZ2VcIik7XG5cbiAgICBfdmlld2VyUGF1c2VkID0gdHJ1ZTtcblxuICAgIC8vIGluIGNhc2UgZXJyb3IgdGltZXIgc3RpbGwgcnVubmluZyAobm8gY29uZGl0aW9uYWwgY2hlY2sgb24gZXJyb3JGbGFnLCBpdCBtYXkgaGF2ZSBiZWVuIHJlc2V0IGluIG9uRmlsZVJlZnJlc2gpXG4gICAgX2NsZWFyRXJyb3JUaW1lcigpO1xuXG4gICAgaWYgKF9tb2RlID09PSBcImZvbGRlclwiICYmIF9zbGlkZXIgJiYgX3NsaWRlci5pc1JlYWR5KCkpIHtcbiAgICAgIF9zbGlkZXIucGF1c2UoKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoX21vZGUgPT09IFwiZmlsZVwiICYmIGltYWdlKSB7XG4gICAgICBpbWFnZS5zdHlsZS52aXNpYmlsaXR5ID0gXCJoaWRkZW5cIjtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBwbGF5KCkge1xuICAgIHZhciBpbWFnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjY29udGFpbmVyICNpbWFnZVwiKTtcblxuICAgIF92aWV3ZXJQYXVzZWQgPSBmYWxzZTtcblxuICAgIGlmICghX2NvbmZpZ3VyYXRpb25Mb2dnZWQpIHtcbiAgICAgIGxvZ0V2ZW50KHsgXCJldmVudFwiOiBcImNvbmZpZ3VyYXRpb25cIiwgXCJldmVudF9kZXRhaWxzXCI6IF9jb25maWd1cmF0aW9uVHlwZSB9LCBmYWxzZSk7XG4gICAgICBfY29uZmlndXJhdGlvbkxvZ2dlZCA9IHRydWU7XG4gICAgfVxuXG4gICAgbG9nRXZlbnQoeyBcImV2ZW50XCI6IFwicGxheVwiLCBcImZpbGVfdXJsXCI6IF9nZXRDdXJyZW50RmlsZSgpIH0sIGZhbHNlKTtcblxuICAgIGlmIChfZXJyb3JGbGFnKSB7XG4gICAgICBfc3RhcnRFcnJvclRpbWVyKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKF91bmF2YWlsYWJsZUZsYWcpIHtcbiAgICAgIGlmIChfbW9kZSA9PT0gXCJmaWxlXCIgJiYgX3N0b3JhZ2UpIHtcbiAgICAgICAgX3N0b3JhZ2UucmV0cnkoKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChfbW9kZSA9PT0gXCJmb2xkZXJcIiAmJiBfc2xpZGVyICYmIF9zbGlkZXIuaXNSZWFkeSgpKSB7XG4gICAgICBfc2xpZGVyLnBsYXkoKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoX21vZGUgPT09IFwiZmlsZVwiICYmIGltYWdlKSB7XG4gICAgICBpbWFnZS5zdHlsZS52aXNpYmlsaXR5ID0gXCJ2aXNpYmxlXCI7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gZ2V0VGFibGVOYW1lKCkge1xuICAgIHJldHVybiBcImltYWdlX2V2ZW50c1wiO1xuICB9XG5cbiAgZnVuY3Rpb24gc2hvd0Vycm9yKG1lc3NhZ2UsIGlzU3RvcmFnZUVycm9yKSB7XG4gICAgX2Vycm9yRmxhZyA9IHRydWU7XG4gICAgX3N0b3JhZ2VFcnJvckZsYWcgPSB0eXBlb2YgaXNTdG9yYWdlRXJyb3IgIT09IFwidW5kZWZpbmVkXCI7XG5cbiAgICBfbWVzc2FnZS5zaG93KG1lc3NhZ2UpO1xuXG4gICAgLy8gZGVzdHJveSBzbGlkZXIgaWYgaXQgZXhpc3RzIGFuZCBwcmV2aW91c2x5IG5vdGlmaWVkIHJlYWR5XG4gICAgaWYgKF9tb2RlID09PSBcImZvbGRlclwiICYmIF9zbGlkZXIgJiYgX3NsaWRlci5pc1JlYWR5KCkpIHtcbiAgICAgIF9zbGlkZXIuZGVzdHJveSgpO1xuICAgIH1cblxuICAgIGlmICghX3ZpZXdlclBhdXNlZCkge1xuICAgICAgX3N0YXJ0RXJyb3JUaW1lcigpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHN0b3AoKSB7XG4gICAgcGF1c2UoKTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgXCJoYXNTdG9yYWdlRXJyb3JcIjogaGFzU3RvcmFnZUVycm9yLFxuICAgIFwibG9nRXZlbnRcIjogbG9nRXZlbnQsXG4gICAgXCJvbkZpbGVJbml0XCI6IG9uRmlsZUluaXQsXG4gICAgXCJvbkZpbGVSZWZyZXNoXCI6IG9uRmlsZVJlZnJlc2gsXG4gICAgXCJvbkZpbGVVbmF2YWlsYWJsZVwiOiBvbkZpbGVVbmF2YWlsYWJsZSxcbiAgICBcIm9uU2xpZGVyQ29tcGxldGVcIjogb25TbGlkZXJDb21wbGV0ZSxcbiAgICBcIm9uU2xpZGVyUmVhZHlcIjogb25TbGlkZXJSZWFkeSxcbiAgICBcInBhdXNlXCI6IHBhdXNlLFxuICAgIFwicGxheVwiOiBwbGF5LFxuICAgIFwic2V0QWRkaXRpb25hbFBhcmFtc1wiOiBzZXRBZGRpdGlvbmFsUGFyYW1zLFxuICAgIFwiZ2V0VGFibGVOYW1lXCI6IGdldFRhYmxlTmFtZSxcbiAgICBcInNob3dFcnJvclwiOiBzaG93RXJyb3IsXG4gICAgXCJzdG9wXCI6IHN0b3BcbiAgfTtcbn0pKGdhZGdldHMpO1xuXG52YXIgUmlzZVZpc2lvbiA9IFJpc2VWaXNpb24gfHwge307XG5SaXNlVmlzaW9uLkltYWdlID0gUmlzZVZpc2lvbi5JbWFnZSB8fCB7fTtcblxuUmlzZVZpc2lvbi5JbWFnZS5NZXNzYWdlID0gZnVuY3Rpb24gKG1haW5Db250YWluZXIsIG1lc3NhZ2VDb250YWluZXIpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgdmFyIF9hY3RpdmUgPSBmYWxzZTtcblxuICBmdW5jdGlvbiBfaW5pdCgpIHtcbiAgICB0cnkge1xuICAgICAgbWVzc2FnZUNvbnRhaW5lci5zdHlsZS5oZWlnaHQgPSBtYWluQ29udGFpbmVyLnN0eWxlLmhlaWdodDtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBjb25zb2xlLndhcm4oXCJDYW4ndCBpbml0aWFsaXplIE1lc3NhZ2UgLSBcIiwgZS5tZXNzYWdlKTtcbiAgICB9XG4gIH1cblxuICAvKlxuICAgKiAgUHVibGljIE1ldGhvZHNcbiAgICovXG4gIGZ1bmN0aW9uIGhpZGUoKSB7XG4gICAgaWYgKF9hY3RpdmUpIHtcbiAgICAgIC8vIGNsZWFyIGNvbnRlbnQgb2YgbWVzc2FnZSBjb250YWluZXJcbiAgICAgIHdoaWxlIChtZXNzYWdlQ29udGFpbmVyLmZpcnN0Q2hpbGQpIHtcbiAgICAgICAgbWVzc2FnZUNvbnRhaW5lci5yZW1vdmVDaGlsZChtZXNzYWdlQ29udGFpbmVyLmZpcnN0Q2hpbGQpO1xuICAgICAgfVxuXG4gICAgICAvLyBoaWRlIG1lc3NhZ2UgY29udGFpbmVyXG4gICAgICBtZXNzYWdlQ29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcblxuICAgICAgLy8gc2hvdyBtYWluIGNvbnRhaW5lclxuICAgICAgbWFpbkNvbnRhaW5lci5zdHlsZS52aXNpYmlsaXR5ID0gXCJ2aXNpYmxlXCI7XG5cbiAgICAgIF9hY3RpdmUgPSBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBzaG93KG1lc3NhZ2UpIHtcbiAgICB2YXIgZnJhZ21lbnQgPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCksXG4gICAgICBwO1xuXG4gICAgaWYgKCFfYWN0aXZlKSB7XG4gICAgICAvLyBoaWRlIG1haW4gY29udGFpbmVyXG4gICAgICBtYWluQ29udGFpbmVyLnN0eWxlLnZpc2liaWxpdHkgPSBcImhpZGRlblwiO1xuXG4gICAgICBtZXNzYWdlQ29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG5cbiAgICAgIC8vIGNyZWF0ZSBtZXNzYWdlIGVsZW1lbnRcbiAgICAgIHAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcbiAgICAgIHAuaW5uZXJIVE1MID0gbWVzc2FnZTtcbiAgICAgIHAuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJtZXNzYWdlXCIpO1xuXG4gICAgICBmcmFnbWVudC5hcHBlbmRDaGlsZChwKTtcbiAgICAgIG1lc3NhZ2VDb250YWluZXIuYXBwZW5kQ2hpbGQoZnJhZ21lbnQpO1xuXG4gICAgICBfYWN0aXZlID0gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gbWVzc2FnZSBhbHJlYWR5IGJlaW5nIHNob3duLCB1cGRhdGUgbWVzc2FnZSB0ZXh0XG4gICAgICBwID0gbWVzc2FnZUNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKFwiLm1lc3NhZ2VcIik7XG4gICAgICBwLmlubmVySFRNTCA9IG1lc3NhZ2U7XG4gICAgfVxuICB9XG5cbiAgX2luaXQoKTtcblxuICByZXR1cm4ge1xuICAgIFwiaGlkZVwiOiBoaWRlLFxuICAgIFwic2hvd1wiOiBzaG93XG4gIH07XG59O1xuXG4vKiBnbG9iYWwgXyAqL1xudmFyIFJpc2VWaXNpb24gPSBSaXNlVmlzaW9uIHx8IHt9O1xuUmlzZVZpc2lvbi5JbWFnZSA9IFJpc2VWaXNpb24uSW1hZ2UgfHwge307XG5cblJpc2VWaXNpb24uSW1hZ2UuU2xpZGVyID0gZnVuY3Rpb24gKHBhcmFtcykge1xuICBcInVzZSBzdHJpY3RcIjtcblxuICB2YXIgdG90YWxTbGlkZXMgPSAwLFxuICAgICRhcGkgPSBudWxsLFxuICAgIGN1cnJlbnRGaWxlcyA9IG51bGwsXG4gICAgbmV3RmlsZXMgPSBudWxsLFxuICAgIG5hdlRpbWVyID0gbnVsbCxcbiAgICBzbGlkZVRpbWVyID0gbnVsbCxcbiAgICBpc0xhc3RTbGlkZSA9IGZhbHNlLFxuICAgIHJlZnJlc2hTbGlkZXIgPSBmYWxzZSxcbiAgICBpc0xvYWRpbmcgPSB0cnVlLFxuICAgIGlzUGxheWluZyA9IGZhbHNlLFxuICAgIGlzSW50ZXJhY3RpbmcgPSBmYWxzZSxcbiAgICBuYXZUaW1lb3V0ID0gMzAwMDtcblxuICAvKlxuICAgKiAgUHJpdmF0ZSBNZXRob2RzXG4gICAqL1xuICBmdW5jdGlvbiBhZGRTbGlkZXMoKSB7XG4gICAgdmFyIGxpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRwLWJhbm5lciB1bFwiKSxcbiAgICAgIGZyYWdtZW50ID0gZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLFxuICAgICAgc2xpZGVzID0gW10sXG4gICAgICBzbGlkZSA9IG51bGwsXG4gICAgICBpbWFnZSA9IG51bGwsXG4gICAgICBwb3NpdGlvbiA9IFwiXCI7XG5cbiAgICB0b3RhbFNsaWRlcyA9IGN1cnJlbnRGaWxlcy5sZW5ndGg7XG5cbiAgICBjdXJyZW50RmlsZXMuZm9yRWFjaChmdW5jdGlvbihmaWxlKSB7XG4gICAgICBzbGlkZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaVwiKTtcbiAgICAgIGltYWdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKTtcblxuICAgICAgLy8gVHJhbnNpdGlvblxuICAgICAgc2xpZGUuc2V0QXR0cmlidXRlKFwiZGF0YS10cmFuc2l0aW9uXCIsIFwiZmFkZVwiKTtcbiAgICAgIHNsaWRlLnNldEF0dHJpYnV0ZShcImRhdGEtbWFzdGVyc3BlZWRcIiwgNTAwKTtcbiAgICAgIHNsaWRlLnNldEF0dHJpYnV0ZShcImRhdGEtZGVsYXlcIiwgcGFyYW1zLmR1cmF0aW9uICogMTAwMCk7XG5cbiAgICAgIC8vIExhenkgbG9hZFxuICAgICAgaW1hZ2Uuc3JjID0gXCJcIjtcbiAgICAgIGltYWdlLnNldEF0dHJpYnV0ZShcImRhdGEtbGF6eWxvYWRcIiwgZmlsZS51cmwpO1xuXG4gICAgICAvLyBBbGlnbm1lbnRcbiAgICAgIHN3aXRjaCAocGFyYW1zLnBvc2l0aW9uKSB7XG4gICAgICAgIGNhc2UgXCJ0b3AtbGVmdFwiOlxuICAgICAgICAgIHBvc2l0aW9uID0gXCJsZWZ0IHRvcFwiO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwidG9wLWNlbnRlclwiOlxuICAgICAgICAgIHBvc2l0aW9uID0gXCJjZW50ZXIgdG9wXCI7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJ0b3AtcmlnaHRcIjpcbiAgICAgICAgICBwb3NpdGlvbiA9IFwicmlnaHQgdG9wXCI7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJtaWRkbGUtbGVmdFwiOlxuICAgICAgICAgIHBvc2l0aW9uID0gXCJsZWZ0IGNlbnRlclwiO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwibWlkZGxlLWNlbnRlclwiOlxuICAgICAgICAgIHBvc2l0aW9uID0gXCJjZW50ZXIgY2VudGVyXCI7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJtaWRkbGUtcmlnaHRcIjpcbiAgICAgICAgICBwb3NpdGlvbiA9IFwicmlnaHQgY2VudGVyXCI7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJib3R0b20tbGVmdFwiOlxuICAgICAgICAgIHBvc2l0aW9uID0gXCJsZWZ0IGJvdHRvbVwiO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiYm90dG9tLWNlbnRlclwiOlxuICAgICAgICAgIHBvc2l0aW9uID0gXCJjZW50ZXIgYm90dG9tXCI7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJib3R0b20tcmlnaHRcIjpcbiAgICAgICAgICBwb3NpdGlvbiA9IFwicmlnaHQgYm90dG9tXCI7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcG9zaXRpb24gPSBcImxlZnQgdG9wXCI7XG4gICAgICB9XG5cbiAgICAgIGltYWdlLnNldEF0dHJpYnV0ZShcImRhdGEtYmdwb3NpdGlvblwiLCBwb3NpdGlvbik7XG5cbiAgICAgIC8vIFNjYWxlIHRvIEZpdFxuICAgICAgaWYgKHBhcmFtcy5zY2FsZVRvRml0KSB7XG4gICAgICAgIGltYWdlLnNldEF0dHJpYnV0ZShcImRhdGEtYmdmaXRcIiwgXCJjb250YWluXCIpO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIGltYWdlLnNldEF0dHJpYnV0ZShcImRhdGEtYmdmaXRcIiwgXCJub3JtYWxcIik7XG4gICAgICB9XG5cbiAgICAgIHNsaWRlLmFwcGVuZENoaWxkKGltYWdlKTtcbiAgICAgIHNsaWRlcy5wdXNoKHNsaWRlKTtcbiAgICB9KTtcblxuICAgIHNsaWRlcy5mb3JFYWNoKGZ1bmN0aW9uKHNsaWRlKSB7XG4gICAgICBmcmFnbWVudC5hcHBlbmRDaGlsZChzbGlkZSk7XG4gICAgfSk7XG5cbiAgICBsaXN0LmFwcGVuZENoaWxkKGZyYWdtZW50KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG9uU2xpZGVDaGFuZ2VkKGRhdGEpIHtcbiAgICBpZiAoaXNJbnRlcmFjdGluZykge1xuICAgICAgcGF1c2UoKTtcbiAgICB9XG4gICAgLy8gRG9uJ3QgY2FsbCBcImRvbmVcIiBpZiB1c2VyIGlzIGludGVyYWN0aW5nIHdpdGggdGhlIHNsaWRlc2hvdy5cbiAgICBlbHNlIHtcbiAgICAgIGlmIChpc0xhc3RTbGlkZSkge1xuICAgICAgICBpc0xhc3RTbGlkZSA9IGZhbHNlO1xuICAgICAgICBwYXVzZSgpO1xuICAgICAgICBSaXNlVmlzaW9uLkltYWdlLm9uU2xpZGVyQ29tcGxldGUoKTtcblxuICAgICAgICBpZiAocmVmcmVzaFNsaWRlcikge1xuICAgICAgICAgIC8vIERlc3Ryb3kgYW5kIHJlY3JlYXRlIHRoZSBzbGlkZXIgaWYgdGhlIGZpbGVzIGhhdmUgY2hhbmdlZC5cbiAgICAgICAgICBpZiAoJGFwaSkge1xuICAgICAgICAgICAgZGVzdHJveVNsaWRlcigpO1xuICAgICAgICAgICAgaW5pdChuZXdGaWxlcyk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmVmcmVzaFNsaWRlciA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGRhdGEuc2xpZGVJbmRleCA9PT0gdG90YWxTbGlkZXMpIHtcbiAgICAgIGlzTGFzdFNsaWRlID0gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBkZXN0cm95U2xpZGVyKCkge1xuICAgIC8vIFJlbW92ZSBldmVudCBoYW5kbGVycy5cbiAgICAkKFwiYm9keVwiKS5vZmYoXCJ0b3VjaGVuZFwiKTtcbiAgICAkYXBpLm9mZihcInJldm9sdXRpb24uc2xpZGUub25sb2FkZWRcIik7XG4gICAgJGFwaS5vZmYoXCJyZXZvbHV0aW9uLnNsaWRlLm9uY2hhbmdlXCIpO1xuXG4gICAgLy8gTGV0IHRoZSBzbGlkZXIgY2xlYW4gdXAgYWZ0ZXIgaXRzZWxmLlxuICAgICRhcGkucmV2a2lsbCgpO1xuICAgICRhcGkgPSBudWxsO1xuICB9XG5cbiAgLy8gVXNlciBoYXMgaW50ZXJhY3RlZCB3aXRoIHRoZSBzbGlkZXNob3cuXG4gIGZ1bmN0aW9uIGhhbmRsZVVzZXJBY3Rpdml0eSgpIHtcbiAgICBpc0ludGVyYWN0aW5nID0gdHJ1ZTtcbiAgICBjbGVhclRpbWVvdXQoc2xpZGVUaW1lcik7XG5cbiAgICAvLyBNb3ZlIHRvIG5leHQgc2xpZGUgYW5kIHJlc3VtZSB0aGUgc2xpZGVzaG93IGFmdGVyIGEgZGVsYXkuXG4gICAgc2xpZGVUaW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAkYXBpLnJldm5leHQoKTtcbiAgICAgICRhcGkucmV2cmVzdW1lKCk7XG5cbiAgICAgIGlzSW50ZXJhY3RpbmcgPSBmYWxzZTtcbiAgICAgIGlzUGxheWluZyA9IHRydWU7XG4gICAgfSwgcGFyYW1zLnBhdXNlICogMTAwMCk7XG5cbiAgICBoaWRlTmF2KCk7XG4gIH1cblxuICAvLyBIaWRlIHRoZSBuYXZpZ2F0aW9uIGFmdGVyIGEgZGVsYXkuXG4gIGZ1bmN0aW9uIGhpZGVOYXYoKSB7XG4gICAgaWYgKHBhcmFtcy5hdXRvSGlkZSkge1xuICAgICAgY2xlYXJUaW1lb3V0KG5hdlRpbWVyKTtcblxuICAgICAgbmF2VGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAkKFwiLnRwLWxlZnRhcnJvdywgLnRwLXJpZ2h0YXJyb3dcIikuYWRkQ2xhc3MoXCJoaWRlYXJyb3dzXCIpO1xuICAgICAgfSwgbmF2VGltZW91dCk7XG4gICAgfVxuICB9XG5cbiAgLypcbiAgICogIFB1YmxpYyBNZXRob2RzXG4gICAqICBUT0RPOiBUZXN0IHdoYXQgaGFwcGVucyB3aGVuIGZvbGRlciBpc24ndCBmb3VuZC5cbiAgICovXG4gIGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgaWYgKCRhcGkpIHtcbiAgICAgIGlzTGFzdFNsaWRlID0gZmFsc2U7XG4gICAgICBwYXVzZSgpO1xuICAgICAgZGVzdHJveVNsaWRlcigpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGdldEN1cnJlbnRTbGlkZSgpIHtcbiAgICBpZiAoJGFwaSAmJiBjdXJyZW50RmlsZXMgJiYgY3VycmVudEZpbGVzLmxlbmd0aCA+IDApIHtcbiAgICAgIHJldHVybiAkYXBpLnJldmN1cnJlbnRzbGlkZSgpO1xuICAgIH1cblxuICAgIHJldHVybiAtMTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGluaXQoZmlsZXMpIHtcbiAgICB2YXIgdHBCYW5uZXJDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRwLWJhbm5lci1jb250YWluZXJcIiksXG4gICAgICBmcmFnbWVudCA9IGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSxcbiAgICAgIHRwQmFubmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSxcbiAgICAgIHVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInVsXCIpO1xuXG4gICAgdHBCYW5uZXIuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJ0cC1iYW5uZXJcIik7XG4gICAgdHBCYW5uZXIuYXBwZW5kQ2hpbGQodWwpO1xuICAgIGZyYWdtZW50LmFwcGVuZENoaWxkKHRwQmFubmVyKTtcbiAgICB0cEJhbm5lckNvbnRhaW5lci5hcHBlbmRDaGlsZChmcmFnbWVudCk7XG5cbiAgICBjdXJyZW50RmlsZXMgPSBfLmNsb25lKGZpbGVzKTtcblxuICAgIGFkZFNsaWRlcygpO1xuXG4gICAgaXNMb2FkaW5nID0gdHJ1ZTtcbiAgICAkYXBpID0gJChcIi50cC1iYW5uZXJcIikucmV2b2x1dGlvbih7XG4gICAgICBcImhpZGVUaHVtYnNcIjogMCxcbiAgICAgIFwiaGlkZVRpbWVyQmFyXCI6IFwib25cIixcbiAgICAgIFwibmF2aWdhdGlvblR5cGVcIjogXCJub25lXCIsXG4gICAgICBcIm9uSG92ZXJTdG9wXCI6IFwib2ZmXCIsXG4gICAgICBcInN0YXJ0d2lkdGhcIjogcGFyYW1zLndpZHRoLFxuICAgICAgXCJzdGFydGhlaWdodFwiOiBwYXJhbXMuaGVpZ2h0XG4gICAgfSk7XG5cbiAgICAkYXBpLm9uKFwicmV2b2x1dGlvbi5zbGlkZS5vbmxvYWRlZFwiLCBmdW5jdGlvbigpIHtcbiAgICAgIC8vIFBhdXNlIHNsaWRlc2hvdyBzaW5jZSBpdCB3aWxsIGF1dG9wbGF5IGFuZCB0aGlzIGlzIG5vdCBjb25maWd1cmFibGUuXG4gICAgICBwYXVzZSgpO1xuICAgICAgaXNMb2FkaW5nID0gZmFsc2U7XG4gICAgICBSaXNlVmlzaW9uLkltYWdlLm9uU2xpZGVyUmVhZHkoKTtcbiAgICB9KTtcblxuICAgICRhcGkub24oXCJyZXZvbHV0aW9uLnNsaWRlLm9uY2hhbmdlXCIsIGZ1bmN0aW9uIChlLCBkYXRhKSB7XG4gICAgICBvblNsaWRlQ2hhbmdlZChkYXRhKTtcbiAgICB9KTtcblxuICAgIC8vIFN3aXBlIHRoZSBzbGlkZXIuXG4gICAgJChcImJvZHlcIikub24oXCJ0b3VjaGVuZFwiLCBcIi50cC1iYW5uZXJcIiwgZnVuY3Rpb24oKSB7XG4gICAgICBoYW5kbGVVc2VyQWN0aXZpdHkoKTtcbiAgICAgICQoXCIudHAtbGVmdGFycm93LCAudHAtcmlnaHRhcnJvd1wiKS5yZW1vdmVDbGFzcyhcImhpZGVhcnJvd3NcIik7XG4gICAgfSk7XG5cbiAgICAvLyBUb3VjaCB0aGUgbmF2aWdhdGlvbiBhcnJvd3MuXG4gICAgJChcImJvZHlcIikub24oXCJ0b3VjaGVuZFwiLCBcIi50cC1sZWZ0YXJyb3csIC50cC1yaWdodGFycm93XCIsIGZ1bmN0aW9uKCkge1xuICAgICAgaGFuZGxlVXNlckFjdGl2aXR5KCk7XG4gICAgfSk7XG5cbiAgICBoaWRlTmF2KCk7XG4gIH1cblxuICBmdW5jdGlvbiBpc1JlYWR5KCkge1xuICAgIHJldHVybiAhaXNMb2FkaW5nO1xuICB9XG5cbiAgZnVuY3Rpb24gcGxheSgpIHtcbiAgICBpZiAoJGFwaSkge1xuICAgICAgLy8gUmVzZXQgc2xpZGVzaG93IHRvIGZpcnN0IHNsaWRlLlxuICAgICAgaWYgKHBhcmFtcy5oYXNPd25Qcm9wZXJ0eShcInJlc3VtZVwiKSAmJiAhcGFyYW1zLnJlc3VtZSkge1xuICAgICAgICAkYXBpLnJldnNob3dzbGlkZSgwKTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFpc1BsYXlpbmcpIHtcbiAgICAgICAgJGFwaS5yZXZyZXN1bWUoKTtcbiAgICAgICAgaXNQbGF5aW5nID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBwYXVzZSgpIHtcbiAgICBpZiAoJGFwaSAmJiBpc1BsYXlpbmcpIHtcbiAgICAgICRhcGkucmV2cGF1c2UoKTtcbiAgICAgIGlzUGxheWluZyA9IGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHJlZnJlc2goZmlsZXMpIHtcbiAgICAvLyBTdGFydCBwcmVsb2FkaW5nIGltYWdlcyByaWdodCBhd2F5LlxuICAgIFJpc2VWaXNpb24uQ29tbW9uLlV0aWxpdGllcy5wcmVsb2FkSW1hZ2VzKGZpbGVzKTtcbiAgICBuZXdGaWxlcyA9IF8uY2xvbmUoZmlsZXMpO1xuICAgIHJlZnJlc2hTbGlkZXIgPSB0cnVlO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBcImdldEN1cnJlbnRTbGlkZVwiOiBnZXRDdXJyZW50U2xpZGUsXG4gICAgXCJkZXN0cm95XCI6IGRlc3Ryb3ksXG4gICAgXCJpbml0XCI6IGluaXQsXG4gICAgXCJpc1JlYWR5XCI6IGlzUmVhZHksXG4gICAgXCJwbGF5XCI6IHBsYXksXG4gICAgXCJwYXVzZVwiOiBwYXVzZSxcbiAgICBcInJlZnJlc2hcIjogcmVmcmVzaFxuICB9O1xufTtcblxuLyogZ2xvYmFsIGNvbmZpZyAqL1xudmFyIFJpc2VWaXNpb24gPSBSaXNlVmlzaW9uIHx8IHt9O1xuUmlzZVZpc2lvbi5JbWFnZSA9IFJpc2VWaXNpb24uSW1hZ2UgfHwge307XG5cblJpc2VWaXNpb24uSW1hZ2UuU3RvcmFnZUZpbGUgPSBmdW5jdGlvbiAocGFyYW1zKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuXG4gIHZhciBfaW5pdGlhbExvYWQgPSB0cnVlO1xuXG4gIC8qXG4gICAqICBQdWJsaWMgTWV0aG9kc1xuICAgKi9cbiAgZnVuY3Rpb24gaW5pdCgpIHtcbiAgICB2YXIgc3RvcmFnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJyaXNlLXN0b3JhZ2VcIik7XG5cbiAgICBzdG9yYWdlLmFkZEV2ZW50TGlzdGVuZXIoXCJyaXNlLXN0b3JhZ2UtcmVzcG9uc2VcIiwgZnVuY3Rpb24oZSkge1xuICAgICAgdmFyIHVybDtcblxuICAgICAgaWYgKGUuZGV0YWlsICYmIGUuZGV0YWlsLnVybCkge1xuXG4gICAgICAgIHVybCA9IGUuZGV0YWlsLnVybC5yZXBsYWNlKFwiJ1wiLCBcIlxcXFwnXCIpO1xuXG4gICAgICAgIGlmIChfaW5pdGlhbExvYWQpIHtcbiAgICAgICAgICBfaW5pdGlhbExvYWQgPSBmYWxzZTtcblxuICAgICAgICAgIFJpc2VWaXNpb24uSW1hZ2Uub25GaWxlSW5pdCh1cmwpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIC8vIGNoZWNrIGZvciBcImNoYW5nZWRcIiBwcm9wZXJ0eVxuICAgICAgICAgIGlmIChlLmRldGFpbC5oYXNPd25Qcm9wZXJ0eShcImNoYW5nZWRcIikpIHtcbiAgICAgICAgICAgIGlmIChlLmRldGFpbC5jaGFuZ2VkKSB7XG4gICAgICAgICAgICAgIFJpc2VWaXNpb24uSW1hZ2Uub25GaWxlUmVmcmVzaCh1cmwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgIC8vIGluIHRoZSBldmVudCBvZiBhIG5ldHdvcmsgZmFpbHVyZSBhbmQgcmVjb3ZlcnksIGNoZWNrIGlmIHRoZSBXaWRnZXQgaXMgaW4gYSBzdGF0ZSBvZiBzdG9yYWdlIGVycm9yXG4gICAgICAgICAgICAgIGlmIChSaXNlVmlzaW9uLkltYWdlLmhhc1N0b3JhZ2VFcnJvcigpKSB7XG4gICAgICAgICAgICAgICAgLy8gcHJvY2VlZCB3aXRoIHJlZnJlc2ggbG9naWMgc28gdGhlIFdpZGdldCBjYW4gZXZlbnR1YWxseSBwbGF5IHZpZGVvIGFnYWluIGZyb20gYSBuZXR3b3JrIHJlY292ZXJ5XG4gICAgICAgICAgICAgICAgUmlzZVZpc2lvbi5JbWFnZS5vbkZpbGVSZWZyZXNoKGUuZGV0YWlsLnVybCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHN0b3JhZ2UuYWRkRXZlbnRMaXN0ZW5lcihcInJpc2Utc3RvcmFnZS1hcGktZXJyb3JcIiwgZnVuY3Rpb24oZSkge1xuICAgICAgdmFyIHBhcmFtcyA9IHtcbiAgICAgICAgICBcImV2ZW50XCI6IFwiZXJyb3JcIixcbiAgICAgICAgICBcImV2ZW50X2RldGFpbHNcIjogXCJzdG9yYWdlIGFwaSBlcnJvclwiLFxuICAgICAgICAgIFwiZXJyb3JfZGV0YWlsc1wiOiBcIlJlc3BvbnNlIGNvZGU6IFwiICsgZS5kZXRhaWwuY29kZSArIFwiLCBtZXNzYWdlOiBcIiArIGUuZGV0YWlsLm1lc3NhZ2VcbiAgICAgICAgfTtcblxuICAgICAgUmlzZVZpc2lvbi5JbWFnZS5sb2dFdmVudChwYXJhbXMsIHRydWUpO1xuICAgICAgUmlzZVZpc2lvbi5JbWFnZS5zaG93RXJyb3IoXCJTb3JyeSwgdGhlcmUgd2FzIGEgcHJvYmxlbSBjb21tdW5pY2F0aW5nIHdpdGggUmlzZSBTdG9yYWdlLlwiKTtcbiAgICB9KTtcblxuICAgIHN0b3JhZ2UuYWRkRXZlbnRMaXN0ZW5lcihcInJpc2Utc3RvcmFnZS1uby1maWxlXCIsIGZ1bmN0aW9uKGUpIHtcbiAgICAgIHZhciBwYXJhbXMgPSB7XG4gICAgICAgIFwiZXZlbnRcIjogXCJlcnJvclwiLFxuICAgICAgICBcImV2ZW50X2RldGFpbHNcIjogXCJzdG9yYWdlIGZpbGUgbm90IGZvdW5kXCIsXG4gICAgICAgIFwiZmlsZV91cmxcIjogZS5kZXRhaWxcbiAgICAgIH0sXG4gICAgICAgIGltZyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiaW1hZ2VcIik7XG5cbiAgICAgIC8vIGNsZWFyIHRoZSBleGlzdGluZyBpbWFnZVxuICAgICAgaW1nLnN0eWxlLmJhY2tncm91bmQgPSBcIlwiO1xuXG4gICAgICBSaXNlVmlzaW9uLkltYWdlLmxvZ0V2ZW50KHBhcmFtcywgdHJ1ZSk7XG4gICAgICBSaXNlVmlzaW9uLkltYWdlLnNob3dFcnJvcihcIlRoZSBzZWxlY3RlZCBpbWFnZSBkb2VzIG5vdCBleGlzdCBvciBoYXMgYmVlbiBtb3ZlZCB0byBUcmFzaC5cIik7XG4gICAgfSk7XG5cbiAgICBzdG9yYWdlLmFkZEV2ZW50TGlzdGVuZXIoXCJyaXNlLXN0b3JhZ2UtZmlsZS10aHJvdHRsZWRcIiwgZnVuY3Rpb24oZSkge1xuICAgICAgdmFyIHBhcmFtcyA9IHtcbiAgICAgICAgXCJldmVudFwiOiBcImVycm9yXCIsXG4gICAgICAgIFwiZXZlbnRfZGV0YWlsc1wiOiBcInN0b3JhZ2UgZmlsZSB0aHJvdHRsZWRcIixcbiAgICAgICAgXCJmaWxlX3VybFwiOiBlLmRldGFpbFxuICAgICAgfTtcblxuICAgICAgUmlzZVZpc2lvbi5JbWFnZS5sb2dFdmVudChwYXJhbXMsIHRydWUpO1xuICAgICAgUmlzZVZpc2lvbi5JbWFnZS5zaG93RXJyb3IoXCJUaGUgc2VsZWN0ZWQgaW1hZ2UgaXMgdGVtcG9yYXJpbHkgdW5hdmFpbGFibGUuXCIpO1xuICAgIH0pO1xuXG4gICAgc3RvcmFnZS5hZGRFdmVudExpc3RlbmVyKFwicmlzZS1zdG9yYWdlLXN1YnNjcmlwdGlvbi1leHBpcmVkXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHBhcmFtcyA9IHtcbiAgICAgICAgXCJldmVudFwiOiBcImVycm9yXCIsXG4gICAgICAgIFwiZXZlbnRfZGV0YWlsc1wiOiBcInN0b3JhZ2Ugc3Vic2NyaXB0aW9uIGV4cGlyZWRcIlxuICAgICAgfTtcblxuICAgICAgUmlzZVZpc2lvbi5JbWFnZS5sb2dFdmVudChwYXJhbXMsIHRydWUpO1xuICAgICAgUmlzZVZpc2lvbi5JbWFnZS5zaG93RXJyb3IoXCJSaXNlIFN0b3JhZ2Ugc3Vic2NyaXB0aW9uIGlzIG5vdCBhY3RpdmUuXCIpO1xuICAgIH0pO1xuXG4gICAgc3RvcmFnZS5hZGRFdmVudExpc3RlbmVyKFwicmlzZS1zdG9yYWdlLWVycm9yXCIsIGZ1bmN0aW9uKGUpIHtcbiAgICAgIHZhciBmaWxlVXJsID0gKGUuZGV0YWlsICYmIGUuZGV0YWlsLnJlcXVlc3QgJiYgZS5kZXRhaWwucmVxdWVzdC51cmwpID8gZS5kZXRhaWwucmVxdWVzdC51cmwgOiBudWxsLFxuICAgICAgICBwYXJhbXMgPSB7XG4gICAgICAgICAgXCJldmVudFwiOiBcImVycm9yXCIsXG4gICAgICAgICAgXCJldmVudF9kZXRhaWxzXCI6IFwicmlzZSBzdG9yYWdlIGVycm9yXCIsXG4gICAgICAgICAgXCJlcnJvcl9kZXRhaWxzXCI6IFwiVGhlIHJlcXVlc3QgZmFpbGVkIHdpdGggc3RhdHVzIGNvZGU6IFwiICsgZS5kZXRhaWwuZXJyb3IuY3VycmVudFRhcmdldC5zdGF0dXMsXG4gICAgICAgICAgXCJmaWxlX3VybFwiOiBmaWxlVXJsXG4gICAgICAgIH07XG5cbiAgICAgIFJpc2VWaXNpb24uSW1hZ2UubG9nRXZlbnQocGFyYW1zLCB0cnVlKTtcbiAgICAgIFJpc2VWaXNpb24uSW1hZ2Uuc2hvd0Vycm9yKFwiU29ycnksIHRoZXJlIHdhcyBhIHByb2JsZW0gY29tbXVuaWNhdGluZyB3aXRoIFJpc2UgU3RvcmFnZS5cIiwgdHJ1ZSk7XG4gICAgfSk7XG5cbiAgICBzdG9yYWdlLmFkZEV2ZW50TGlzdGVuZXIoXCJyaXNlLWNhY2hlLWVycm9yXCIsIGZ1bmN0aW9uKGUpIHtcbiAgICAgIHZhciBmaWxlVXJsID0gKGUuZGV0YWlsICYmIGUuZGV0YWlsLnJlcXVlc3QgJiYgZS5kZXRhaWwucmVxdWVzdC51cmwpID8gZS5kZXRhaWwucmVxdWVzdC51cmwgOiBudWxsLFxuICAgICAgICBwYXJhbXMgPSB7XG4gICAgICAgICAgXCJldmVudFwiOiBcImVycm9yXCIsXG4gICAgICAgICAgXCJldmVudF9kZXRhaWxzXCI6IFwicmlzZSBjYWNoZSBlcnJvclwiLFxuICAgICAgICAgIFwiZXJyb3JfZGV0YWlsc1wiOiBlLmRldGFpbC5lcnJvci5tZXNzYWdlLFxuICAgICAgICAgIFwiZmlsZV91cmxcIjogZmlsZVVybFxuICAgICAgICB9O1xuXG4gICAgICBSaXNlVmlzaW9uLkltYWdlLmxvZ0V2ZW50KHBhcmFtcywgdHJ1ZSk7XG5cbiAgICAgIHZhciBzdGF0dXNDb2RlID0gMDtcbiAgICAgIC8vIFNob3cgYSBkaWZmZXJlbnQgbWVzc2FnZSBpZiB0aGVyZSBpcyBhIDQwNCBjb21pbmcgZnJvbSByaXNlIGNhY2hlXG4gICAgICBpZihlLmRldGFpbC5lcnJvci5tZXNzYWdlKXtcbiAgICAgICAgc3RhdHVzQ29kZSA9ICtlLmRldGFpbC5lcnJvci5tZXNzYWdlLnN1YnN0cmluZyhlLmRldGFpbC5lcnJvci5tZXNzYWdlLmluZGV4T2YoXCI6XCIpKzIpO1xuICAgICAgfVxuXG4gICAgICB2YXIgZXJyb3JNZXNzYWdlID0gUmlzZVZpc2lvbi5Db21tb24uVXRpbGl0aWVzLmdldFJpc2VDYWNoZUVycm9yTWVzc2FnZShzdGF0dXNDb2RlKTtcbiAgICAgIFJpc2VWaXNpb24uSW1hZ2Uuc2hvd0Vycm9yKGVycm9yTWVzc2FnZSk7XG4gICAgfSk7XG5cbiAgICBzdG9yYWdlLmFkZEV2ZW50TGlzdGVuZXIoXCJyaXNlLWNhY2hlLW5vdC1ydW5uaW5nXCIsIGZ1bmN0aW9uKGUpIHtcblxuICAgICAgdmFyIHBhcmFtcyA9IHtcbiAgICAgICAgXCJldmVudFwiOiBcImVycm9yXCIsXG4gICAgICAgIFwiZXZlbnRfZGV0YWlsc1wiOiBcInJpc2UgY2FjaGUgbm90IHJ1bm5pbmdcIixcbiAgICAgICAgXCJlcnJvcl9kZXRhaWxzXCI6IChlLmRldGFpbCAmJiBlLmRldGFpbC5lcnJvcik/IGUuZGV0YWlsLmVycm9yLm1lc3NhZ2U6IFwiXCJcbiAgICAgIH07XG5cbiAgICAgIFJpc2VWaXNpb24uSW1hZ2UubG9nRXZlbnQocGFyYW1zLCB0cnVlKTtcbiAgICB9KTtcblxuICAgIHN0b3JhZ2UuYWRkRXZlbnRMaXN0ZW5lcihcInJpc2UtY2FjaGUtZmlsZS11bmF2YWlsYWJsZVwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICBSaXNlVmlzaW9uLkltYWdlLm9uRmlsZVVuYXZhaWxhYmxlKFwiRmlsZSBpcyBkb3dubG9hZGluZ1wiKTtcbiAgICB9KTtcblxuICAgIHN0b3JhZ2Uuc2V0QXR0cmlidXRlKFwiZm9sZGVyXCIsIHBhcmFtcy5zdG9yYWdlLmZvbGRlcik7XG4gICAgc3RvcmFnZS5zZXRBdHRyaWJ1dGUoXCJmaWxlTmFtZVwiLCBwYXJhbXMuc3RvcmFnZS5maWxlTmFtZSk7XG4gICAgc3RvcmFnZS5zZXRBdHRyaWJ1dGUoXCJjb21wYW55SWRcIiwgcGFyYW1zLnN0b3JhZ2UuY29tcGFueUlkKTtcbiAgICBzdG9yYWdlLnNldEF0dHJpYnV0ZShcImVudlwiLCBjb25maWcuU1RPUkFHRV9FTlYpO1xuICAgIHN0b3JhZ2UuZ28oKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJldHJ5KCkge1xuICAgIHZhciBzdG9yYWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcInJpc2Utc3RvcmFnZVwiKTtcblxuICAgIGlmICghc3RvcmFnZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHN0b3JhZ2UuZ28oKTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgXCJpbml0XCI6IGluaXQsXG4gICAgXCJyZXRyeVwiOiByZXRyeVxuICB9O1xufTtcblxuLyogZ2xvYmFsIGNvbmZpZywgXyAqL1xuXG52YXIgUmlzZVZpc2lvbiA9IFJpc2VWaXNpb24gfHwge307XG5SaXNlVmlzaW9uLkltYWdlID0gUmlzZVZpc2lvbi5JbWFnZSB8fCB7fTtcblxuUmlzZVZpc2lvbi5JbWFnZS5TdG9yYWdlRm9sZGVyID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgdmFyIF9pc0xvYWRpbmcgPSB0cnVlLFxuICAgIF9maWxlcyA9IFtdLFxuICAgIF90aW1lciA9IG51bGw7XG5cbiAgZnVuY3Rpb24gcHJvY2Vzc1VybChlKSB7XG4gICAgdmFyIGZpbGU7XG5cbiAgICBpZiAoZS5kZXRhaWwpIHtcblxuICAgICAgLy8gSW1hZ2UgaGFzIGJlZW4gYWRkZWQuXG4gICAgICBpZiAoZS5kZXRhaWwuYWRkZWQpIHtcbiAgICAgICAgX2ZpbGVzLnB1c2goe1xuICAgICAgICAgIFwibmFtZVwiOiBlLmRldGFpbC5uYW1lLFxuICAgICAgICAgIFwidXJsXCI6IGUuZGV0YWlsLnVybFxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgLy8gSW1hZ2UgaGFzIGJlZW4gY2hhbmdlZC5cbiAgICAgIGlmIChlLmRldGFpbC5jaGFuZ2VkKSB7XG4gICAgICAgIGZpbGUgPSBfLmZpbmQoX2ZpbGVzLCBmdW5jdGlvbiAoZmlsZSkge1xuICAgICAgICAgIHJldHVybiBmaWxlLm5hbWUgPT09IGUuZGV0YWlsLm5hbWU7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGZpbGUudXJsID0gZS5kZXRhaWwudXJsO1xuICAgICAgfVxuXG4gICAgICAvLyBJbWFnZSBoYXMgYmVlbiBkZWxldGVkLlxuICAgICAgaWYgKGUuZGV0YWlsLmRlbGV0ZWQpIHtcbiAgICAgICAgX2ZpbGVzID0gXy5yZWplY3QoX2ZpbGVzLCBmdW5jdGlvbihmaWxlKSB7XG4gICAgICAgICAgcmV0dXJuIGZpbGUubmFtZSA9PT0gZS5kZXRhaWwubmFtZTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgX2ZpbGVzID0gXy5zb3J0QnkoX2ZpbGVzLCBmdW5jdGlvbihmaWxlKSB7XG4gICAgICByZXR1cm4gZmlsZS5uYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBoYW5kbGVSZXNwb25zZShlKSB7XG4gICAgcHJvY2Vzc1VybChlKTtcblxuICAgIC8vIEltYWdlIGhhcyBiZWVuIGFkZGVkLlxuICAgIGlmIChlLmRldGFpbC5hZGRlZCkge1xuICAgICAgaWYgKF9pc0xvYWRpbmcpIHtcbiAgICAgICAgLy8gTmVlZCB0byB3YWl0IGZvciBhdCBsZWFzdCAyIGltYWdlcyB0byBsb2FkIGJlZm9yZSBpbml0aWFsaXppbmcgdGhlIHNsaWRlci5cbiAgICAgICAgLy8gT3RoZXJ3aXNlLCB0aGUgcmV2b2x1dGlvbi5zbGlkZS5vbmNoYW5nZSBldmVudCB3aWxsIG5ldmVyIGZpcmUsIGFuZCB0aGlzIGV2ZW50IGlzIHVzZWRcbiAgICAgICAgLy8gdG8gY2hlY2sgd2hldGhlciBvciBub3QgdGhlIHNsaWRlciBzaG91bGQgcmVmcmVzaC5cbiAgICAgICAgaWYgKF9maWxlcy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgX2lzTG9hZGluZyA9IGZhbHNlO1xuXG4gICAgICAgICAgY2xlYXJUaW1lb3V0KF90aW1lcik7XG4gICAgICAgICAgUmlzZVZpc2lvbi5JbWFnZS5vbkZpbGVJbml0KF9maWxlcyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gU2V0IGEgdGltZW91dCBpbiBjYXNlIHRoZXJlIGlzIG9ubHkgb25lIGltYWdlIGluIHRoZSBmb2xkZXIuXG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIF90aW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBfaXNMb2FkaW5nID0gZmFsc2U7XG4gICAgICAgICAgICBSaXNlVmlzaW9uLkltYWdlLm9uRmlsZUluaXQoX2ZpbGVzKTtcbiAgICAgICAgICB9LCA1MDAwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBVbmNoYW5nZWRcbiAgICBpZiAoZS5kZXRhaWwuaGFzT3duUHJvcGVydHkoXCJjaGFuZ2VkXCIpICYmICFlLmRldGFpbC5jaGFuZ2VkKSB7XG4gICAgICAvLyBpbiB0aGUgZXZlbnQgb2YgYSBuZXR3b3JrIGZhaWx1cmUgYW5kIHJlY292ZXJ5LCBjaGVjayBpZiB0aGUgV2lkZ2V0IGlzIGluIGEgc3RhdGUgb2Ygc3RvcmFnZSBlcnJvclxuICAgICAgaWYgKCFSaXNlVmlzaW9uLkltYWdlLmhhc1N0b3JhZ2VFcnJvcigpKSB7XG4gICAgICAgIC8vIG9ubHkgcHJvY2VlZCB3aXRoIHJlZnJlc2ggbG9naWMgYmVsb3cgaWYgdGhlcmUncyBiZWVuIGEgc3RvcmFnZSBlcnJvciwgb3RoZXJ3aXNlIGRvIG5vdGhpbmdcbiAgICAgICAgLy8gdGhpcyBpcyBzbyB0aGUgV2lkZ2V0IGNhbiBldmVudHVhbGx5IHBsYXkgc2xpZGVzaG93IGFnYWluIGZyb20gYSBuZXR3b3JrIHJlY292ZXJ5XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBSaXNlVmlzaW9uLkltYWdlLm9uRmlsZVJlZnJlc2goX2ZpbGVzKTtcbiAgfVxuXG4gIC8qXG4gICAqICBQdWJsaWMgTWV0aG9kc1xuICAgKi9cbiAgZnVuY3Rpb24gaW5pdCgpIHtcbiAgICB2YXIgc3RvcmFnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJyaXNlLXN0b3JhZ2VcIik7XG5cbiAgICBzdG9yYWdlLmFkZEV2ZW50TGlzdGVuZXIoXCJyaXNlLXN0b3JhZ2UtcmVzcG9uc2VcIiwgaGFuZGxlUmVzcG9uc2UpO1xuXG4gICAgc3RvcmFnZS5hZGRFdmVudExpc3RlbmVyKFwicmlzZS1zdG9yYWdlLWFwaS1lcnJvclwiLCBmdW5jdGlvbihlKSB7XG4gICAgICB2YXIgcGFyYW1zID0ge1xuICAgICAgICBcImV2ZW50XCI6IFwiZXJyb3JcIixcbiAgICAgICAgXCJldmVudF9kZXRhaWxzXCI6IFwic3RvcmFnZSBhcGkgZXJyb3JcIixcbiAgICAgICAgXCJlcnJvcl9kZXRhaWxzXCI6IFwiUmVzcG9uc2UgY29kZTogXCIgKyBlLmRldGFpbC5jb2RlICsgXCIsIG1lc3NhZ2U6IFwiICsgZS5kZXRhaWwubWVzc2FnZVxuICAgICAgfTtcblxuICAgICAgUmlzZVZpc2lvbi5JbWFnZS5sb2dFdmVudChwYXJhbXMsIHRydWUpO1xuICAgICAgUmlzZVZpc2lvbi5JbWFnZS5zaG93RXJyb3IoXCJTb3JyeSwgdGhlcmUgd2FzIGEgcHJvYmxlbSBjb21tdW5pY2F0aW5nIHdpdGggUmlzZSBTdG9yYWdlLlwiKTtcbiAgICB9KTtcblxuICAgIHN0b3JhZ2UuYWRkRXZlbnRMaXN0ZW5lcihcInJpc2Utc3RvcmFnZS1lbXB0eS1mb2xkZXJcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHBhcmFtcyA9IHtcbiAgICAgICAgXCJldmVudFwiOiBcImVycm9yXCIsXG4gICAgICAgIFwiZXZlbnRfZGV0YWlsc1wiOiBcInN0b3JhZ2UgZm9sZGVyIGVtcHR5XCJcbiAgICAgIH07XG5cbiAgICAgIFJpc2VWaXNpb24uSW1hZ2UubG9nRXZlbnQocGFyYW1zLCB0cnVlKTtcbiAgICAgIFJpc2VWaXNpb24uSW1hZ2Uuc2hvd0Vycm9yKFwiVGhlIHNlbGVjdGVkIGZvbGRlciBkb2VzIG5vdCBjb250YWluIGFueSBpbWFnZXMuXCIpO1xuICAgIH0pO1xuXG4gICAgc3RvcmFnZS5hZGRFdmVudExpc3RlbmVyKFwicmlzZS1zdG9yYWdlLW5vLWZvbGRlclwiLCBmdW5jdGlvbiAoZSkge1xuICAgICAgdmFyIHBhcmFtcyA9IHtcbiAgICAgICAgXCJldmVudFwiOiBcImVycm9yXCIsXG4gICAgICAgIFwiZXZlbnRfZGV0YWlsc1wiOiBcInN0b3JhZ2UgZm9sZGVyIGRvZXNuJ3QgZXhpc3RcIixcbiAgICAgICAgXCJlcnJvcl9kZXRhaWxzXCI6IGUuZGV0YWlsXG4gICAgICB9O1xuXG4gICAgICBSaXNlVmlzaW9uLkltYWdlLmxvZ0V2ZW50KHBhcmFtcywgdHJ1ZSk7XG4gICAgICBSaXNlVmlzaW9uLkltYWdlLnNob3dFcnJvcihcIlRoZSBzZWxlY3RlZCBmb2xkZXIgZG9lcyBub3QgZXhpc3Qgb3IgaGFzIGJlZW4gbW92ZWQgdG8gVHJhc2guXCIpO1xuICAgIH0pO1xuXG5cbiAgICBzdG9yYWdlLmFkZEV2ZW50TGlzdGVuZXIoXCJyaXNlLXN0b3JhZ2UtZm9sZGVyLWludmFsaWRcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHBhcmFtcyA9IHtcbiAgICAgICAgXCJldmVudFwiOiBcImVycm9yXCIsXG4gICAgICAgIFwiZXZlbnRfZGV0YWlsc1wiOiBcInN0b3JhZ2UgZm9sZGVyIGZvcm1hdChzKSBpbnZhbGlkXCJcbiAgICAgIH07XG5cbiAgICAgIFJpc2VWaXNpb24uSW1hZ2UubG9nRXZlbnQocGFyYW1zLCB0cnVlKTtcbiAgICAgIFJpc2VWaXNpb24uSW1hZ2Uuc2hvd0Vycm9yKFwiVGhlIHNlbGVjdGVkIGZvbGRlciBkb2VzIG5vdCBjb250YWluIGFueSBzdXBwb3J0ZWQgaW1hZ2UgZm9ybWF0cy5cIik7XG4gICAgfSk7XG5cbiAgICBzdG9yYWdlLmFkZEV2ZW50TGlzdGVuZXIoXCJyaXNlLXN0b3JhZ2Utc3Vic2NyaXB0aW9uLWV4cGlyZWRcIiwgZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgcGFyYW1zID0ge1xuICAgICAgICBcImV2ZW50XCI6IFwiZXJyb3JcIixcbiAgICAgICAgXCJldmVudF9kZXRhaWxzXCI6IFwic3RvcmFnZSBzdWJzY3JpcHRpb24gZXhwaXJlZFwiXG4gICAgICB9O1xuXG4gICAgICBSaXNlVmlzaW9uLkltYWdlLmxvZ0V2ZW50KHBhcmFtcywgdHJ1ZSk7XG4gICAgICBSaXNlVmlzaW9uLkltYWdlLnNob3dFcnJvcihcIlJpc2UgU3RvcmFnZSBzdWJzY3JpcHRpb24gaXMgbm90IGFjdGl2ZS5cIik7XG4gICAgfSk7XG5cbiAgICBzdG9yYWdlLmFkZEV2ZW50TGlzdGVuZXIoXCJyaXNlLXN0b3JhZ2UtZXJyb3JcIiwgZnVuY3Rpb24oZSkge1xuICAgICAgdmFyIHBhcmFtcyA9IHtcbiAgICAgICAgXCJldmVudFwiOiBcInJpc2Ugc3RvcmFnZSBlcnJvclwiLFxuICAgICAgICBcImV2ZW50X2RldGFpbHNcIjogXCJUaGUgcmVxdWVzdCBmYWlsZWQgd2l0aCBzdGF0dXMgY29kZTogXCIgKyBlLmRldGFpbC5lcnJvci5jdXJyZW50VGFyZ2V0LnN0YXR1c1xuICAgICAgfTtcblxuICAgICAgUmlzZVZpc2lvbi5JbWFnZS5sb2dFdmVudChwYXJhbXMsIHRydWUpO1xuICAgICAgUmlzZVZpc2lvbi5JbWFnZS5zaG93RXJyb3IoXCJTb3JyeSwgdGhlcmUgd2FzIGEgcHJvYmxlbSBjb21tdW5pY2F0aW5nIHdpdGggUmlzZSBTdG9yYWdlLlwiLCB0cnVlKTtcbiAgICB9KTtcblxuICAgIHN0b3JhZ2UuYWRkRXZlbnRMaXN0ZW5lcihcInJpc2UtY2FjaGUtZXJyb3JcIiwgZnVuY3Rpb24oZSkge1xuICAgICAgdmFyIHBhcmFtcyA9IHtcbiAgICAgICAgXCJldmVudFwiOiBcInJpc2UgY2FjaGUgZXJyb3JcIixcbiAgICAgICAgXCJldmVudF9kZXRhaWxzXCI6IGUuZGV0YWlsLmVycm9yLm1lc3NhZ2VcbiAgICAgIH07XG5cbiAgICAgIFJpc2VWaXNpb24uSW1hZ2UubG9nRXZlbnQocGFyYW1zLCB0cnVlKTtcblxuICAgICAgdmFyIHN0YXR1c0NvZGUgPSAwO1xuICAgICAgLy8gU2hvdyBhIGRpZmZlcmVudCBtZXNzYWdlIGlmIHRoZXJlIGlzIGEgNDA0IGNvbWluZyBmcm9tIHJpc2UgY2FjaGVcbiAgICAgIGlmKGUuZGV0YWlsLmVycm9yLm1lc3NhZ2Upe1xuICAgICAgICBzdGF0dXNDb2RlID0gK2UuZGV0YWlsLmVycm9yLm1lc3NhZ2Uuc3Vic3RyaW5nKGUuZGV0YWlsLmVycm9yLm1lc3NhZ2UuaW5kZXhPZihcIjpcIikrMik7XG4gICAgICB9XG5cbiAgICAgIHZhciBlcnJvck1lc3NhZ2UgPSBSaXNlVmlzaW9uLkNvbW1vbi5VdGlsaXRpZXMuZ2V0UmlzZUNhY2hlRXJyb3JNZXNzYWdlKHN0YXR1c0NvZGUpO1xuICAgICAgUmlzZVZpc2lvbi5JbWFnZS5zaG93RXJyb3IoZXJyb3JNZXNzYWdlKTtcbiAgICB9KTtcblxuICAgIHN0b3JhZ2UuYWRkRXZlbnRMaXN0ZW5lcihcInJpc2UtY2FjaGUtbm90LXJ1bm5pbmdcIiwgZnVuY3Rpb24oZSkge1xuXG4gICAgICB2YXIgcGFyYW1zID0ge1xuICAgICAgICBcImV2ZW50XCI6IFwiZXJyb3JcIixcbiAgICAgICAgXCJldmVudF9kZXRhaWxzXCI6IFwicmlzZSBjYWNoZSBub3QgcnVubmluZ1wiLFxuICAgICAgICBcImVycm9yX2RldGFpbHNcIjogKGUuZGV0YWlsICYmIGUuZGV0YWlsLmVycm9yKT8gZS5kZXRhaWwuZXJyb3IubWVzc2FnZTogXCJcIlxuICAgICAgfTtcblxuICAgICAgUmlzZVZpc2lvbi5JbWFnZS5sb2dFdmVudChwYXJhbXMsIHRydWUpO1xuICAgIH0pO1xuXG4gICAgc3RvcmFnZS5zZXRBdHRyaWJ1dGUoXCJmaWxlVHlwZVwiLCBcImltYWdlXCIpO1xuICAgIHN0b3JhZ2Uuc2V0QXR0cmlidXRlKFwiY29tcGFueUlkXCIsIGRhdGEuc3RvcmFnZS5jb21wYW55SWQpO1xuICAgIHN0b3JhZ2Uuc2V0QXR0cmlidXRlKFwiZm9sZGVyXCIsIGRhdGEuc3RvcmFnZS5mb2xkZXIpO1xuICAgIHN0b3JhZ2Uuc2V0QXR0cmlidXRlKFwiZW52XCIsIGNvbmZpZy5TVE9SQUdFX0VOVik7XG5cbiAgICBzdG9yYWdlLmdvKCk7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIFwiaW5pdFwiOiBpbml0XG4gIH07XG59O1xuXG52YXIgUmlzZVZpc2lvbiA9IFJpc2VWaXNpb24gfHwge307XG5SaXNlVmlzaW9uLkltYWdlID0gUmlzZVZpc2lvbi5JbWFnZSB8fCB7fTtcblxuUmlzZVZpc2lvbi5JbWFnZS5Ob25TdG9yYWdlID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgdmFyIHJpc2VDYWNoZSA9IFJpc2VWaXNpb24uQ29tbW9uLlJpc2VDYWNoZTtcblxuICB2YXIgX3JlZnJlc2hEdXJhdGlvbiA9IDMwMDAwMCwgIC8vIDUgbWludXRlc1xuICAgIF9yZWZyZXNoSW50ZXJ2YWxJZCA9IG51bGw7XG5cbiAgdmFyIF9pc0xvYWRpbmcgPSB0cnVlO1xuXG4gIHZhciBfdXJsID0gXCJcIjtcblxuICBmdW5jdGlvbiBfZ2V0RmlsZShvbWl0Q2FjaGVCdXN0ZXIpIHtcbiAgICB2YXIgcGFyYW1zO1xuXG4gICAgcmlzZUNhY2hlLmdldEZpbGUoX3VybCwgZnVuY3Rpb24gKHJlc3BvbnNlLCBlcnJvcikge1xuICAgICAgaWYgKCFlcnJvcikge1xuXG4gICAgICAgIGlmIChfaXNMb2FkaW5nKSB7XG4gICAgICAgICAgX2lzTG9hZGluZyA9IGZhbHNlO1xuXG4gICAgICAgICAgUmlzZVZpc2lvbi5JbWFnZS5vbkZpbGVJbml0KHJlc3BvbnNlLnVybCk7XG5cbiAgICAgICAgICAvLyBzdGFydCB0aGUgcmVmcmVzaCBpbnRlcnZhbFxuICAgICAgICAgIF9zdGFydFJlZnJlc2hJbnRlcnZhbCgpO1xuXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgUmlzZVZpc2lvbi5JbWFnZS5vbkZpbGVSZWZyZXNoKHJlc3BvbnNlLnVybCk7XG4gICAgICAgIH1cblxuICAgICAgfSBlbHNlIHtcblxuICAgICAgICAvLyBlcnJvciBvY2N1cnJlZFxuICAgICAgICBwYXJhbXMgPSB7XG4gICAgICAgICAgXCJldmVudFwiOiBcImVycm9yXCIsXG4gICAgICAgICAgXCJldmVudF9kZXRhaWxzXCI6IFwibm9uLXN0b3JhZ2UgZXJyb3JcIixcbiAgICAgICAgICBcImVycm9yX2RldGFpbHNcIjogZXJyb3IubWVzc2FnZSxcbiAgICAgICAgICBcImZpbGVfdXJsXCI6IHJlc3BvbnNlLnVybFxuICAgICAgICB9O1xuXG4gICAgICAgIFJpc2VWaXNpb24uSW1hZ2UubG9nRXZlbnQocGFyYW1zLCB0cnVlKTtcblxuICAgICAgICB2YXIgc3RhdHVzQ29kZSA9IDA7XG4gICAgICAgIC8vIFNob3cgYSBkaWZmZXJlbnQgbWVzc2FnZSBpZiB0aGVyZSBpcyBhIDQwNCBjb21pbmcgZnJvbSByaXNlIGNhY2hlXG4gICAgICAgIGlmKGVycm9yLm1lc3NhZ2Upe1xuICAgICAgICAgIHN0YXR1c0NvZGUgPSArZXJyb3IubWVzc2FnZS5zdWJzdHJpbmcoZXJyb3IubWVzc2FnZS5pbmRleE9mKFwiOlwiKSsyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBlcnJvck1lc3NhZ2UgPSBSaXNlVmlzaW9uLkNvbW1vbi5VdGlsaXRpZXMuZ2V0UmlzZUNhY2hlRXJyb3JNZXNzYWdlKHN0YXR1c0NvZGUpO1xuICAgICAgICBSaXNlVmlzaW9uLkltYWdlLnNob3dFcnJvcihlcnJvck1lc3NhZ2UpO1xuICAgICAgfVxuICAgIH0sIG9taXRDYWNoZUJ1c3Rlcik7XG4gIH1cblxuICBmdW5jdGlvbiBfc3RhcnRSZWZyZXNoSW50ZXJ2YWwoKSB7XG4gICAgaWYgKF9yZWZyZXNoSW50ZXJ2YWxJZCA9PT0gbnVsbCkge1xuICAgICAgX3JlZnJlc2hJbnRlcnZhbElkID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkge1xuICAgICAgICBfZ2V0RmlsZSh0cnVlKTtcbiAgICAgIH0sIF9yZWZyZXNoRHVyYXRpb24pO1xuICAgIH1cbiAgfVxuXG4gIC8qXG4gICAqICBQdWJsaWMgTWV0aG9kc1xuICAgKi9cbiAgZnVuY3Rpb24gaW5pdCgpIHtcbiAgICAvLyBIYW5kbGUgcHJlLW1lcmdlIHVzZSBvZiBcInVybFwiIHNldHRpbmcgcHJvcGVydHlcbiAgICBfdXJsID0gKGRhdGEudXJsICYmIGRhdGEudXJsICE9PSBcIlwiKSA/IGRhdGEudXJsIDogZGF0YS5zZWxlY3Rvci51cmw7XG5cbiAgICBfZ2V0RmlsZSh0cnVlKTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgXCJpbml0XCI6IGluaXRcbiAgfTtcbn07XG5cbi8qIGdsb2JhbCBSaXNlVmlzaW9uLCBnYWRnZXRzLCBjb25maWcgKi9cbihmdW5jdGlvbiAod2luZG93LCBkb2N1bWVudCwgZ2FkZ2V0cykge1xuICBcInVzZSBzdHJpY3RcIjtcblxuICB2YXIgaWQgPSBuZXcgZ2FkZ2V0cy5QcmVmcygpLmdldFN0cmluZyhcImlkXCIpO1xuXG4gIHdpbmRvdy5vbmNvbnRleHRtZW51ID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfTtcblxuICBkb2N1bWVudC5ib2R5Lm9ubW91c2Vkb3duID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9O1xuXG4gIGZ1bmN0aW9uIGNvbmZpZ3VyZShuYW1lcywgdmFsdWVzKSB7XG4gICAgdmFyIGFkZGl0aW9uYWxQYXJhbXMsIG1vZGUsXG4gICAgICBjb21wYW55SWQgPSBcIlwiLFxuICAgICAgZGlzcGxheUlkID0gXCJcIjtcblxuICAgIGlmIChBcnJheS5pc0FycmF5KG5hbWVzKSAmJiBuYW1lcy5sZW5ndGggPiAwICYmIEFycmF5LmlzQXJyYXkodmFsdWVzKSAmJiB2YWx1ZXMubGVuZ3RoID4gMCkge1xuICAgICAgLy8gY29tcGFueSBpZFxuICAgICAgaWYgKG5hbWVzWzBdID09PSBcImNvbXBhbnlJZFwiKSB7XG4gICAgICAgIGNvbXBhbnlJZCA9IHZhbHVlc1swXTtcbiAgICAgIH1cblxuICAgICAgLy8gZGlzcGxheSBpZFxuICAgICAgaWYgKG5hbWVzWzFdID09PSBcImRpc3BsYXlJZFwiKSB7XG4gICAgICAgIGlmICh2YWx1ZXNbMV0pIHtcbiAgICAgICAgICBkaXNwbGF5SWQgPSB2YWx1ZXNbMV07XG4gICAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICAgIGRpc3BsYXlJZCA9IFwicHJldmlld1wiO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIHByb3ZpZGUgTG9nZ2VyVXRpbHMgdGhlIGlkcyB0byB1c2VcbiAgICAgIFJpc2VWaXNpb24uQ29tbW9uLkxvZ2dlclV0aWxzLnNldElkcyhjb21wYW55SWQsIGRpc3BsYXlJZCk7XG5cbiAgICAgIC8vIGFkZGl0aW9uYWwgcGFyYW1zXG4gICAgICBpZiAobmFtZXNbMl0gPT09IFwiYWRkaXRpb25hbFBhcmFtc1wiKSB7XG4gICAgICAgIGFkZGl0aW9uYWxQYXJhbXMgPSBKU09OLnBhcnNlKHZhbHVlc1syXSk7XG5cbiAgICAgICAgaWYgKE9iamVjdC5rZXlzKGFkZGl0aW9uYWxQYXJhbXMuc3RvcmFnZSkubGVuZ3RoICE9PSAwKSB7XG4gICAgICAgICAgLy8gc3RvcmFnZSBmaWxlIG9yIGZvbGRlciBzZWxlY3RlZFxuICAgICAgICAgIGlmICghYWRkaXRpb25hbFBhcmFtcy5zdG9yYWdlLmZpbGVOYW1lKSB7XG4gICAgICAgICAgICAvLyBmb2xkZXIgd2FzIHNlbGVjdGVkXG4gICAgICAgICAgICBtb2RlID0gXCJmb2xkZXJcIjtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gZmlsZSB3YXMgc2VsZWN0ZWRcbiAgICAgICAgICAgIG1vZGUgPSBcImZpbGVcIjtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gbm9uLXN0b3JhZ2UgZmlsZSB3YXMgc2VsZWN0ZWRcbiAgICAgICAgICBtb2RlID0gXCJmaWxlXCI7XG4gICAgICAgIH1cblxuICAgICAgICBSaXNlVmlzaW9uLkltYWdlLnNldEFkZGl0aW9uYWxQYXJhbXMoYWRkaXRpb25hbFBhcmFtcywgbW9kZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcGF1c2UoKSB7XG4gICAgUmlzZVZpc2lvbi5JbWFnZS5wYXVzZSgpO1xuICB9XG5cbiAgZnVuY3Rpb24gcGxheSgpIHtcbiAgICBSaXNlVmlzaW9uLkltYWdlLnBsYXkoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHN0b3AoKSB7XG4gICAgUmlzZVZpc2lvbi5JbWFnZS5zdG9wKCk7XG4gIH1cblxuICBmdW5jdGlvbiBpbml0KCkge1xuICAgIGlmIChpZCAmJiBpZCAhPT0gXCJcIikge1xuICAgICAgZ2FkZ2V0cy5ycGMucmVnaXN0ZXIoXCJyc2NtZF9wbGF5X1wiICsgaWQsIHBsYXkpO1xuICAgICAgZ2FkZ2V0cy5ycGMucmVnaXN0ZXIoXCJyc2NtZF9wYXVzZV9cIiArIGlkLCBwYXVzZSk7XG4gICAgICBnYWRnZXRzLnJwYy5yZWdpc3RlcihcInJzY21kX3N0b3BfXCIgKyBpZCwgc3RvcCk7XG4gICAgICBnYWRnZXRzLnJwYy5yZWdpc3RlcihcInJzcGFyYW1fc2V0X1wiICsgaWQsIGNvbmZpZ3VyZSk7XG4gICAgICBnYWRnZXRzLnJwYy5jYWxsKFwiXCIsIFwicnNwYXJhbV9nZXRcIiwgbnVsbCwgaWQsIFtcImNvbXBhbnlJZFwiLCBcImRpc3BsYXlJZFwiLCBcImFkZGl0aW9uYWxQYXJhbXNcIl0pO1xuICAgIH1cbiAgfVxuXG4gIC8vIGNoZWNrIHdoaWNoIHZlcnNpb24gb2YgUmlzZSBDYWNoZSBpcyBydW5uaW5nIGFuZCBkeW5hbWljYWxseSBhZGQgcmlzZS1zdG9yYWdlIGRlcGVuZGVuY2llc1xuICBSaXNlVmlzaW9uLkNvbW1vbi5SaXNlQ2FjaGUuaXNWMlJ1bm5pbmcoZnVuY3Rpb24gKGlzVjIpIHtcbiAgICB2YXIgZnJhZ21lbnQgPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCksXG4gICAgICBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpbmtcIiksXG4gICAgICB3ZWJjb21wb25lbnRzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKSxcbiAgICAgIGhyZWYgPSBjb25maWcuQ09NUE9ORU5UU19QQVRIICsgKChpc1YyKSA/IFwicmlzZS1zdG9yYWdlLXYyXCIgOiBcInJpc2Utc3RvcmFnZVwiKSArIFwiL3Jpc2Utc3RvcmFnZS5odG1sXCIsXG4gICAgICBzdG9yYWdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInJpc2Utc3RvcmFnZVwiKSxcbiAgICAgIHN0b3JhZ2VSZWFkeSA9IGZhbHNlLFxuICAgICAgcG9seW1lclJlYWR5ID0gZmFsc2U7XG5cbiAgICBmdW5jdGlvbiBvblBvbHltZXJSZWFkeSgpIHtcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwiV2ViQ29tcG9uZW50c1JlYWR5XCIsIG9uUG9seW1lclJlYWR5KTtcbiAgICAgIHBvbHltZXJSZWFkeSA9IHRydWU7XG5cbiAgICAgIGlmIChzdG9yYWdlUmVhZHkgJiYgcG9seW1lclJlYWR5KSB7XG4gICAgICAgIGluaXQoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBvblN0b3JhZ2VSZWFkeSgpIHtcbiAgICAgIHN0b3JhZ2UucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInJpc2Utc3RvcmFnZS1yZWFkeVwiLCBvblN0b3JhZ2VSZWFkeSk7XG4gICAgICBzdG9yYWdlUmVhZHkgPSB0cnVlO1xuXG4gICAgICBpZiAoc3RvcmFnZVJlYWR5ICYmIHBvbHltZXJSZWFkeSkge1xuICAgICAgICBpbml0KCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgd2ViY29tcG9uZW50cy5zcmMgPSBjb25maWcuQ09NUE9ORU5UU19QQVRIICsgXCJ3ZWJjb21wb25lbnRzanMvd2ViY29tcG9uZW50cy1saXRlLm1pbi5qc1wiO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwiV2ViQ29tcG9uZW50c1JlYWR5XCIsIG9uUG9seW1lclJlYWR5KTtcblxuICAgIC8vIGFkZCB0aGUgd2ViY29tcG9uZW50cyBwb2x5ZmlsbCBzb3VyY2UgdG8gdGhlIGRvY3VtZW50IGhlYWRcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImhlYWRcIilbMF0uYXBwZW5kQ2hpbGQod2ViY29tcG9uZW50cyk7XG5cbiAgICBsaW5rLnNldEF0dHJpYnV0ZShcInJlbFwiLCBcImltcG9ydFwiKTtcbiAgICBsaW5rLnNldEF0dHJpYnV0ZShcImhyZWZcIiwgaHJlZik7XG5cbiAgICAvLyBhZGQgdGhlIHJpc2Utc3RvcmFnZSA8bGluaz4gZWxlbWVudCB0byBkb2N1bWVudCBoZWFkXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJoZWFkXCIpWzBdLmFwcGVuZENoaWxkKGxpbmspO1xuXG4gICAgc3RvcmFnZS5zZXRBdHRyaWJ1dGUoXCJyZWZyZXNoXCIsIDUpO1xuICAgIHN0b3JhZ2UuYWRkRXZlbnRMaXN0ZW5lcihcInJpc2Utc3RvcmFnZS1yZWFkeVwiLCBvblN0b3JhZ2VSZWFkeSk7XG4gICAgZnJhZ21lbnQuYXBwZW5kQ2hpbGQoc3RvcmFnZSk7XG5cbiAgICAvLyBhZGQgdGhlIDxyaXNlLXN0b3JhZ2U+IGVsZW1lbnQgdG8gdGhlIGJvZHlcbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGZyYWdtZW50KTtcbiAgfSk7XG5cbn0pKHdpbmRvdywgZG9jdW1lbnQsIGdhZGdldHMpO1xuXG4vKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG52YXIgX2dhcSA9IF9nYXEgfHwgW107XG5cbl9nYXEucHVzaChbJ19zZXRBY2NvdW50JywgJ1VBLTU3MDkyMTU5LTMnXSk7XG5fZ2FxLnB1c2goWydfdHJhY2tQYWdldmlldyddKTtcblxuKGZ1bmN0aW9uKCkge1xuICB2YXIgZ2EgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTsgZ2EudHlwZSA9ICd0ZXh0L2phdmFzY3JpcHQnOyBnYS5hc3luYyA9IHRydWU7XG4gIGdhLnNyYyA9ICgnaHR0cHM6JyA9PSBkb2N1bWVudC5sb2NhdGlvbi5wcm90b2NvbCA/ICdodHRwczovL3NzbCcgOiAnaHR0cDovL3d3dycpICsgJy5nb29nbGUtYW5hbHl0aWNzLmNvbS9nYS5qcyc7XG4gIHZhciBzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3NjcmlwdCcpWzBdOyBzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGdhLCBzKTtcbn0pKCk7XG4vKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
