var WIDGET_COMMON_CONFIG={AUTH_PATH_URL:"v1/widget/auth",LOGGER_CLIENT_ID:"1088527147109-6q1o2vtihn34292pjt4ckhmhck0rk0o7.apps.googleusercontent.com",LOGGER_CLIENT_SECRET:"nlZyrcPLg6oEwO9f9Wfn29Wh",LOGGER_REFRESH_TOKEN:"1/xzt4kwzE1H7W9VnKB8cAaCx6zb4Es4nKEoqaYHdTD15IgOrJDtdun6zK6XiATCKT",STORAGE_ENV:"prod",STORE_URL:"https://store-dot-rvaserver2.appspot.com/"},RiseVision=RiseVision||{};RiseVision.Common=RiseVision.Common||{},RiseVision.Common.LoggerUtils=function(){"use strict";function e(e,t){var i=null;e.event?(i=e,i.file_url&&(i.file_format=n(i.file_url)),i.company_id=a,i.display_id=s,t(i)):t(i)}function t(){var e=new Date,t=e.getUTCFullYear(),n=e.getUTCMonth()+1,i=e.getUTCDate();return 10>n&&(n="0"+n),10>i&&(i="0"+i),t+n+i}function n(e){var t,n=/[?#&]/;return e&&"string"==typeof e?(t=e.substr(e.lastIndexOf(".")+1),n.test(t)&&(t=t.substr(0,-1!==t.indexOf("?")?t.indexOf("?"):t.length),t=t.substr(0,-1!==t.indexOf("#")?t.indexOf("#"):t.length),t=t.substr(0,-1!==t.indexOf("&")?t.indexOf("&"):t.length)),t.toLowerCase()):null}function i(e){var n={kind:"bigquery#tableDataInsertAllRequest",skipInvalidRows:!1,ignoreUnknownValues:!1,templateSuffix:t(),rows:[{insertId:""}]},i=JSON.parse(JSON.stringify(n));return i.rows[0].insertId=Math.random().toString(36).substr(2).toUpperCase(),i.rows[0].json=JSON.parse(JSON.stringify(e)),i.rows[0].json.ts=(new Date).toISOString(),i}function r(t,n){e(n,function(e){null!==e&&RiseVision.Common.Logger.log(t,e)})}function o(e,t){a=e,s=t}var s="",a="";return{getInsertData:i,getFileFormat:n,logEvent:r,setIds:o}}(),RiseVision.Common.Logger=function(e){"use strict";function t(e){var t=new XMLHttpRequest;return new Date-d<358e4?e({}):(t.open("POST",r,!0),t.onloadend=function(){var n=JSON.parse(t.response);e({token:n.access_token,refreshedAt:new Date})},t.send(),void 0)}function n(e){return s&&l===e}function i(i,r){function c(t){var n,s,a=new XMLHttpRequest;s=o.replace("TABLE_ID",i),d=t.refreshedAt||d,u=t.token||u,n=e.getInsertData(r),a.open("POST",s,!0),a.setRequestHeader("Content-Type","application/json"),a.setRequestHeader("Authorization","Bearer "+u),r.cb&&"function"==typeof r.cb&&(a.onloadend=function(){r.cb(a.response)}),a.send(JSON.stringify(n))}if(!(!i||!r||r.hasOwnProperty("event")&&!r.event||r.hasOwnProperty("event")&&n(r.event)))return s=!0,l=r.event,setTimeout(function(){s=!1},a),t(c)}var r="https://www.googleapis.com/oauth2/v3/token?client_id="+WIDGET_COMMON_CONFIG.LOGGER_CLIENT_ID+"&client_secret="+WIDGET_COMMON_CONFIG.LOGGER_CLIENT_SECRET+"&refresh_token="+WIDGET_COMMON_CONFIG.LOGGER_REFRESH_TOKEN+"&grant_type=refresh_token",o="https://www.googleapis.com/bigquery/v2/projects/client-side-events/datasets/Widget_Events/tables/TABLE_ID/insertAll",s=!1,a=1e3,l="",d=0,u="";return{log:i}}(RiseVision.Common.LoggerUtils);var RiseVision=RiseVision||{};RiseVision.Common=RiseVision.Common||{},RiseVision.Common.RiseCache=function(){"use strict";function e(e){var t=new XMLHttpRequest;e&&"function"==typeof e&&(t.open("GET",n+"ping?callback=_",!0),t.onreadystatechange=function(){try{4===t.readyState&&(i=!0,200===t.status?(r=!0,e(!0,t.responseText)):(console.debug("Rise Cache is not running"),r=!1,e(!1,null)))}catch(n){console.debug("Caught exception: ",n.description)}},t.send())}function t(e,t,o){function s(){var t,i,s;r?t=o?n+"?url="+encodeURIComponent(e):n+"cb="+(new Date).getTime()+"?url="+encodeURIComponent(e):o?t=e:(i=e.split("?"),s=1===i.length?"?":"&",t=e+s+"cb="+(new Date).getTime()),a("HEAD",t)}function a(e,n){var i=new XMLHttpRequest,o={xhr:i,url:n};r?(i.open(e,n,!0),i.addEventListener("loadend",function(){var r=i.status||0;r>=200&&300>r?t(o):"HEAD"===e?a("GET",n):t(o,new Error("The request failed with status code: "+r))}),i.send()):t(o)}if(e&&t&&"function"==typeof t)return i?s():this.ping(s)}var n="//localhost:9494/",i=!1,r=!1;return{getFile:t,ping:e}}();var RiseVision=RiseVision||{};RiseVision.Common=RiseVision.Common||{},RiseVision.Common.Utilities=function(){function e(e,t){var n="font-family:"+t.font.family+"; ",i="color: "+(t.color?t.color:t.forecolor)+"; ",r="font-size: "+(-1===t.size.indexOf("px")?t.size+"px; ":t.size+"; "),o="font-weight: "+(t.bold?"bold":"normal")+"; ",s="font-style: "+(t.italic?"italic":"normal")+"; ",a="text-decoration: "+(t.underline?"underline":"none")+"; ",l="background-color: "+(t.highlightColor?t.highlightColor:t.backcolor)+"; ";return"."+e+" {"+n+i+r+o+s+a+l+"}"}function t(e){for(var t=document.createElement("style"),n=0,i=e.length;i>n;n++)t.appendChild(document.createTextNode(e[n]));document.head.appendChild(t)}function n(n,o){n.forEach(function(n){n.class&&n.fontSetting&&t([e(n.class,n.fontSetting)]),n.fontSetting.font.type&&("custom"===n.fontSetting.font.type&&n.fontSetting.font.family&&n.fontSetting.font.url?i(n.fontSetting.font.family,n.fontSetting.font.url,o):"google"===n.fontSetting.font.type&&n.fontSetting.font.family&&r(n.fontSetting.font.family,o))})}function i(e,t,n){var i=null,r="font-family: "+e+"; src: url('"+t+"');";n=n||document,i=n.styleSheets[0],null!==i&&i.addRule("@font-face",r)}function r(e,t){var n=document.createElement("link");t=t||document,n.setAttribute("rel","stylesheet"),n.setAttribute("type","text/css"),n.setAttribute("href","https://fonts.googleapis.com/css?family="+e.split(",")[0]),null!==n&&t.getElementsByTagName("head")[0].appendChild(n)}function o(e){for(var t=e.length,n=[],i=0;t>i;i++)n[i]=new Image,n[i].src=e[i]}function s(e){for(var t,n=window.location.search.substring(1),i=n.split("&"),r=0;r<i.length;r++)if(t=i[r].split("="),t[0]==e)return decodeURIComponent(t[1]);return""}function a(e){var t="";switch(e){case 404:t="The file does not exist or cannot be accessed.";break;case 507:t="There is not enough disk space to save the file on Rise Cache.";break;default:t="There was a problem retrieving the file from Rise Cache."}return t}return{getQueryParameter:s,getFontCssStyle:e,addCSSRules:t,loadFonts:n,loadCustomFont:i,loadGoogleFont:r,preloadImages:o,getRiseCacheErrorMessage:a}}(),"undefined"!=typeof angular&&angular.module("risevision.common.i18n.config",[]).constant("LOCALES_PREFIX","locales/translation_").constant("LOCALES_SUFIX",".json");var config={STORAGE_ENV:"prod"},RiseVision=RiseVision||{};RiseVision.Image={},RiseVision.Image=function(e){"use strict";function t(){e.rpc.call("","rsevent_ready",null,b.getString("id"),!0,!0,!0,!0,!0)}function n(){e.rpc.call("","rsevent_done",null,b.getString("id")),null!==L&&u(L,!0),u({event:"done",file_url:o()},!1)}function i(){clearTimeout(k),k=null}function r(){i(),k=setTimeout(function(){n()},5e3)}function o(){var e=-1;if(O&&O.length>0){if("file"===I)return O[0];if("folder"===I&&T&&T.isReady()&&(e=T.getCurrentSlide(),-1!==e))return O[e]}return null}function s(){var e,n=document.getElementById("container"),i=document.createDocumentFragment(),r=document.createElement("div");V=new RiseVision.Common.Message(document.getElementById("container"),document.getElementById("messageContainer")),V.show("Please wait while your image is downloaded."),w.background&&Object.keys(w.background).length>0&&(document.body.style.background=w.background.color),"file"===I?(r=a(),i.appendChild(r),n.appendChild(i),G=new Image,e=0!==Object.keys(w.storage).length,e?(A="storage file",C=new RiseVision.Image.StorageFile(w),C.init()):(A="custom",S=new RiseVision.Image.NonStorage(w),S.init())):"folder"===I&&(r.className="tp-banner-container",i.appendChild(r),n.appendChild(i),A="storage folder",C=new RiseVision.Image.StorageFolder(w),C.init()),t()}function a(){var e=document.createElement("div");return e.setAttribute("id","image"),e.className=w.position,e.className=w.scaleToFit?e.className+" scale-to-fit":e.className,e}function l(e){G.onload=function(){var t=document.querySelector("#container #image");t.style.backgroundImage="url('"+e+"')"},G.onerror=function(){u({event:"error",event_details:"image load error",file_url:e},!0)},G.src=e.replace("\\'","'")}function d(){return F}function u(e,t){t&&(L=e),RiseVision.Common.LoggerUtils.logEvent(R(),e)}function c(e){"file"===I?(O[0]=e,V.hide(),l(O[0])):"folder"===I&&(O=e,T=new RiseVision.Image.Slider(w),T.init(e))}function g(e){"file"===I?(O[0]=e,l(O[0])):"folder"===I&&(O=e,T.refresh(O)),N=!1,F=!1,L=null}function m(e,t){w=_.clone(e),I=t,w.width=b.getInt("rsW"),w.height=b.getInt("rsH"),document.getElementById("container").style.height=b.getInt("rsH")+"px",s()}function f(){V.hide(),q||T.play()}function v(){n()}function p(){var e=document.querySelectorAll("#container #image");if(q=!0,i(),"folder"===I&&T&&T.isReady())T.pause();else if("file"===I&&e.length>0)for(var t=0;t<e.length;t+=1)e[t].style.visibility="hidden"}function h(){var e=document.querySelectorAll("#container #image");if(q=!1,x||(u({event:"configuration",event_details:A},!1),x=!0),u({event:"play",file_url:o()},!1),N)return r(),void 0;if("folder"===I&&T&&T.isReady())T.play();else if("file"===I&&e.length>0)for(var t=0;t<e.length;t+=1)e[t].style.visibility="visible"}function R(){return"image_events"}function y(e,t){N=!0,F="undefined"!=typeof t,V.show(e),"folder"===I&&T&&T.isReady()&&T.destroy(),q||r()}function E(){p()}var I,b=new e.Prefs,V=null,w=null,C=null,S=null,T=null,O=[],L=null,A=null,k=null,N=!1,F=!1,x=!1,q=!0,G=null;return{hasStorageError:d,logEvent:u,onFileInit:c,onFileRefresh:g,onSliderComplete:v,onSliderReady:f,pause:p,play:h,setAdditionalParams:m,getTableName:R,showError:y,stop:E}}(gadgets);var RiseVision=RiseVision||{};RiseVision.Image=RiseVision.Image||{},RiseVision.Image.Slider=function(e){"use strict";function t(){var t=document.querySelector(".tp-banner ul"),n=document.createDocumentFragment(),i=[],r=null,o=null,s="";m=v.length,v.forEach(function(t){switch(r=document.createElement("li"),o=document.createElement("img"),r.setAttribute("data-transition","fade"),r.setAttribute("data-masterspeed",500),r.setAttribute("data-delay",1e3*e.duration),o.src="",o.setAttribute("data-lazyload",t.url),e.position){case"top-left":s="left top";break;case"top-center":s="center top";break;case"top-right":s="right top";break;case"middle-left":s="left center";break;case"middle-center":s="center center";break;case"middle-right":s="right center";break;case"bottom-left":s="left bottom";break;case"bottom-center":s="center bottom";break;case"bottom-right":s="right bottom";break;default:s="left top"}o.setAttribute("data-bgposition",s),e.scaleToFit?o.setAttribute("data-bgfit","contain"):o.setAttribute("data-bgfit","normal"),r.appendChild(o),i.push(r)}),i.forEach(function(e){n.appendChild(e)}),t.appendChild(n)}function n(e){V?c():y&&(y=!1,c(),RiseVision.Image.onSliderComplete(),E&&(f&&(i(),l(p)),E=!1)),e.slideIndex===m&&(y=!0)}function i(){$("body").off("touchend"),f.off("revolution.slide.onloaded"),f.off("revolution.slide.onchange"),f.revkill(),f=null}function r(){V=!0,clearTimeout(R),R=setTimeout(function(){f.revnext(),f.revresume(),V=!1,b=!0},1e3*e.pause),o()}function o(){e.autoHide&&(clearTimeout(h),h=setTimeout(function(){$(".tp-leftarrow, .tp-rightarrow").addClass("hidearrows")},w))}function s(){f&&(y=!1,c(),i())}function a(){return f&&v&&v.length>0?f.revcurrentslide():-1}function l(i){var s=document.querySelector(".tp-banner-container"),a=document.createDocumentFragment(),l=document.createElement("div"),d=document.createElement("ul");l.setAttribute("class","tp-banner"),l.appendChild(d),a.appendChild(l),s.appendChild(a),v=_.clone(i),t(),I=!0,f=$(".tp-banner").revolution({hideThumbs:0,hideTimerBar:"on",navigationType:"none",onHoverStop:"off",startwidth:e.width,startheight:e.height}),f.on("revolution.slide.onloaded",function(){c(),I=!1,RiseVision.Image.onSliderReady()}),f.on("revolution.slide.onchange",function(e,t){n(t)}),$("body").on("touchend",".tp-banner",function(){r(),$(".tp-leftarrow, .tp-rightarrow").removeClass("hidearrows")}),$("body").on("touchend",".tp-leftarrow, .tp-rightarrow",function(){r()}),o()}function d(){return!I}function u(){f&&(e.hasOwnProperty("resume")&&!e.resume&&f.revshowslide(0),b||(f.revresume(),b=!0))}function c(){f&&b&&(f.revpause(),b=!1)}function g(e){RiseVision.Common.Utilities.preloadImages(e),p=_.clone(e),E=!0}var m=0,f=null,v=null,p=null,h=null,R=null,y=!1,E=!1,I=!0,b=!1,V=!1,w=3e3;return{getCurrentSlide:a,destroy:s,init:l,isReady:d,play:u,pause:c,refresh:g}};var RiseVision=RiseVision||{};RiseVision.Image=RiseVision.Image||{},RiseVision.Image.StorageFile=function(e){"use strict";function t(){var t=document.querySelector("rise-storage");t.addEventListener("rise-storage-response",function(e){var t;e.detail&&e.detail.url&&(t=e.detail.url.replace("'","\\'"),n?(n=!1,RiseVision.Image.onFileInit(t)):e.detail.hasOwnProperty("changed")&&(e.detail.changed?RiseVision.Image.onFileRefresh(t):RiseVision.Image.hasStorageError()&&RiseVision.Image.onFileRefresh(e.detail.url)))}),t.addEventListener("rise-storage-api-error",function(e){var t={event:"error",event_details:"storage api error",error_details:"Response code: "+e.detail.code+", message: "+e.detail.message};RiseVision.Image.logEvent(t,!0),RiseVision.Image.showError("Sorry, there was a problem communicating with Rise Storage.")}),t.addEventListener("rise-storage-no-file",function(e){var t={event:"error",event_details:"storage file not found",file_url:e.detail},n=document.getElementById("image");n.style.background="",RiseVision.Image.logEvent(t,!0),RiseVision.Image.showError("The selected image does not exist or has been moved to Trash.")}),t.addEventListener("rise-storage-file-throttled",function(e){var t={event:"error",event_details:"storage file throttled",file_url:e.detail};RiseVision.Image.logEvent(t,!0),RiseVision.Image.showError("The selected image is temporarily unavailable.")}),t.addEventListener("rise-storage-subscription-expired",function(){var e={event:"error",event_details:"storage subscription expired"};RiseVision.Image.logEvent(e,!0),RiseVision.Image.showError("Rise Storage subscription is not active.")}),t.addEventListener("rise-storage-error",function(e){var t=e.detail&&e.detail.request&&e.detail.request.url?e.detail.request.url:null,n={event:"error",event_details:"rise storage error",error_details:"The request failed with status code: "+e.detail.error.currentTarget.status,file_url:t};RiseVision.Image.logEvent(n,!0),RiseVision.Image.showError("Sorry, there was a problem communicating with Rise Storage.",!0)}),t.addEventListener("rise-cache-error",function(e){var t=e.detail&&e.detail.request&&e.detail.request.url?e.detail.request.url:null,n={event:"error",event_details:"rise cache error",error_details:e.detail.error.message,file_url:t};RiseVision.Image.logEvent(n,!0);var i=0;e.detail.error.message&&(i=+e.detail.error.message.substring(e.detail.error.message.indexOf(":")+2));var r=RiseVision.Common.Utilities.getRiseCacheErrorMessage(i);RiseVision.Image.showError(r)}),t.addEventListener("rise-cache-not-running",function(e){var t={event:"error",event_details:"rise cache not running",error_details:e.detail&&e.detail.error?e.detail.error.message:""};RiseVision.Image.logEvent(t,!0)}),t.setAttribute("folder",e.storage.folder),t.setAttribute("fileName",e.storage.fileName),t.setAttribute("companyId",e.storage.companyId),t.setAttribute("env",config.STORAGE_ENV),t.go()}var n=!0;return{init:t}};var RiseVision=RiseVision||{};RiseVision.Image=RiseVision.Image||{},RiseVision.Image.StorageFolder=function(e){"use strict";function t(e){var t;e.detail&&(e.detail.added&&o.push({name:e.detail.name,url:e.detail.url}),e.detail.changed&&(t=_.find(o,function(t){return t.name===e.detail.name}),t.url=e.detail.url),e.detail.deleted&&(o=_.reject(o,function(t){return t.name===e.detail.name}))),o=_.sortBy(o,function(e){return e.name.toLowerCase()})}function n(e){return t(e),e.detail.added&&r?(o.length>1?(r=!1,clearTimeout(s),RiseVision.Image.onFileInit(o)):s=setTimeout(function(){r=!1,RiseVision.Image.onFileInit(o)},5e3),void 0):((!e.detail.hasOwnProperty("changed")||e.detail.changed||RiseVision.Image.hasStorageError())&&RiseVision.Image.onFileRefresh(o),void 0)}function i(){var t=document.querySelector("rise-storage");t.addEventListener("rise-storage-response",n),t.addEventListener("rise-storage-api-error",function(e){var t={event:"error",event_details:"storage api error",error_details:"Response code: "+e.detail.code+", message: "+e.detail.message};RiseVision.Image.logEvent(t,!0),RiseVision.Image.showError("Sorry, there was a problem communicating with Rise Storage.")}),t.addEventListener("rise-storage-empty-folder",function(){var e={event:"error",event_details:"storage folder empty"};RiseVision.Image.logEvent(e,!0),RiseVision.Image.showError("The selected folder does not contain any images.")}),t.addEventListener("rise-storage-no-folder",function(e){var t={event:"error",event_details:"storage folder doesn't exist",error_details:e.detail};RiseVision.Image.logEvent(t,!0),RiseVision.Image.showError("The selected folder does not exist or has been moved to Trash.")}),t.addEventListener("rise-storage-folder-invalid",function(){var e={event:"error",event_details:"storage folder format(s) invalid"};RiseVision.Image.logEvent(e,!0),RiseVision.Image.showError("The selected folder does not contain any supported image formats.")}),t.addEventListener("rise-storage-subscription-expired",function(){var e={event:"error",event_details:"storage subscription expired"};RiseVision.Image.logEvent(e,!0),RiseVision.Image.showError("Rise Storage subscription is not active.")}),t.addEventListener("rise-storage-error",function(e){var t={event:"rise storage error",event_details:"The request failed with status code: "+e.detail.error.currentTarget.status};RiseVision.Image.logEvent(t,!0),RiseVision.Image.showError("Sorry, there was a problem communicating with Rise Storage.",!0)}),t.addEventListener("rise-cache-error",function(e){var t={event:"rise cache error",event_details:e.detail.error.message};RiseVision.Image.logEvent(t,!0);var n=0;e.detail.error.message&&(n=+e.detail.error.message.substring(e.detail.error.message.indexOf(":")+2));var i=RiseVision.Common.Utilities.getRiseCacheErrorMessage(n);RiseVision.Image.showError(i)}),t.addEventListener("rise-cache-not-running",function(e){var t={event:"error",event_details:"rise cache not running",error_details:e.detail&&e.detail.error?e.detail.error.message:""};RiseVision.Image.logEvent(t,!0)}),t.setAttribute("fileType","image"),t.setAttribute("companyId",e.storage.companyId),t.setAttribute("folder",e.storage.folder),t.setAttribute("env",config.STORAGE_ENV),t.go()}var r=!0,o=[],s=null;return{init:i}};var RiseVision=RiseVision||{};RiseVision.Image=RiseVision.Image||{},RiseVision.Image.NonStorage=function(e){"use strict";function t(e){var t;r.getFile(l,function(e,i){if(i){t={event:"error",event_details:"non-storage error",error_details:i.message,file_url:e.url},RiseVision.Image.logEvent(t,!0);var r=0;i.message&&(r=+i.message.substring(i.message.indexOf(":")+2));var o=RiseVision.Common.Utilities.getRiseCacheErrorMessage(r);RiseVision.Image.showError(o)}else a?(a=!1,RiseVision.Image.onFileInit(e.url),n()):RiseVision.Image.onFileRefresh(e.url)},e)}function n(){null===s&&(s=setInterval(function(){t(!0)},o))}function i(){l=e.url&&""!==e.url?e.url:e.selector.url,t(!0)}var r=RiseVision.Common.RiseCache,o=3e5,s=null,a=!0,l="";return{init:i}};var RiseVision=RiseVision||{};RiseVision.Common=RiseVision.Common||{},RiseVision.Common.Message=function(e,t){"use strict";function n(){try{t.style.height=e.style.height}catch(n){console.warn("Can't initialize Message - ",n.message)}}function i(){if(o){for(;t.firstChild;)t.removeChild(t.firstChild);t.style.display="none",e.style.visibility="visible",o=!1}}function r(n){var i,r=document.createDocumentFragment();o?(i=t.querySelector(".message"),i.innerHTML=n):(e.style.visibility="hidden",t.style.display="block",i=document.createElement("p"),i.innerHTML=n,i.setAttribute("class","message"),r.appendChild(i),t.appendChild(r),o=!0)}var o=!1;return n(),{hide:i,show:r}},function(e,t,n){"use strict";function i(e,t){var n,i,r="",o="";Array.isArray(e)&&e.length>0&&Array.isArray(t)&&t.length>0&&("companyId"===e[0]&&(r=t[0]),"displayId"===e[1]&&(o=t[1]?t[1]:"preview"),RiseVision.Common.LoggerUtils.setIds(r,o),"additionalParams"===e[2]&&(n=JSON.parse(t[2]),i=0!==Object.keys(n.storage).length?n.storage.fileName?"file":"folder":"file",RiseVision.Image.setAdditionalParams(n,i)))}function r(){RiseVision.Image.pause()}function o(){RiseVision.Image.play()}function s(){RiseVision.Image.stop()}function a(){e.removeEventListener("WebComponentsReady",a),l&&""!==l&&(n.rpc.register("rscmd_play_"+l,o),n.rpc.register("rscmd_pause_"+l,r),n.rpc.register("rscmd_stop_"+l,s),n.rpc.register("rsparam_set_"+l,i),n.rpc.call("","rsparam_get",null,l,["companyId","displayId","additionalParams"]))}var l=(new n.Prefs).getString("id");e.oncontextmenu=function(){return!1},t.body.onmousedown=function(){return!1},e.addEventListener("WebComponentsReady",a)}(window,document,gadgets);var _gaq=_gaq||[];_gaq.push(["_setAccount","UA-57092159-3"]),_gaq.push(["_trackPageview"]),function(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src=("https:"==document.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImpzL3dpZGdldC5taW4uanMiXSwibmFtZXMiOlsiV0lER0VUX0NPTU1PTl9DT05GSUciLCJBVVRIX1BBVEhfVVJMIiwiTE9HR0VSX0NMSUVOVF9JRCIsIkxPR0dFUl9DTElFTlRfU0VDUkVUIiwiTE9HR0VSX1JFRlJFU0hfVE9LRU4iLCJTVE9SQUdFX0VOViIsIlNUT1JFX1VSTCIsIlJpc2VWaXNpb24iLCJDb21tb24iLCJMb2dnZXJVdGlscyIsImdldEV2ZW50UGFyYW1zIiwicGFyYW1zIiwiY2IiLCJqc29uIiwiZXZlbnQiLCJmaWxlX3VybCIsImZpbGVfZm9ybWF0IiwiZ2V0RmlsZUZvcm1hdCIsImNvbXBhbnlfaWQiLCJjb21wYW55SWQiLCJkaXNwbGF5X2lkIiwiZGlzcGxheUlkIiwiZ2V0U3VmZml4IiwiZGF0ZSIsIkRhdGUiLCJ5ZWFyIiwiZ2V0VVRDRnVsbFllYXIiLCJtb250aCIsImdldFVUQ01vbnRoIiwiZGF5IiwiZ2V0VVRDRGF0ZSIsInVybCIsInN0ciIsImhhc1BhcmFtcyIsInN1YnN0ciIsImxhc3RJbmRleE9mIiwidGVzdCIsImluZGV4T2YiLCJsZW5ndGgiLCJ0b0xvd2VyQ2FzZSIsImdldEluc2VydERhdGEiLCJCQVNFX0lOU0VSVF9TQ0hFTUEiLCJraW5kIiwic2tpcEludmFsaWRSb3dzIiwiaWdub3JlVW5rbm93blZhbHVlcyIsInRlbXBsYXRlU3VmZml4Iiwicm93cyIsImluc2VydElkIiwiZGF0YSIsIkpTT04iLCJwYXJzZSIsInN0cmluZ2lmeSIsIk1hdGgiLCJyYW5kb20iLCJ0b1N0cmluZyIsInRvVXBwZXJDYXNlIiwidHMiLCJ0b0lTT1N0cmluZyIsImxvZ0V2ZW50IiwidGFibGUiLCJMb2dnZXIiLCJsb2ciLCJzZXRJZHMiLCJjb21wYW55IiwiZGlzcGxheSIsInV0aWxzIiwicmVmcmVzaFRva2VuIiwieGhyIiwiWE1MSHR0cFJlcXVlc3QiLCJyZWZyZXNoRGF0ZSIsIm9wZW4iLCJSRUZSRVNIX1VSTCIsIm9ubG9hZGVuZCIsInJlc3AiLCJyZXNwb25zZSIsInRva2VuIiwiYWNjZXNzX3Rva2VuIiwicmVmcmVzaGVkQXQiLCJzZW5kIiwiaXNUaHJvdHRsZWQiLCJ0aHJvdHRsZSIsImxhc3RFdmVudCIsInRhYmxlTmFtZSIsImluc2VydFdpdGhUb2tlbiIsInJlZnJlc2hEYXRhIiwiaW5zZXJ0RGF0YSIsInNlcnZpY2VVcmwiLCJyZXBsYWNlIiwic2V0UmVxdWVzdEhlYWRlciIsImhhc093blByb3BlcnR5Iiwic2V0VGltZW91dCIsInRocm90dGxlRGVsYXkiLCJSaXNlQ2FjaGUiLCJwaW5nIiwiY2FsbGJhY2siLCJyIiwiQkFTRV9DQUNIRV9VUkwiLCJvbnJlYWR5c3RhdGVjaGFuZ2UiLCJyZWFkeVN0YXRlIiwiX3BpbmdSZWNlaXZlZCIsInN0YXR1cyIsIl9pc0NhY2hlUnVubmluZyIsInJlc3BvbnNlVGV4dCIsImNvbnNvbGUiLCJkZWJ1ZyIsImUiLCJkZXNjcmlwdGlvbiIsImdldEZpbGUiLCJmaWxlVXJsIiwibm9jYWNoZWJ1c3RlciIsImZpbGVSZXF1ZXN0Iiwic2VwYXJhdG9yIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiZ2V0VGltZSIsInNwbGl0IiwibWFrZVJlcXVlc3QiLCJtZXRob2QiLCJyZXF1ZXN0IiwiYWRkRXZlbnRMaXN0ZW5lciIsIkVycm9yIiwidGhpcyIsIlV0aWxpdGllcyIsImdldEZvbnRDc3NTdHlsZSIsImNsYXNzTmFtZSIsImZvbnRPYmoiLCJmYW1pbHkiLCJmb250IiwiY29sb3IiLCJmb3JlY29sb3IiLCJzaXplIiwid2VpZ2h0IiwiYm9sZCIsIml0YWxpYyIsInVuZGVybGluZSIsImhpZ2hsaWdodCIsImhpZ2hsaWdodENvbG9yIiwiYmFja2NvbG9yIiwiYWRkQ1NTUnVsZXMiLCJydWxlcyIsInN0eWxlIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiaSIsImFwcGVuZENoaWxkIiwiY3JlYXRlVGV4dE5vZGUiLCJoZWFkIiwibG9hZEZvbnRzIiwic2V0dGluZ3MiLCJjb250ZW50RG9jIiwiZm9yRWFjaCIsIml0ZW0iLCJjbGFzcyIsImZvbnRTZXR0aW5nIiwidHlwZSIsImxvYWRDdXN0b21Gb250IiwibG9hZEdvb2dsZUZvbnQiLCJzaGVldCIsInJ1bGUiLCJzdHlsZVNoZWV0cyIsImFkZFJ1bGUiLCJzdHlsZXNoZWV0Iiwic2V0QXR0cmlidXRlIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJwcmVsb2FkSW1hZ2VzIiwidXJscyIsImltYWdlcyIsIkltYWdlIiwic3JjIiwiZ2V0UXVlcnlQYXJhbWV0ZXIiLCJwYXJhbSIsInBhaXIiLCJxdWVyeSIsIndpbmRvdyIsImxvY2F0aW9uIiwic2VhcmNoIiwic3Vic3RyaW5nIiwidmFycyIsImRlY29kZVVSSUNvbXBvbmVudCIsImdldFJpc2VDYWNoZUVycm9yTWVzc2FnZSIsInN0YXR1c0NvZGUiLCJlcnJvck1lc3NhZ2UiLCJhbmd1bGFyIiwibW9kdWxlIiwiY29uc3RhbnQiLCJjb25maWciLCJnYWRnZXRzIiwiX3JlYWR5IiwicnBjIiwiY2FsbCIsIl9wcmVmcyIsImdldFN0cmluZyIsIl9kb25lIiwiX2Vycm9yTG9nIiwiX2dldEN1cnJlbnRGaWxlIiwiX2NsZWFyRXJyb3JUaW1lciIsImNsZWFyVGltZW91dCIsIl9lcnJvclRpbWVyIiwiX3N0YXJ0RXJyb3JUaW1lciIsInNsaWRlTnVtIiwiX2N1cnJlbnRGaWxlcyIsIl9tb2RlIiwiX3NsaWRlciIsImlzUmVhZHkiLCJnZXRDdXJyZW50U2xpZGUiLCJpbml0IiwiaXNTdG9yYWdlRmlsZSIsImNvbnRhaW5lciIsImdldEVsZW1lbnRCeUlkIiwiZnJhZ21lbnQiLCJjcmVhdGVEb2N1bWVudEZyYWdtZW50IiwiZWwiLCJfbWVzc2FnZSIsIk1lc3NhZ2UiLCJzaG93IiwiX3BhcmFtcyIsImJhY2tncm91bmQiLCJPYmplY3QiLCJrZXlzIiwiYm9keSIsIl9nZXRJbWFnZUVsZW1lbnQiLCJfaW1nIiwic3RvcmFnZSIsIl9jb25maWd1cmF0aW9uVHlwZSIsIl9zdG9yYWdlIiwiU3RvcmFnZUZpbGUiLCJfbm9uU3RvcmFnZSIsIk5vblN0b3JhZ2UiLCJTdG9yYWdlRm9sZGVyIiwicG9zaXRpb24iLCJzY2FsZVRvRml0Iiwic2V0U2luZ2xlSW1hZ2UiLCJvbmxvYWQiLCJpbWFnZSIsInF1ZXJ5U2VsZWN0b3IiLCJiYWNrZ3JvdW5kSW1hZ2UiLCJvbmVycm9yIiwiZXZlbnRfZGV0YWlscyIsImhhc1N0b3JhZ2VFcnJvciIsIl9zdG9yYWdlRXJyb3JGbGFnIiwiaXNFcnJvciIsImdldFRhYmxlTmFtZSIsIm9uRmlsZUluaXQiLCJoaWRlIiwiU2xpZGVyIiwib25GaWxlUmVmcmVzaCIsInJlZnJlc2giLCJfZXJyb3JGbGFnIiwic2V0QWRkaXRpb25hbFBhcmFtcyIsImFkZGl0aW9uYWxQYXJhbXMiLCJtb2RlVHlwZSIsIl8iLCJjbG9uZSIsIndpZHRoIiwiZ2V0SW50IiwiaGVpZ2h0Iiwib25TbGlkZXJSZWFkeSIsIl92aWV3ZXJQYXVzZWQiLCJwbGF5Iiwib25TbGlkZXJDb21wbGV0ZSIsInBhdXNlIiwicXVlcnlTZWxlY3RvckFsbCIsInZpc2liaWxpdHkiLCJfY29uZmlndXJhdGlvbkxvZ2dlZCIsInNob3dFcnJvciIsIm1lc3NhZ2UiLCJpc1N0b3JhZ2VFcnJvciIsImRlc3Ryb3kiLCJzdG9wIiwiUHJlZnMiLCJhZGRTbGlkZXMiLCJsaXN0Iiwic2xpZGVzIiwic2xpZGUiLCJ0b3RhbFNsaWRlcyIsImN1cnJlbnRGaWxlcyIsImZpbGUiLCJkdXJhdGlvbiIsInB1c2giLCJvblNsaWRlQ2hhbmdlZCIsImlzSW50ZXJhY3RpbmciLCJpc0xhc3RTbGlkZSIsInJlZnJlc2hTbGlkZXIiLCIkYXBpIiwiZGVzdHJveVNsaWRlciIsIm5ld0ZpbGVzIiwic2xpZGVJbmRleCIsIiQiLCJvZmYiLCJyZXZraWxsIiwiaGFuZGxlVXNlckFjdGl2aXR5Iiwic2xpZGVUaW1lciIsInJldm5leHQiLCJyZXZyZXN1bWUiLCJpc1BsYXlpbmciLCJoaWRlTmF2IiwiYXV0b0hpZGUiLCJuYXZUaW1lciIsImFkZENsYXNzIiwibmF2VGltZW91dCIsInJldmN1cnJlbnRzbGlkZSIsImZpbGVzIiwidHBCYW5uZXJDb250YWluZXIiLCJ0cEJhbm5lciIsInVsIiwiaXNMb2FkaW5nIiwicmV2b2x1dGlvbiIsImhpZGVUaHVtYnMiLCJoaWRlVGltZXJCYXIiLCJuYXZpZ2F0aW9uVHlwZSIsIm9uSG92ZXJTdG9wIiwic3RhcnR3aWR0aCIsInN0YXJ0aGVpZ2h0Iiwib24iLCJyZW1vdmVDbGFzcyIsInJlc3VtZSIsInJldnNob3dzbGlkZSIsInJldnBhdXNlIiwiZGV0YWlsIiwiX2luaXRpYWxMb2FkIiwiY2hhbmdlZCIsImVycm9yX2RldGFpbHMiLCJjb2RlIiwiaW1nIiwiZXJyb3IiLCJjdXJyZW50VGFyZ2V0IiwiZm9sZGVyIiwiZmlsZU5hbWUiLCJnbyIsInByb2Nlc3NVcmwiLCJhZGRlZCIsIl9maWxlcyIsIm5hbWUiLCJmaW5kIiwiZGVsZXRlZCIsInJlamVjdCIsInNvcnRCeSIsImhhbmRsZVJlc3BvbnNlIiwiX2lzTG9hZGluZyIsIl90aW1lciIsIl9nZXRGaWxlIiwib21pdENhY2hlQnVzdGVyIiwicmlzZUNhY2hlIiwiX3VybCIsIl9zdGFydFJlZnJlc2hJbnRlcnZhbCIsIl9yZWZyZXNoSW50ZXJ2YWxJZCIsInNldEludGVydmFsIiwiX3JlZnJlc2hEdXJhdGlvbiIsInNlbGVjdG9yIiwibWFpbkNvbnRhaW5lciIsIm1lc3NhZ2VDb250YWluZXIiLCJfaW5pdCIsIndhcm4iLCJfYWN0aXZlIiwiZmlyc3RDaGlsZCIsInJlbW92ZUNoaWxkIiwicCIsImlubmVySFRNTCIsImNvbmZpZ3VyZSIsIm5hbWVzIiwidmFsdWVzIiwibW9kZSIsIkFycmF5IiwiaXNBcnJheSIsInBvbHltZXJSZWFkeSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJpZCIsInJlZ2lzdGVyIiwib25jb250ZXh0bWVudSIsIm9ubW91c2Vkb3duIiwiX2dhcSIsImdhIiwiYXN5bmMiLCJwcm90b2NvbCIsInMiLCJwYXJlbnROb2RlIiwiaW5zZXJ0QmVm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LFFBR25CLFFBQVNGLEtBQ1AxUCxXQUFXK0osTUFBTTJGLE9BR25CLFFBQVNVLEtBQ1BwUSxXQUFXK0osTUFBTXFHLE9BR25CLFFBQVNnRyxLQUNQL0wsRUFBT2dNLG9CQUFvQixxQkFBc0JELEdBRTdDRSxHQUFhLEtBQVBBLElBQ1JwTCxFQUFRRSxJQUFJbUwsU0FBUyxjQUFnQkQsRUFBSTVHLEdBQ3pDeEUsRUFBUUUsSUFBSW1MLFNBQVMsZUFBaUJELEVBQUkxRyxHQUMxQzFFLEVBQVFFLElBQUltTCxTQUFTLGNBQWdCRCxFQUFJbEcsR0FDekNsRixFQUFRRSxJQUFJbUwsU0FBUyxlQUFpQkQsRUFBSVIsR0FDMUM1SyxFQUFRRSxJQUFJQyxLQUFLLEdBQUksY0FBZSxLQUFNaUwsR0FBSyxZQUFhLFlBQWEsc0JBN0U3RSxHQUFJQSxJQUFLLEdBQUlwTCxHQUFRbUYsT0FBUTlFLFVBQVUsS0FFdkNsQixHQUFPbU0sY0FBZ0IsV0FDckIsT0FBTyxHQUdUbk8sRUFBUzhFLEtBQUtzSixZQUFjLFdBQzFCLE9BQU8sR0EwRVRwTSxFQUFPdEQsaUJBQWlCLHFCQUFzQnFQLElBRTdDL0wsT0FBUWhDLFNBQVU2QyxRQUdyQixJQUFJd0wsTUFBT0EsUUFFWEEsTUFBSzVGLE1BQU0sY0FBZSxrQkFDMUI0RixLQUFLNUYsTUFBTSxtQkFFWCxXQUNFLEdBQUk2RixHQUFLdE8sU0FBU0MsY0FBYyxTQUFXcU8sR0FBR3pOLEtBQU8sa0JBQW1CeU4sRUFBR0MsT0FBUSxFQUNuRkQsRUFBRzNNLEtBQU8sVUFBWTNCLFNBQVNpQyxTQUFTdU0sU0FBVyxjQUFnQixjQUFnQiw2QkFDbkYsSUFBSUMsR0FBSXpPLFNBQVNzQixxQkFBcUIsVUFBVSxFQUFJbU4sR0FBRUMsV0FBV0MsYUFBYUwsRUFBSUciLCJmaWxlIjoianMvd2lkZ2V0Lm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBXSURHRVRfQ09NTU9OX0NPTkZJRyA9IHtcbiAgQVVUSF9QQVRIX1VSTDogXCJ2MS93aWRnZXQvYXV0aFwiLFxuICBMT0dHRVJfQ0xJRU5UX0lEOiBcIjEwODg1MjcxNDcxMDktNnExbzJ2dGlobjM0MjkycGp0NGNraG1oY2swcmswbzcuYXBwcy5nb29nbGV1c2VyY29udGVudC5jb21cIixcbiAgTE9HR0VSX0NMSUVOVF9TRUNSRVQ6IFwibmxaeXJjUExnNm9Fd085ZjlXZm4yOVdoXCIsXG4gIExPR0dFUl9SRUZSRVNIX1RPS0VOOiBcIjEveHp0NGt3ekUxSDdXOVZuS0I4Y0FhQ3g2emI0RXM0bktFb3FhWUhkVEQxNUlnT3JKRHRkdW42eks2WGlBVENLVFwiLFxuICBTVE9SQUdFX0VOVjogXCJwcm9kXCIsXG4gIFNUT1JFX1VSTDogXCJodHRwczovL3N0b3JlLWRvdC1ydmFzZXJ2ZXIyLmFwcHNwb3QuY29tL1wiXG59O1xuLyogZ2xvYmFsIGdhZGdldHMgKi9cblxudmFyIFJpc2VWaXNpb24gPSBSaXNlVmlzaW9uIHx8IHt9O1xuUmlzZVZpc2lvbi5Db21tb24gPSBSaXNlVmlzaW9uLkNvbW1vbiB8fCB7fTtcblxuUmlzZVZpc2lvbi5Db21tb24uTG9nZ2VyVXRpbHMgPSAoZnVuY3Rpb24oKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuXG4gICB2YXIgZGlzcGxheUlkID0gXCJcIixcbiAgICBjb21wYW55SWQgPSBcIlwiO1xuXG4gIC8qXG4gICAqICBQcml2YXRlIE1ldGhvZHNcbiAgICovXG5cbiAgLyogUmV0cmlldmUgcGFyYW1ldGVycyB0byBwYXNzIHRvIHRoZSBldmVudCBsb2dnZXIuICovXG4gIGZ1bmN0aW9uIGdldEV2ZW50UGFyYW1zKHBhcmFtcywgY2IpIHtcbiAgICB2YXIganNvbiA9IG51bGw7XG5cbiAgICAvLyBldmVudCBpcyByZXF1aXJlZC5cbiAgICBpZiAocGFyYW1zLmV2ZW50KSB7XG4gICAgICBqc29uID0gcGFyYW1zO1xuXG4gICAgICBpZiAoanNvbi5maWxlX3VybCkge1xuICAgICAgICBqc29uLmZpbGVfZm9ybWF0ID0gZ2V0RmlsZUZvcm1hdChqc29uLmZpbGVfdXJsKTtcbiAgICAgIH1cblxuICAgICAganNvbi5jb21wYW55X2lkID0gY29tcGFueUlkO1xuICAgICAganNvbi5kaXNwbGF5X2lkID0gZGlzcGxheUlkO1xuXG4gICAgICBjYihqc29uKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBjYihqc29uKTtcbiAgICB9XG4gIH1cblxuICAvLyBHZXQgc3VmZml4IGZvciBCUSB0YWJsZSBuYW1lLlxuICBmdW5jdGlvbiBnZXRTdWZmaXgoKSB7XG4gICAgdmFyIGRhdGUgPSBuZXcgRGF0ZSgpLFxuICAgICAgeWVhciA9IGRhdGUuZ2V0VVRDRnVsbFllYXIoKSxcbiAgICAgIG1vbnRoID0gZGF0ZS5nZXRVVENNb250aCgpICsgMSxcbiAgICAgIGRheSA9IGRhdGUuZ2V0VVRDRGF0ZSgpO1xuXG4gICAgaWYgKG1vbnRoIDwgMTApIHtcbiAgICAgIG1vbnRoID0gXCIwXCIgKyBtb250aDtcbiAgICB9XG5cbiAgICBpZiAoZGF5IDwgMTApIHtcbiAgICAgIGRheSA9IFwiMFwiICsgZGF5O1xuICAgIH1cblxuICAgIHJldHVybiB5ZWFyICsgbW9udGggKyBkYXk7XG4gIH1cblxuICAvKlxuICAgKiAgUHVibGljIE1ldGhvZHNcbiAgICovXG4gIGZ1bmN0aW9uIGdldEZpbGVGb3JtYXQodXJsKSB7XG4gICAgdmFyIGhhc1BhcmFtcyA9IC9bPyMmXS8sXG4gICAgICBzdHI7XG5cbiAgICBpZiAoIXVybCB8fCB0eXBlb2YgdXJsICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBzdHIgPSB1cmwuc3Vic3RyKHVybC5sYXN0SW5kZXhPZihcIi5cIikgKyAxKTtcblxuICAgIC8vIGRvbid0IGluY2x1ZGUgYW55IHBhcmFtcyBhZnRlciB0aGUgZmlsZW5hbWVcbiAgICBpZiAoaGFzUGFyYW1zLnRlc3Qoc3RyKSkge1xuICAgICAgc3RyID0gc3RyLnN1YnN0cigwICwoc3RyLmluZGV4T2YoXCI/XCIpICE9PSAtMSkgPyBzdHIuaW5kZXhPZihcIj9cIikgOiBzdHIubGVuZ3RoKTtcblxuICAgICAgc3RyID0gc3RyLnN1YnN0cigwLCAoc3RyLmluZGV4T2YoXCIjXCIpICE9PSAtMSkgPyBzdHIuaW5kZXhPZihcIiNcIikgOiBzdHIubGVuZ3RoKTtcblxuICAgICAgc3RyID0gc3RyLnN1YnN0cigwLCAoc3RyLmluZGV4T2YoXCImXCIpICE9PSAtMSkgPyBzdHIuaW5kZXhPZihcIiZcIikgOiBzdHIubGVuZ3RoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gc3RyLnRvTG93ZXJDYXNlKCk7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRJbnNlcnREYXRhKHBhcmFtcykge1xuICAgIHZhciBCQVNFX0lOU0VSVF9TQ0hFTUEgPSB7XG4gICAgICBcImtpbmRcIjogXCJiaWdxdWVyeSN0YWJsZURhdGFJbnNlcnRBbGxSZXF1ZXN0XCIsXG4gICAgICBcInNraXBJbnZhbGlkUm93c1wiOiBmYWxzZSxcbiAgICAgIFwiaWdub3JlVW5rbm93blZhbHVlc1wiOiBmYWxzZSxcbiAgICAgIFwidGVtcGxhdGVTdWZmaXhcIjogZ2V0U3VmZml4KCksXG4gICAgICBcInJvd3NcIjogW3tcbiAgICAgICAgXCJpbnNlcnRJZFwiOiBcIlwiXG4gICAgICB9XVxuICAgIH0sXG4gICAgZGF0YSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoQkFTRV9JTlNFUlRfU0NIRU1BKSk7XG5cbiAgICBkYXRhLnJvd3NbMF0uaW5zZXJ0SWQgPSBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHIoMikudG9VcHBlckNhc2UoKTtcbiAgICBkYXRhLnJvd3NbMF0uanNvbiA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkocGFyYW1zKSk7XG4gICAgZGF0YS5yb3dzWzBdLmpzb24udHMgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XG5cbiAgICByZXR1cm4gZGF0YTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGxvZ0V2ZW50KHRhYmxlLCBwYXJhbXMpIHtcbiAgICBnZXRFdmVudFBhcmFtcyhwYXJhbXMsIGZ1bmN0aW9uKGpzb24pIHtcbiAgICAgIGlmIChqc29uICE9PSBudWxsKSB7XG4gICAgICAgIFJpc2VWaXNpb24uQ29tbW9uLkxvZ2dlci5sb2codGFibGUsIGpzb24pO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgLyogU2V0IHRoZSBDb21wYW55IGFuZCBEaXNwbGF5IElEcy4gKi9cbiAgZnVuY3Rpb24gc2V0SWRzKGNvbXBhbnksIGRpc3BsYXkpIHtcbiAgICBjb21wYW55SWQgPSBjb21wYW55O1xuICAgIGRpc3BsYXlJZCA9IGRpc3BsYXk7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIFwiZ2V0SW5zZXJ0RGF0YVwiOiBnZXRJbnNlcnREYXRhLFxuICAgIFwiZ2V0RmlsZUZvcm1hdFwiOiBnZXRGaWxlRm9ybWF0LFxuICAgIFwibG9nRXZlbnRcIjogbG9nRXZlbnQsXG4gICAgXCJzZXRJZHNcIjogc2V0SWRzXG4gIH07XG59KSgpO1xuXG5SaXNlVmlzaW9uLkNvbW1vbi5Mb2dnZXIgPSAoZnVuY3Rpb24odXRpbHMpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgdmFyIFJFRlJFU0hfVVJMID0gXCJodHRwczovL3d3dy5nb29nbGVhcGlzLmNvbS9vYXV0aDIvdjMvdG9rZW4/Y2xpZW50X2lkPVwiICsgV0lER0VUX0NPTU1PTl9DT05GSUcuTE9HR0VSX0NMSUVOVF9JRCArXG4gICAgICBcIiZjbGllbnRfc2VjcmV0PVwiICsgV0lER0VUX0NPTU1PTl9DT05GSUcuTE9HR0VSX0NMSUVOVF9TRUNSRVQgK1xuICAgICAgXCImcmVmcmVzaF90b2tlbj1cIiArIFdJREdFVF9DT01NT05fQ09ORklHLkxPR0dFUl9SRUZSRVNIX1RPS0VOICtcbiAgICAgIFwiJmdyYW50X3R5cGU9cmVmcmVzaF90b2tlblwiO1xuXG4gIHZhciBzZXJ2aWNlVXJsID0gXCJodHRwczovL3d3dy5nb29nbGVhcGlzLmNvbS9iaWdxdWVyeS92Mi9wcm9qZWN0cy9jbGllbnQtc2lkZS1ldmVudHMvZGF0YXNldHMvV2lkZ2V0X0V2ZW50cy90YWJsZXMvVEFCTEVfSUQvaW5zZXJ0QWxsXCIsXG4gICAgdGhyb3R0bGUgPSBmYWxzZSxcbiAgICB0aHJvdHRsZURlbGF5ID0gMTAwMCxcbiAgICBsYXN0RXZlbnQgPSBcIlwiLFxuICAgIHJlZnJlc2hEYXRlID0gMCxcbiAgICB0b2tlbiA9IFwiXCI7XG5cbiAgLypcbiAgICogIFByaXZhdGUgTWV0aG9kc1xuICAgKi9cbiAgZnVuY3Rpb24gcmVmcmVzaFRva2VuKGNiKSB7XG4gICAgdmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuXG4gICAgaWYgKG5ldyBEYXRlKCkgLSByZWZyZXNoRGF0ZSA8IDM1ODAwMDApIHtcbiAgICAgIHJldHVybiBjYih7fSk7XG4gICAgfVxuXG4gICAgeGhyLm9wZW4oXCJQT1NUXCIsIFJFRlJFU0hfVVJMLCB0cnVlKTtcbiAgICB4aHIub25sb2FkZW5kID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgcmVzcCA9IEpTT04ucGFyc2UoeGhyLnJlc3BvbnNlKTtcblxuICAgICAgY2IoeyB0b2tlbjogcmVzcC5hY2Nlc3NfdG9rZW4sIHJlZnJlc2hlZEF0OiBuZXcgRGF0ZSgpIH0pO1xuICAgIH07XG5cbiAgICB4aHIuc2VuZCgpO1xuICB9XG5cbiAgZnVuY3Rpb24gaXNUaHJvdHRsZWQoZXZlbnQpIHtcbiAgICByZXR1cm4gdGhyb3R0bGUgJiYgKGxhc3RFdmVudCA9PT0gZXZlbnQpO1xuICB9XG5cbiAgLypcbiAgICogIFB1YmxpYyBNZXRob2RzXG4gICAqL1xuICBmdW5jdGlvbiBsb2codGFibGVOYW1lLCBwYXJhbXMpIHtcbiAgICBpZiAoIXRhYmxlTmFtZSB8fCAhcGFyYW1zIHx8IChwYXJhbXMuaGFzT3duUHJvcGVydHkoXCJldmVudFwiKSAmJiAhcGFyYW1zLmV2ZW50KSB8fFxuICAgICAgKHBhcmFtcy5oYXNPd25Qcm9wZXJ0eShcImV2ZW50XCIpICYmIGlzVGhyb3R0bGVkKHBhcmFtcy5ldmVudCkpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhyb3R0bGUgPSB0cnVlO1xuICAgIGxhc3RFdmVudCA9IHBhcmFtcy5ldmVudDtcblxuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgdGhyb3R0bGUgPSBmYWxzZTtcbiAgICB9LCB0aHJvdHRsZURlbGF5KTtcblxuICAgIGZ1bmN0aW9uIGluc2VydFdpdGhUb2tlbihyZWZyZXNoRGF0YSkge1xuICAgICAgdmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpLFxuICAgICAgICBpbnNlcnREYXRhLCB1cmw7XG5cbiAgICAgIHVybCA9IHNlcnZpY2VVcmwucmVwbGFjZShcIlRBQkxFX0lEXCIsIHRhYmxlTmFtZSk7XG4gICAgICByZWZyZXNoRGF0ZSA9IHJlZnJlc2hEYXRhLnJlZnJlc2hlZEF0IHx8IHJlZnJlc2hEYXRlO1xuICAgICAgdG9rZW4gPSByZWZyZXNoRGF0YS50b2tlbiB8fCB0b2tlbjtcbiAgICAgIGluc2VydERhdGEgPSB1dGlscy5nZXRJbnNlcnREYXRhKHBhcmFtcyk7XG5cbiAgICAgIC8vIEluc2VydCB0aGUgZGF0YS5cbiAgICAgIHhoci5vcGVuKFwiUE9TVFwiLCB1cmwsIHRydWUpO1xuICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoXCJDb250ZW50LVR5cGVcIiwgXCJhcHBsaWNhdGlvbi9qc29uXCIpO1xuICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoXCJBdXRob3JpemF0aW9uXCIsIFwiQmVhcmVyIFwiICsgdG9rZW4pO1xuXG4gICAgICBpZiAocGFyYW1zLmNiICYmIHR5cGVvZiBwYXJhbXMuY2IgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICB4aHIub25sb2FkZW5kID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgcGFyYW1zLmNiKHhoci5yZXNwb25zZSk7XG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIHhoci5zZW5kKEpTT04uc3RyaW5naWZ5KGluc2VydERhdGEpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVmcmVzaFRva2VuKGluc2VydFdpdGhUb2tlbik7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIFwibG9nXCI6IGxvZ1xuICB9O1xufSkoUmlzZVZpc2lvbi5Db21tb24uTG9nZ2VyVXRpbHMpO1xudmFyIFJpc2VWaXNpb24gPSBSaXNlVmlzaW9uIHx8IHt9O1xuUmlzZVZpc2lvbi5Db21tb24gPSBSaXNlVmlzaW9uLkNvbW1vbiB8fCB7fTtcblxuUmlzZVZpc2lvbi5Db21tb24uUmlzZUNhY2hlID0gKGZ1bmN0aW9uICgpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgdmFyIEJBU0VfQ0FDSEVfVVJMID0gXCIvL2xvY2FsaG9zdDo5NDk0L1wiO1xuXG4gIHZhciBfcGluZ1JlY2VpdmVkID0gZmFsc2UsXG4gICAgX2lzQ2FjaGVSdW5uaW5nID0gZmFsc2U7XG5cbiAgZnVuY3Rpb24gcGluZyhjYWxsYmFjaykge1xuICAgIHZhciByID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG5cbiAgICBpZiAoIWNhbGxiYWNrIHx8IHR5cGVvZiBjYWxsYmFjayAhPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgci5vcGVuKFwiR0VUXCIsIEJBU0VfQ0FDSEVfVVJMICsgXCJwaW5nP2NhbGxiYWNrPV9cIiwgdHJ1ZSk7XG4gICAgci5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB0cnkge1xuICAgICAgICBpZiAoci5yZWFkeVN0YXRlID09PSA0ICkge1xuICAgICAgICAgIC8vIHNhdmUgdGhpcyByZXN1bHQgZm9yIHVzZSBpbiBnZXRGaWxlKClcbiAgICAgICAgICBfcGluZ1JlY2VpdmVkID0gdHJ1ZTtcblxuICAgICAgICAgIGlmKHIuc3RhdHVzID09PSAyMDApe1xuICAgICAgICAgICAgX2lzQ2FjaGVSdW5uaW5nID0gdHJ1ZTtcblxuICAgICAgICAgICAgY2FsbGJhY2sodHJ1ZSwgci5yZXNwb25zZVRleHQpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLmRlYnVnKFwiUmlzZSBDYWNoZSBpcyBub3QgcnVubmluZ1wiKTtcbiAgICAgICAgICAgIF9pc0NhY2hlUnVubmluZyA9IGZhbHNlO1xuXG4gICAgICAgICAgICBjYWxsYmFjayhmYWxzZSwgbnVsbCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBjYXRjaCAoZSkge1xuICAgICAgICBjb25zb2xlLmRlYnVnKFwiQ2F1Z2h0IGV4Y2VwdGlvbjogXCIsIGUuZGVzY3JpcHRpb24pO1xuICAgICAgfVxuXG4gICAgfTtcbiAgICByLnNlbmQoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldEZpbGUoZmlsZVVybCwgY2FsbGJhY2ssIG5vY2FjaGVidXN0ZXIpIHtcbiAgICBpZiAoIWZpbGVVcmwgfHwgIWNhbGxiYWNrIHx8IHR5cGVvZiBjYWxsYmFjayAhPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZmlsZVJlcXVlc3QoKSB7XG4gICAgICB2YXIgdXJsLCBzdHIsIHNlcGFyYXRvcjtcblxuICAgICAgaWYgKF9pc0NhY2hlUnVubmluZykge1xuICAgICAgICAvLyBjb25maWd1cmUgdXJsIHdpdGggY2FjaGVidXN0ZXIgb3Igbm90XG4gICAgICAgIHVybCA9IChub2NhY2hlYnVzdGVyKSA/IEJBU0VfQ0FDSEVfVVJMICsgXCI/dXJsPVwiICsgZW5jb2RlVVJJQ29tcG9uZW50KGZpbGVVcmwpIDpcbiAgICAgICAgQkFTRV9DQUNIRV9VUkwgKyBcImNiPVwiICsgbmV3IERhdGUoKS5nZXRUaW1lKCkgKyBcIj91cmw9XCIgKyBlbmNvZGVVUklDb21wb25lbnQoZmlsZVVybCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAobm9jYWNoZWJ1c3Rlcikge1xuICAgICAgICAgIHVybCA9IGZpbGVVcmw7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc3RyID0gZmlsZVVybC5zcGxpdChcIj9cIik7XG4gICAgICAgICAgc2VwYXJhdG9yID0gKHN0ci5sZW5ndGggPT09IDEpID8gXCI/XCIgOiBcIiZcIjtcbiAgICAgICAgICB1cmwgPSBmaWxlVXJsICsgc2VwYXJhdG9yICsgXCJjYj1cIiArIG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIG1ha2VSZXF1ZXN0KFwiSEVBRFwiLCB1cmwpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG1ha2VSZXF1ZXN0KG1ldGhvZCwgdXJsKSB7XG4gICAgICB2YXIgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCksXG4gICAgICAgIHJlcXVlc3QgPSB7XG4gICAgICAgICAgeGhyOiB4aHIsXG4gICAgICAgICAgdXJsOiB1cmxcbiAgICAgICAgfTtcblxuICAgICAgaWYgKF9pc0NhY2hlUnVubmluZykge1xuICAgICAgICB4aHIub3BlbihtZXRob2QsIHVybCwgdHJ1ZSk7XG5cbiAgICAgICAgeGhyLmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkZW5kXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICB2YXIgc3RhdHVzID0geGhyLnN0YXR1cyB8fCAwO1xuXG4gICAgICAgICAgaWYgKHN0YXR1cyA+PSAyMDAgJiYgc3RhdHVzIDwgMzAwKSB7XG4gICAgICAgICAgICBjYWxsYmFjayhyZXF1ZXN0KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gU2VydmVyIG1heSBub3Qgc3VwcG9ydCBIRUFEIHJlcXVlc3QuIEZhbGxiYWNrIHRvIGEgR0VUIHJlcXVlc3QuXG4gICAgICAgICAgICBpZiAobWV0aG9kID09PSBcIkhFQURcIikge1xuICAgICAgICAgICAgICBtYWtlUmVxdWVzdChcIkdFVFwiLCB1cmwpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgY2FsbGJhY2socmVxdWVzdCwgbmV3IEVycm9yKFwiVGhlIHJlcXVlc3QgZmFpbGVkIHdpdGggc3RhdHVzIGNvZGU6IFwiICsgc3RhdHVzKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICB4aHIuc2VuZCgpO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIC8vIFJpc2UgQ2FjaGUgaXMgbm90IHJ1bm5pbmcgKHByZXZpZXcpLCBza2lwIEhFQUQgcmVxdWVzdCBhbmQgZXhlY3V0ZSBjYWxsYmFjayBpbW1lZGlhdGVseVxuICAgICAgICBjYWxsYmFjayhyZXF1ZXN0KTtcbiAgICAgIH1cblxuICAgIH1cblxuICAgIGlmICghX3BpbmdSZWNlaXZlZCkge1xuICAgICAgLyoganNoaW50IHZhbGlkdGhpczogdHJ1ZSAqL1xuICAgICAgcmV0dXJuIHRoaXMucGluZyhmaWxlUmVxdWVzdCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmaWxlUmVxdWVzdCgpO1xuICAgIH1cblxuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBnZXRGaWxlOiBnZXRGaWxlLFxuICAgIHBpbmc6IHBpbmdcbiAgfTtcblxufSkoKTtcblxudmFyIFJpc2VWaXNpb24gPSBSaXNlVmlzaW9uIHx8IHt9O1xuXG5SaXNlVmlzaW9uLkNvbW1vbiA9IFJpc2VWaXNpb24uQ29tbW9uIHx8IHt9O1xuXG5SaXNlVmlzaW9uLkNvbW1vbi5VdGlsaXRpZXMgPSAoZnVuY3Rpb24oKSB7XG5cbiAgZnVuY3Rpb24gZ2V0Rm9udENzc1N0eWxlKGNsYXNzTmFtZSwgZm9udE9iaikge1xuICAgIHZhciBmYW1pbHkgPSBcImZvbnQtZmFtaWx5OlwiICsgZm9udE9iai5mb250LmZhbWlseSArIFwiOyBcIjtcbiAgICB2YXIgY29sb3IgPSBcImNvbG9yOiBcIiArIChmb250T2JqLmNvbG9yID8gZm9udE9iai5jb2xvciA6IGZvbnRPYmouZm9yZWNvbG9yKSArIFwiOyBcIjtcbiAgICB2YXIgc2l6ZSA9IFwiZm9udC1zaXplOiBcIiArIChmb250T2JqLnNpemUuaW5kZXhPZihcInB4XCIpID09PSAtMSA/IGZvbnRPYmouc2l6ZSArIFwicHg7IFwiIDogZm9udE9iai5zaXplICsgXCI7IFwiKTtcbiAgICB2YXIgd2VpZ2h0ID0gXCJmb250LXdlaWdodDogXCIgKyAoZm9udE9iai5ib2xkID8gXCJib2xkXCIgOiBcIm5vcm1hbFwiKSArIFwiOyBcIjtcbiAgICB2YXIgaXRhbGljID0gXCJmb250LXN0eWxlOiBcIiArIChmb250T2JqLml0YWxpYyA/IFwiaXRhbGljXCIgOiBcIm5vcm1hbFwiKSArIFwiOyBcIjtcbiAgICB2YXIgdW5kZXJsaW5lID0gXCJ0ZXh0LWRlY29yYXRpb246IFwiICsgKGZvbnRPYmoudW5kZXJsaW5lID8gXCJ1bmRlcmxpbmVcIiA6IFwibm9uZVwiKSArIFwiOyBcIjtcbiAgICB2YXIgaGlnaGxpZ2h0ID0gXCJiYWNrZ3JvdW5kLWNvbG9yOiBcIiArIChmb250T2JqLmhpZ2hsaWdodENvbG9yID8gZm9udE9iai5oaWdobGlnaHRDb2xvciA6IGZvbnRPYmouYmFja2NvbG9yKSArIFwiOyBcIjtcblxuICAgIHJldHVybiBcIi5cIiArIGNsYXNzTmFtZSArIFwiIHtcIiArIGZhbWlseSArIGNvbG9yICsgc2l6ZSArIHdlaWdodCArIGl0YWxpYyArIHVuZGVybGluZSArIGhpZ2hsaWdodCArIFwifVwiO1xuICB9XG5cbiAgZnVuY3Rpb24gYWRkQ1NTUnVsZXMocnVsZXMpIHtcbiAgICB2YXIgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7XG5cbiAgICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoID0gcnVsZXMubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIHN0eWxlLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHJ1bGVzW2ldKSk7XG4gICAgfVxuXG4gICAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChzdHlsZSk7XG4gIH1cblxuICAvKlxuICAgKiBMb2FkcyBHb29nbGUgb3IgY3VzdG9tIGZvbnRzLCBpZiBhcHBsaWNhYmxlLCBhbmQgaW5qZWN0cyBDU1Mgc3R5bGVzXG4gICAqIGludG8gdGhlIGhlYWQgb2YgdGhlIGRvY3VtZW50LlxuICAgKlxuICAgKiBAcGFyYW0gICAgYXJyYXkgICAgc2V0dGluZ3MgICAgQXJyYXkgb2Ygb2JqZWN0cyB3aXRoIHRoZSBmb2xsb3dpbmcgZm9ybTpcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbe1xuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJjbGFzc1wiOiBcImRhdGVcIixcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiZm9udFNldHRpbmdcIjoge1xuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvbGQ6IHRydWUsXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IFwiYmxhY2tcIixcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb250OiB7XG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmYW1pbHk6IFwiQWtyb25pbVwiLFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9udDogXCJBa3JvbmltXCIsXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBcIlZlcmRhbmFcIixcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiZ29vZ2xlXCIsXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmw6IFwiaHR0cDovL2N1c3RvbS1mb250LXVybFwiXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoaWdobGlnaHRDb2xvcjogXCJ0cmFuc3BhcmVudFwiLFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0YWxpYzogZmFsc2UsXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogXCIyMFwiLFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVuZGVybGluZTogZmFsc2VcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XVxuICAgKlxuICAgKiAgICAgICAgICAgb2JqZWN0ICAgY29udGVudERvYyAgICBEb2N1bWVudCBvYmplY3QgaW50byB3aGljaCB0byBpbmplY3Qgc3R5bGVzXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuZCBsb2FkIGZvbnRzIChvcHRpb25hbCkuXG4gICAqL1xuICBmdW5jdGlvbiBsb2FkRm9udHMoc2V0dGluZ3MsIGNvbnRlbnREb2MpIHtcbiAgICBzZXR0aW5ncy5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgIGlmIChpdGVtLmNsYXNzICYmIGl0ZW0uZm9udFNldHRpbmcpIHtcbiAgICAgICAgYWRkQ1NTUnVsZXMoWyBnZXRGb250Q3NzU3R5bGUoaXRlbS5jbGFzcywgaXRlbS5mb250U2V0dGluZykgXSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChpdGVtLmZvbnRTZXR0aW5nLmZvbnQudHlwZSkge1xuICAgICAgICBpZiAoaXRlbS5mb250U2V0dGluZy5mb250LnR5cGUgPT09IFwiY3VzdG9tXCIgJiYgaXRlbS5mb250U2V0dGluZy5mb250LmZhbWlseSAmJlxuICAgICAgICAgIGl0ZW0uZm9udFNldHRpbmcuZm9udC51cmwpIHtcbiAgICAgICAgICBsb2FkQ3VzdG9tRm9udChpdGVtLmZvbnRTZXR0aW5nLmZvbnQuZmFtaWx5LCBpdGVtLmZvbnRTZXR0aW5nLmZvbnQudXJsLFxuICAgICAgICAgICAgY29udGVudERvYyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXRlbS5mb250U2V0dGluZy5mb250LnR5cGUgPT09IFwiZ29vZ2xlXCIgJiYgaXRlbS5mb250U2V0dGluZy5mb250LmZhbWlseSkge1xuICAgICAgICAgIGxvYWRHb29nbGVGb250KGl0ZW0uZm9udFNldHRpbmcuZm9udC5mYW1pbHksIGNvbnRlbnREb2MpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBsb2FkQ3VzdG9tRm9udChmYW1pbHksIHVybCwgY29udGVudERvYykge1xuICAgIHZhciBzaGVldCA9IG51bGw7XG4gICAgdmFyIHJ1bGUgPSBcImZvbnQtZmFtaWx5OiBcIiArIGZhbWlseSArIFwiOyBcIiArIFwic3JjOiB1cmwoJ1wiICsgdXJsICsgXCInKTtcIjtcblxuICAgIGNvbnRlbnREb2MgPSBjb250ZW50RG9jIHx8IGRvY3VtZW50O1xuXG4gICAgc2hlZXQgPSBjb250ZW50RG9jLnN0eWxlU2hlZXRzWzBdO1xuXG4gICAgaWYgKHNoZWV0ICE9PSBudWxsKSB7XG4gICAgICBzaGVldC5hZGRSdWxlKFwiQGZvbnQtZmFjZVwiLCBydWxlKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBsb2FkR29vZ2xlRm9udChmYW1pbHksIGNvbnRlbnREb2MpIHtcbiAgICB2YXIgc3R5bGVzaGVldCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaW5rXCIpO1xuXG4gICAgY29udGVudERvYyA9IGNvbnRlbnREb2MgfHwgZG9jdW1lbnQ7XG5cbiAgICBzdHlsZXNoZWV0LnNldEF0dHJpYnV0ZShcInJlbFwiLCBcInN0eWxlc2hlZXRcIik7XG4gICAgc3R5bGVzaGVldC5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsIFwidGV4dC9jc3NcIik7XG5cbiAgICAvLyBzcGxpdCB0byBhY2NvdW50IGZvciBmYW1pbHkgdmFsdWUgY29udGFpbmluZyBhIGZhbGxiYWNrIChlZy4gQWxhZGluLHNhbnMtc2VyaWYpXG4gICAgc3R5bGVzaGVldC5zZXRBdHRyaWJ1dGUoXCJocmVmXCIsIFwiaHR0cHM6Ly9mb250cy5nb29nbGVhcGlzLmNvbS9jc3M/ZmFtaWx5PVwiICsgZmFtaWx5LnNwbGl0KFwiLFwiKVswXSk7XG5cbiAgICBpZiAoc3R5bGVzaGVldCAhPT0gbnVsbCkge1xuICAgICAgY29udGVudERvYy5nZXRFbGVtZW50c0J5VGFnTmFtZShcImhlYWRcIilbMF0uYXBwZW5kQ2hpbGQoc3R5bGVzaGVldCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcHJlbG9hZEltYWdlcyh1cmxzKSB7XG4gICAgdmFyIGxlbmd0aCA9IHVybHMubGVuZ3RoLFxuICAgICAgaW1hZ2VzID0gW107XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICBpbWFnZXNbaV0gPSBuZXcgSW1hZ2UoKTtcbiAgICAgIGltYWdlc1tpXS5zcmMgPSB1cmxzW2ldO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGdldFF1ZXJ5UGFyYW1ldGVyKHBhcmFtKSB7XG4gICAgdmFyIHF1ZXJ5ID0gd2luZG93LmxvY2F0aW9uLnNlYXJjaC5zdWJzdHJpbmcoMSksXG4gICAgICB2YXJzID0gcXVlcnkuc3BsaXQoXCImXCIpLFxuICAgICAgcGFpcjtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdmFycy5sZW5ndGg7IGkrKykge1xuICAgICAgcGFpciA9IHZhcnNbaV0uc3BsaXQoXCI9XCIpO1xuXG4gICAgICBpZiAocGFpclswXSA9PSBwYXJhbSkge1xuICAgICAgICByZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KHBhaXJbMV0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBcIlwiO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0UmlzZUNhY2hlRXJyb3JNZXNzYWdlKHN0YXR1c0NvZGUpIHtcbiAgICB2YXIgZXJyb3JNZXNzYWdlID0gXCJcIjtcbiAgICBzd2l0Y2ggKHN0YXR1c0NvZGUpIHtcbiAgICAgIGNhc2UgNDA0OlxuICAgICAgICBlcnJvck1lc3NhZ2UgPSBcIlRoZSBmaWxlIGRvZXMgbm90IGV4aXN0IG9yIGNhbm5vdCBiZSBhY2Nlc3NlZC5cIjtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIDUwNzpcbiAgICAgICAgZXJyb3JNZXNzYWdlID0gXCJUaGVyZSBpcyBub3QgZW5vdWdoIGRpc2sgc3BhY2UgdG8gc2F2ZSB0aGUgZmlsZSBvbiBSaXNlIENhY2hlLlwiO1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGVycm9yTWVzc2FnZSA9IFwiVGhlcmUgd2FzIGEgcHJvYmxlbSByZXRyaWV2aW5nIHRoZSBmaWxlIGZyb20gUmlzZSBDYWNoZS5cIjtcbiAgICB9XG5cbiAgICByZXR1cm4gZXJyb3JNZXNzYWdlO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBnZXRRdWVyeVBhcmFtZXRlcjogZ2V0UXVlcnlQYXJhbWV0ZXIsXG4gICAgZ2V0Rm9udENzc1N0eWxlOiAgZ2V0Rm9udENzc1N0eWxlLFxuICAgIGFkZENTU1J1bGVzOiAgICAgIGFkZENTU1J1bGVzLFxuICAgIGxvYWRGb250czogICAgICAgIGxvYWRGb250cyxcbiAgICBsb2FkQ3VzdG9tRm9udDogICBsb2FkQ3VzdG9tRm9udCxcbiAgICBsb2FkR29vZ2xlRm9udDogICBsb2FkR29vZ2xlRm9udCxcbiAgICBwcmVsb2FkSW1hZ2VzOiAgICBwcmVsb2FkSW1hZ2VzLFxuICAgIGdldFJpc2VDYWNoZUVycm9yTWVzc2FnZTogZ2V0UmlzZUNhY2hlRXJyb3JNZXNzYWdlXG4gIH07XG59KSgpO1xuXG4vKiBleHBvcnRlZCBjb25maWcgKi9cbmlmICh0eXBlb2YgYW5ndWxhciAhPT0gXCJ1bmRlZmluZWRcIikge1xuICBhbmd1bGFyLm1vZHVsZShcInJpc2V2aXNpb24uY29tbW9uLmkxOG4uY29uZmlnXCIsIFtdKVxuICAgIC5jb25zdGFudChcIkxPQ0FMRVNfUFJFRklYXCIsIFwibG9jYWxlcy90cmFuc2xhdGlvbl9cIilcbiAgICAuY29uc3RhbnQoXCJMT0NBTEVTX1NVRklYXCIsIFwiLmpzb25cIik7XG59XG5cbnZhciBjb25maWcgPSB7XG4gIFNUT1JBR0VfRU5WOiBcInByb2RcIlxufTtcblxuLyogZ2xvYmFsIGdhZGdldHMsIF8gKi9cblxudmFyIFJpc2VWaXNpb24gPSBSaXNlVmlzaW9uIHx8IHt9O1xuUmlzZVZpc2lvbi5JbWFnZSA9IHt9O1xuXG5SaXNlVmlzaW9uLkltYWdlID0gKGZ1bmN0aW9uIChnYWRnZXRzKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuXG4gIHZhciBfbW9kZTtcblxuICB2YXIgX3ByZWZzID0gbmV3IGdhZGdldHMuUHJlZnMoKSxcbiAgICBfbWVzc2FnZSA9IG51bGwsXG4gICAgX3BhcmFtcyA9IG51bGw7XG5cbiAgdmFyIF9zdG9yYWdlID0gbnVsbCxcbiAgICBfbm9uU3RvcmFnZSA9IG51bGwsXG4gICAgX3NsaWRlciA9IG51bGw7XG5cbiAgdmFyIF9jdXJyZW50RmlsZXMgPSBbXTtcblxuICB2YXIgX2Vycm9yTG9nID0gbnVsbCxcbiAgICBfY29uZmlndXJhdGlvblR5cGUgPSBudWxsLFxuICAgIF9lcnJvclRpbWVyID0gbnVsbCxcbiAgICBfZXJyb3JGbGFnID0gZmFsc2UsXG4gICAgX3N0b3JhZ2VFcnJvckZsYWcgPSBmYWxzZSxcbiAgICBfY29uZmlndXJhdGlvbkxvZ2dlZCA9IGZhbHNlO1xuXG4gIHZhciBfdmlld2VyUGF1c2VkID0gdHJ1ZTtcblxuICB2YXIgX2ltZyA9IG51bGw7XG5cbiAgLypcbiAgICogIFByaXZhdGUgTWV0aG9kc1xuICAgKi9cbiAgZnVuY3Rpb24gX3JlYWR5KCkge1xuICAgIGdhZGdldHMucnBjLmNhbGwoXCJcIiwgXCJyc2V2ZW50X3JlYWR5XCIsIG51bGwsIF9wcmVmcy5nZXRTdHJpbmcoXCJpZFwiKSxcbiAgICAgIHRydWUsIHRydWUsIHRydWUsIHRydWUsIHRydWUpO1xuICB9XG5cbiAgZnVuY3Rpb24gX2RvbmUoKSB7XG4gICAgZ2FkZ2V0cy5ycGMuY2FsbChcIlwiLCBcInJzZXZlbnRfZG9uZVwiLCBudWxsLCBfcHJlZnMuZ2V0U3RyaW5nKFwiaWRcIikpO1xuXG4gICAgLy8gQW55IGVycm9ycyBuZWVkIHRvIGJlIGxvZ2dlZCBiZWZvcmUgdGhlIGRvbmUgZXZlbnQuXG4gICAgaWYgKF9lcnJvckxvZyAhPT0gbnVsbCkge1xuICAgICAgbG9nRXZlbnQoX2Vycm9yTG9nLCB0cnVlKTtcbiAgICB9XG5cbiAgICAvLyBsb2cgXCJkb25lXCIgZXZlbnRcbiAgICBsb2dFdmVudCh7IFwiZXZlbnRcIjogXCJkb25lXCIsIFwiZmlsZV91cmxcIjogX2dldEN1cnJlbnRGaWxlKCkgfSwgZmFsc2UpO1xuICB9XG5cbiAgZnVuY3Rpb24gX2NsZWFyRXJyb3JUaW1lcigpIHtcbiAgICBjbGVhclRpbWVvdXQoX2Vycm9yVGltZXIpO1xuICAgIF9lcnJvclRpbWVyID0gbnVsbDtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9zdGFydEVycm9yVGltZXIoKSB7XG4gICAgX2NsZWFyRXJyb3JUaW1lcigpO1xuXG4gICAgX2Vycm9yVGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgIC8vIG5vdGlmeSBWaWV3ZXIgd2lkZ2V0IGlzIGRvbmVcbiAgICAgIF9kb25lKCk7XG4gICAgfSwgNTAwMCk7XG4gIH1cblxuICBmdW5jdGlvbiBfZ2V0Q3VycmVudEZpbGUoKSB7XG4gICAgdmFyIHNsaWRlTnVtID0gLTE7XG5cbiAgICBpZiAoX2N1cnJlbnRGaWxlcyAmJiBfY3VycmVudEZpbGVzLmxlbmd0aCA+IDApIHtcbiAgICAgIGlmIChfbW9kZSA9PT0gXCJmaWxlXCIpIHtcbiAgICAgICAgcmV0dXJuIF9jdXJyZW50RmlsZXNbMF07XG4gICAgICB9XG4gICAgICBlbHNlIGlmIChfbW9kZSA9PT0gXCJmb2xkZXJcIiAmJiBfc2xpZGVyICYmIF9zbGlkZXIuaXNSZWFkeSgpKSB7XG4gICAgICAgIC8vIHJldHJpZXZlIHRoZSBjdXJyZW50bHkgcGxheWVkIHNsaWRlXG4gICAgICAgIHNsaWRlTnVtID0gX3NsaWRlci5nZXRDdXJyZW50U2xpZGUoKTtcblxuICAgICAgICBpZiAoc2xpZGVOdW0gIT09IC0xKSB7XG4gICAgICAgICAgcmV0dXJuIF9jdXJyZW50RmlsZXNbc2xpZGVOdW1dO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBmdW5jdGlvbiBpbml0KCkge1xuICAgIHZhciBjb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNvbnRhaW5lclwiKSxcbiAgICAgIGZyYWdtZW50ID0gZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLFxuICAgICAgZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLFxuICAgICAgaXNTdG9yYWdlRmlsZTtcblxuICAgIC8vIGNyZWF0ZSBpbnN0YW5jZSBvZiBtZXNzYWdlXG4gICAgX21lc3NhZ2UgPSBuZXcgUmlzZVZpc2lvbi5Db21tb24uTWVzc2FnZShkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNvbnRhaW5lclwiKSxcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibWVzc2FnZUNvbnRhaW5lclwiKSk7XG5cbiAgICAvLyBzaG93IHdhaXQgbWVzc2FnZVxuICAgIF9tZXNzYWdlLnNob3coXCJQbGVhc2Ugd2FpdCB3aGlsZSB5b3VyIGltYWdlIGlzIGRvd25sb2FkZWQuXCIpO1xuXG4gICAgLy8gbGVnYWN5XG4gICAgaWYgKF9wYXJhbXMuYmFja2dyb3VuZCAmJiBPYmplY3Qua2V5cyhfcGFyYW1zLmJhY2tncm91bmQpLmxlbmd0aCA+IDApIHtcbiAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUuYmFja2dyb3VuZCA9IF9wYXJhbXMuYmFja2dyb3VuZC5jb2xvcjtcbiAgICB9XG5cbiAgICBpZiAoX21vZGUgPT09IFwiZmlsZVwiKSB7XG4gICAgICAvLyBjcmVhdGUgdGhlIGltYWdlIDxkaXY+IHdpdGhpbiB0aGUgY29udGFpbmVyIDxkaXY+XG4gICAgICBlbCA9IF9nZXRJbWFnZUVsZW1lbnQoKTtcbiAgICAgIGZyYWdtZW50LmFwcGVuZENoaWxkKGVsKTtcbiAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChmcmFnbWVudCk7XG5cbiAgICAgIF9pbWcgPSBuZXcgSW1hZ2UoKTtcblxuICAgICAgaXNTdG9yYWdlRmlsZSA9IChPYmplY3Qua2V5cyhfcGFyYW1zLnN0b3JhZ2UpLmxlbmd0aCAhPT0gMCk7XG5cbiAgICAgIGlmICghaXNTdG9yYWdlRmlsZSkge1xuICAgICAgICBfY29uZmlndXJhdGlvblR5cGUgPSBcImN1c3RvbVwiO1xuXG4gICAgICAgIF9ub25TdG9yYWdlID0gbmV3IFJpc2VWaXNpb24uSW1hZ2UuTm9uU3RvcmFnZShfcGFyYW1zKTtcbiAgICAgICAgX25vblN0b3JhZ2UuaW5pdCgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgX2NvbmZpZ3VyYXRpb25UeXBlID0gXCJzdG9yYWdlIGZpbGVcIjtcblxuICAgICAgICAvLyBjcmVhdGUgYW5kIGluaXRpYWxpemUgdGhlIFN0b3JhZ2UgZmlsZSBpbnN0YW5jZVxuICAgICAgICBfc3RvcmFnZSA9IG5ldyBSaXNlVmlzaW9uLkltYWdlLlN0b3JhZ2VGaWxlKF9wYXJhbXMpO1xuICAgICAgICBfc3RvcmFnZS5pbml0KCk7XG4gICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKF9tb2RlID09PSBcImZvbGRlclwiKSB7XG4gICAgICAvLyBjcmVhdGUgdGhlIHNsaWRlciBjb250YWluZXIgPGRpdj4gd2l0aGluIHRoZSBjb250YWluZXIgPGRpdj5cbiAgICAgIGVsLmNsYXNzTmFtZSA9IFwidHAtYmFubmVyLWNvbnRhaW5lclwiO1xuXG4gICAgICBmcmFnbWVudC5hcHBlbmRDaGlsZChlbCk7XG4gICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoZnJhZ21lbnQpO1xuXG4gICAgICBfY29uZmlndXJhdGlvblR5cGUgPSBcInN0b3JhZ2UgZm9sZGVyXCI7XG5cbiAgICAgIC8vIGNyZWF0ZSBhbmQgaW5pdGlhbGl6ZSB0aGUgU3RvcmFnZSBmb2xkZXIgaW5zdGFuY2VcbiAgICAgIF9zdG9yYWdlID0gbmV3IFJpc2VWaXNpb24uSW1hZ2UuU3RvcmFnZUZvbGRlcihfcGFyYW1zKTtcbiAgICAgIF9zdG9yYWdlLmluaXQoKTtcbiAgICB9XG5cbiAgICBfcmVhZHkoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9nZXRJbWFnZUVsZW1lbnQoKSB7XG4gICAgdmFyIGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcblxuICAgIGVsLnNldEF0dHJpYnV0ZShcImlkXCIsIFwiaW1hZ2VcIik7XG4gICAgZWwuY2xhc3NOYW1lID0gX3BhcmFtcy5wb3NpdGlvbjtcbiAgICBlbC5jbGFzc05hbWUgPSBfcGFyYW1zLnNjYWxlVG9GaXQgPyBlbC5jbGFzc05hbWUgKyBcIiBzY2FsZS10by1maXRcIiA6IGVsLmNsYXNzTmFtZTtcblxuICAgIHJldHVybiBlbDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNldFNpbmdsZUltYWdlKHVybCkge1xuXG4gICAgX2ltZy5vbmxvYWQgPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBpbWFnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjY29udGFpbmVyICNpbWFnZVwiKTtcblxuICAgICAgaW1hZ2Uuc3R5bGUuYmFja2dyb3VuZEltYWdlID0gXCJ1cmwoJ1wiICsgdXJsICsgXCInKVwiO1xuICAgIH07XG5cbiAgICBfaW1nLm9uZXJyb3IgPSBmdW5jdGlvbigpIHtcbiAgICAgIGxvZ0V2ZW50KHtcbiAgICAgICAgXCJldmVudFwiOiBcImVycm9yXCIsXG4gICAgICAgIFwiZXZlbnRfZGV0YWlsc1wiOiBcImltYWdlIGxvYWQgZXJyb3JcIixcbiAgICAgICAgXCJmaWxlX3VybFwiOiB1cmxcbiAgICAgIH0sIHRydWUpO1xuICAgIH07XG5cbiAgICBfaW1nLnNyYyA9IHVybC5yZXBsYWNlKFwiXFxcXCdcIiwgXCInXCIpOyAvLyBoYW5kbGVzIHNwZWNpYWwgY2hhcmFjdGVyc1xuICB9XG5cbiAgLypcbiAgICogIFB1YmxpYyBNZXRob2RzXG4gICAqL1xuICBmdW5jdGlvbiBoYXNTdG9yYWdlRXJyb3IoKSB7XG4gICAgcmV0dXJuIF9zdG9yYWdlRXJyb3JGbGFnO1xuICB9XG5cbiAgZnVuY3Rpb24gbG9nRXZlbnQocGFyYW1zLCBpc0Vycm9yKSB7XG4gICAgaWYgKGlzRXJyb3IpIHtcbiAgICAgIF9lcnJvckxvZyA9IHBhcmFtcztcbiAgICB9XG5cbiAgICBSaXNlVmlzaW9uLkNvbW1vbi5Mb2dnZXJVdGlscy5sb2dFdmVudChnZXRUYWJsZU5hbWUoKSwgcGFyYW1zKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG9uRmlsZUluaXQodXJscykge1xuICAgIGlmIChfbW9kZSA9PT0gXCJmaWxlXCIpIHtcbiAgICAgIC8vIHVybHMgdmFsdWUgd2lsbCBiZSBhIHN0cmluZ1xuICAgICAgX2N1cnJlbnRGaWxlc1swXSA9IHVybHM7XG5cbiAgICAgIC8vIHJlbW92ZSBhIG1lc3NhZ2UgcHJldmlvdXNseSBzaG93blxuICAgICAgX21lc3NhZ2UuaGlkZSgpO1xuXG4gICAgICBzZXRTaW5nbGVJbWFnZShfY3VycmVudEZpbGVzWzBdKTtcblxuICAgIH0gZWxzZSBpZiAoX21vZGUgPT09IFwiZm9sZGVyXCIpIHtcbiAgICAgIC8vIHVybHMgdmFsdWUgd2lsbCBiZSBhbiBhcnJheVxuICAgICAgX2N1cnJlbnRGaWxlcyA9IHVybHM7XG5cbiAgICAgIC8vIGNyZWF0ZSBzbGlkZXIgaW5zdGFuY2VcbiAgICAgIF9zbGlkZXIgPSBuZXcgUmlzZVZpc2lvbi5JbWFnZS5TbGlkZXIoX3BhcmFtcyk7XG4gICAgICBfc2xpZGVyLmluaXQodXJscyk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gb25GaWxlUmVmcmVzaCh1cmxzKSB7XG4gICAgaWYgKF9tb2RlID09PSBcImZpbGVcIikge1xuICAgICAgLy8gdXJscyB2YWx1ZSB3aWxsIGJlIGEgc3RyaW5nIG9mIG9uZSB1cmxcbiAgICAgIF9jdXJyZW50RmlsZXNbMF0gPSB1cmxzO1xuXG4gICAgICBzZXRTaW5nbGVJbWFnZShfY3VycmVudEZpbGVzWzBdKTtcblxuICAgIH0gZWxzZSBpZiAoX21vZGUgPT09IFwiZm9sZGVyXCIpIHtcbiAgICAgIC8vIHVybHMgdmFsdWUgd2lsbCBiZSBhbiBhcnJheSBvZiB1cmxzXG4gICAgICBfY3VycmVudEZpbGVzID0gdXJscztcblxuICAgICAgX3NsaWRlci5yZWZyZXNoKF9jdXJyZW50RmlsZXMpO1xuICAgIH1cblxuICAgIC8vIGluIGNhc2UgcmVmcmVzaGVkIGZpbGUgZml4ZXMgYW4gZXJyb3Igd2l0aCBwcmV2aW91cyBmaWxlLCBlbnN1cmUgZmxhZyBpcyByZW1vdmVkIHNvIHBsYXliYWNrIGlzIGF0dGVtcHRlZCBhZ2FpblxuICAgIF9lcnJvckZsYWcgPSBmYWxzZTtcbiAgICBfc3RvcmFnZUVycm9yRmxhZyA9IGZhbHNlO1xuICAgIF9lcnJvckxvZyA9IG51bGw7XG4gIH1cblxuICBmdW5jdGlvbiBzZXRBZGRpdGlvbmFsUGFyYW1zKGFkZGl0aW9uYWxQYXJhbXMsIG1vZGVUeXBlKSB7XG4gICAgX3BhcmFtcyA9IF8uY2xvbmUoYWRkaXRpb25hbFBhcmFtcyk7XG4gICAgX21vZGUgPSBtb2RlVHlwZTtcblxuICAgIF9wYXJhbXMud2lkdGggPSBfcHJlZnMuZ2V0SW50KFwicnNXXCIpO1xuICAgIF9wYXJhbXMuaGVpZ2h0ID0gX3ByZWZzLmdldEludChcInJzSFwiKTtcblxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY29udGFpbmVyXCIpLnN0eWxlLmhlaWdodCA9IF9wcmVmcy5nZXRJbnQoXCJyc0hcIikgKyBcInB4XCI7XG4gICAgaW5pdCgpO1xuICB9XG5cbiAgZnVuY3Rpb24gb25TbGlkZXJSZWFkeSgpIHtcbiAgICBfbWVzc2FnZS5oaWRlKCk7XG5cbiAgICBpZiAoIV92aWV3ZXJQYXVzZWQpIHtcbiAgICAgIF9zbGlkZXIucGxheSgpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIG9uU2xpZGVyQ29tcGxldGUoKSB7XG4gICAgX2RvbmUoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBhdXNlKCkge1xuICAgIHZhciBpbWFnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIjY29udGFpbmVyICNpbWFnZVwiKTtcblxuICAgIF92aWV3ZXJQYXVzZWQgPSB0cnVlO1xuXG4gICAgLy8gaW4gY2FzZSBlcnJvciB0aW1lciBzdGlsbCBydW5uaW5nIChubyBjb25kaXRpb25hbCBjaGVjayBvbiBlcnJvckZsYWcsIGl0IG1heSBoYXZlIGJlZW4gcmVzZXQgaW4gb25GaWxlUmVmcmVzaClcbiAgICBfY2xlYXJFcnJvclRpbWVyKCk7XG5cbiAgICBpZiAoX21vZGUgPT09IFwiZm9sZGVyXCIgJiYgX3NsaWRlciAmJiBfc2xpZGVyLmlzUmVhZHkoKSkge1xuICAgICAgX3NsaWRlci5wYXVzZSgpO1xuICAgIH1cbiAgICBlbHNlIGlmIChfbW9kZSA9PT0gXCJmaWxlXCIgJiYgaW1hZ2UubGVuZ3RoID4gMCkge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpbWFnZS5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICBpbWFnZVtpXS5zdHlsZS52aXNpYmlsaXR5ID0gXCJoaWRkZW5cIjtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBwbGF5KCkge1xuICAgIHZhciBpbWFnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIjY29udGFpbmVyICNpbWFnZVwiKTtcblxuICAgIF92aWV3ZXJQYXVzZWQgPSBmYWxzZTtcblxuICAgIGlmICghX2NvbmZpZ3VyYXRpb25Mb2dnZWQpIHtcbiAgICAgIGxvZ0V2ZW50KHsgXCJldmVudFwiOiBcImNvbmZpZ3VyYXRpb25cIiwgXCJldmVudF9kZXRhaWxzXCI6IF9jb25maWd1cmF0aW9uVHlwZSB9LCBmYWxzZSk7XG4gICAgICBfY29uZmlndXJhdGlvbkxvZ2dlZCA9IHRydWU7XG4gICAgfVxuXG4gICAgbG9nRXZlbnQoeyBcImV2ZW50XCI6IFwicGxheVwiLCBcImZpbGVfdXJsXCI6IF9nZXRDdXJyZW50RmlsZSgpIH0sIGZhbHNlKTtcblxuICAgIGlmIChfZXJyb3JGbGFnKSB7XG4gICAgICBfc3RhcnRFcnJvclRpbWVyKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKF9tb2RlID09PSBcImZvbGRlclwiICYmIF9zbGlkZXIgJiYgX3NsaWRlci5pc1JlYWR5KCkpIHtcbiAgICAgIF9zbGlkZXIucGxheSgpO1xuICAgIH1cbiAgICBlbHNlIGlmIChfbW9kZSA9PT0gXCJmaWxlXCIgJiYgaW1hZ2UubGVuZ3RoID4gMCkge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpbWFnZS5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICBpbWFnZVtpXS5zdHlsZS52aXNpYmlsaXR5ID0gXCJ2aXNpYmxlXCI7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gZ2V0VGFibGVOYW1lKCkge1xuICAgIHJldHVybiBcImltYWdlX2V2ZW50c1wiO1xuICB9XG5cbiAgZnVuY3Rpb24gc2hvd0Vycm9yKG1lc3NhZ2UsIGlzU3RvcmFnZUVycm9yKSB7XG4gICAgX2Vycm9yRmxhZyA9IHRydWU7XG4gICAgX3N0b3JhZ2VFcnJvckZsYWcgPSB0eXBlb2YgaXNTdG9yYWdlRXJyb3IgIT09IFwidW5kZWZpbmVkXCI7XG5cbiAgICBfbWVzc2FnZS5zaG93KG1lc3NhZ2UpO1xuXG4gICAgLy8gZGVzdHJveSBzbGlkZXIgaWYgaXQgZXhpc3RzIGFuZCBwcmV2aW91c2x5IG5vdGlmaWVkIHJlYWR5XG4gICAgaWYgKF9tb2RlID09PSBcImZvbGRlclwiICYmIF9zbGlkZXIgJiYgX3NsaWRlci5pc1JlYWR5KCkpIHtcbiAgICAgIF9zbGlkZXIuZGVzdHJveSgpO1xuICAgIH1cblxuICAgIGlmICghX3ZpZXdlclBhdXNlZCkge1xuICAgICAgX3N0YXJ0RXJyb3JUaW1lcigpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHN0b3AoKSB7XG4gICAgcGF1c2UoKTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgXCJoYXNTdG9yYWdlRXJyb3JcIjogaGFzU3RvcmFnZUVycm9yLFxuICAgIFwibG9nRXZlbnRcIjogbG9nRXZlbnQsXG4gICAgXCJvbkZpbGVJbml0XCI6IG9uRmlsZUluaXQsXG4gICAgXCJvbkZpbGVSZWZyZXNoXCI6IG9uRmlsZVJlZnJlc2gsXG4gICAgXCJvblNsaWRlckNvbXBsZXRlXCI6IG9uU2xpZGVyQ29tcGxldGUsXG4gICAgXCJvblNsaWRlclJlYWR5XCI6IG9uU2xpZGVyUmVhZHksXG4gICAgXCJwYXVzZVwiOiBwYXVzZSxcbiAgICBcInBsYXlcIjogcGxheSxcbiAgICBcInNldEFkZGl0aW9uYWxQYXJhbXNcIjogc2V0QWRkaXRpb25hbFBhcmFtcyxcbiAgICBcImdldFRhYmxlTmFtZVwiOiBnZXRUYWJsZU5hbWUsXG4gICAgXCJzaG93RXJyb3JcIjogc2hvd0Vycm9yLFxuICAgIFwic3RvcFwiOiBzdG9wXG4gIH07XG59KShnYWRnZXRzKTtcblxuLyogZ2xvYmFsIF8gKi9cbnZhciBSaXNlVmlzaW9uID0gUmlzZVZpc2lvbiB8fCB7fTtcblJpc2VWaXNpb24uSW1hZ2UgPSBSaXNlVmlzaW9uLkltYWdlIHx8IHt9O1xuXG5SaXNlVmlzaW9uLkltYWdlLlNsaWRlciA9IGZ1bmN0aW9uIChwYXJhbXMpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgdmFyIHRvdGFsU2xpZGVzID0gMCxcbiAgICAkYXBpID0gbnVsbCxcbiAgICBjdXJyZW50RmlsZXMgPSBudWxsLFxuICAgIG5ld0ZpbGVzID0gbnVsbCxcbiAgICBuYXZUaW1lciA9IG51bGwsXG4gICAgc2xpZGVUaW1lciA9IG51bGwsXG4gICAgaXNMYXN0U2xpZGUgPSBmYWxzZSxcbiAgICByZWZyZXNoU2xpZGVyID0gZmFsc2UsXG4gICAgaXNMb2FkaW5nID0gdHJ1ZSxcbiAgICBpc1BsYXlpbmcgPSBmYWxzZSxcbiAgICBpc0ludGVyYWN0aW5nID0gZmFsc2UsXG4gICAgbmF2VGltZW91dCA9IDMwMDA7XG5cbiAgLypcbiAgICogIFByaXZhdGUgTWV0aG9kc1xuICAgKi9cbiAgZnVuY3Rpb24gYWRkU2xpZGVzKCkge1xuICAgIHZhciBsaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi50cC1iYW5uZXIgdWxcIiksXG4gICAgICBmcmFnbWVudCA9IGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSxcbiAgICAgIHNsaWRlcyA9IFtdLFxuICAgICAgc2xpZGUgPSBudWxsLFxuICAgICAgaW1hZ2UgPSBudWxsLFxuICAgICAgcG9zaXRpb24gPSBcIlwiO1xuXG4gICAgdG90YWxTbGlkZXMgPSBjdXJyZW50RmlsZXMubGVuZ3RoO1xuXG4gICAgY3VycmVudEZpbGVzLmZvckVhY2goZnVuY3Rpb24oZmlsZSkge1xuICAgICAgc2xpZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlcIik7XG4gICAgICBpbWFnZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIik7XG5cbiAgICAgIC8vIFRyYW5zaXRpb25cbiAgICAgIHNsaWRlLnNldEF0dHJpYnV0ZShcImRhdGEtdHJhbnNpdGlvblwiLCBcImZhZGVcIik7XG4gICAgICBzbGlkZS5zZXRBdHRyaWJ1dGUoXCJkYXRhLW1hc3RlcnNwZWVkXCIsIDUwMCk7XG4gICAgICBzbGlkZS5zZXRBdHRyaWJ1dGUoXCJkYXRhLWRlbGF5XCIsIHBhcmFtcy5kdXJhdGlvbiAqIDEwMDApO1xuXG4gICAgICAvLyBMYXp5IGxvYWRcbiAgICAgIGltYWdlLnNyYyA9IFwiXCI7XG4gICAgICBpbWFnZS5zZXRBdHRyaWJ1dGUoXCJkYXRhLWxhenlsb2FkXCIsIGZpbGUudXJsKTtcblxuICAgICAgLy8gQWxpZ25tZW50XG4gICAgICBzd2l0Y2ggKHBhcmFtcy5wb3NpdGlvbikge1xuICAgICAgICBjYXNlIFwidG9wLWxlZnRcIjpcbiAgICAgICAgICBwb3NpdGlvbiA9IFwibGVmdCB0b3BcIjtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcInRvcC1jZW50ZXJcIjpcbiAgICAgICAgICBwb3NpdGlvbiA9IFwiY2VudGVyIHRvcFwiO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwidG9wLXJpZ2h0XCI6XG4gICAgICAgICAgcG9zaXRpb24gPSBcInJpZ2h0IHRvcFwiO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwibWlkZGxlLWxlZnRcIjpcbiAgICAgICAgICBwb3NpdGlvbiA9IFwibGVmdCBjZW50ZXJcIjtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcIm1pZGRsZS1jZW50ZXJcIjpcbiAgICAgICAgICBwb3NpdGlvbiA9IFwiY2VudGVyIGNlbnRlclwiO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwibWlkZGxlLXJpZ2h0XCI6XG4gICAgICAgICAgcG9zaXRpb24gPSBcInJpZ2h0IGNlbnRlclwiO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiYm90dG9tLWxlZnRcIjpcbiAgICAgICAgICBwb3NpdGlvbiA9IFwibGVmdCBib3R0b21cIjtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImJvdHRvbS1jZW50ZXJcIjpcbiAgICAgICAgICBwb3NpdGlvbiA9IFwiY2VudGVyIGJvdHRvbVwiO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiYm90dG9tLXJpZ2h0XCI6XG4gICAgICAgICAgcG9zaXRpb24gPSBcInJpZ2h0IGJvdHRvbVwiO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHBvc2l0aW9uID0gXCJsZWZ0IHRvcFwiO1xuICAgICAgfVxuXG4gICAgICBpbWFnZS5zZXRBdHRyaWJ1dGUoXCJkYXRhLWJncG9zaXRpb25cIiwgcG9zaXRpb24pO1xuXG4gICAgICAvLyBTY2FsZSB0byBGaXRcbiAgICAgIGlmIChwYXJhbXMuc2NhbGVUb0ZpdCkge1xuICAgICAgICBpbWFnZS5zZXRBdHRyaWJ1dGUoXCJkYXRhLWJnZml0XCIsIFwiY29udGFpblwiKTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBpbWFnZS5zZXRBdHRyaWJ1dGUoXCJkYXRhLWJnZml0XCIsIFwibm9ybWFsXCIpO1xuICAgICAgfVxuXG4gICAgICBzbGlkZS5hcHBlbmRDaGlsZChpbWFnZSk7XG4gICAgICBzbGlkZXMucHVzaChzbGlkZSk7XG4gICAgfSk7XG5cbiAgICBzbGlkZXMuZm9yRWFjaChmdW5jdGlvbihzbGlkZSkge1xuICAgICAgZnJhZ21lbnQuYXBwZW5kQ2hpbGQoc2xpZGUpO1xuICAgIH0pO1xuXG4gICAgbGlzdC5hcHBlbmRDaGlsZChmcmFnbWVudCk7XG4gIH1cblxuICBmdW5jdGlvbiBvblNsaWRlQ2hhbmdlZChkYXRhKSB7XG4gICAgaWYgKGlzSW50ZXJhY3RpbmcpIHtcbiAgICAgIHBhdXNlKCk7XG4gICAgfVxuICAgIC8vIERvbid0IGNhbGwgXCJkb25lXCIgaWYgdXNlciBpcyBpbnRlcmFjdGluZyB3aXRoIHRoZSBzbGlkZXNob3cuXG4gICAgZWxzZSB7XG4gICAgICBpZiAoaXNMYXN0U2xpZGUpIHtcbiAgICAgICAgaXNMYXN0U2xpZGUgPSBmYWxzZTtcbiAgICAgICAgcGF1c2UoKTtcbiAgICAgICAgUmlzZVZpc2lvbi5JbWFnZS5vblNsaWRlckNvbXBsZXRlKCk7XG5cbiAgICAgICAgaWYgKHJlZnJlc2hTbGlkZXIpIHtcbiAgICAgICAgICAvLyBEZXN0cm95IGFuZCByZWNyZWF0ZSB0aGUgc2xpZGVyIGlmIHRoZSBmaWxlcyBoYXZlIGNoYW5nZWQuXG4gICAgICAgICAgaWYgKCRhcGkpIHtcbiAgICAgICAgICAgIGRlc3Ryb3lTbGlkZXIoKTtcbiAgICAgICAgICAgIGluaXQobmV3RmlsZXMpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJlZnJlc2hTbGlkZXIgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChkYXRhLnNsaWRlSW5kZXggPT09IHRvdGFsU2xpZGVzKSB7XG4gICAgICBpc0xhc3RTbGlkZSA9IHRydWU7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gZGVzdHJveVNsaWRlcigpIHtcbiAgICAvLyBSZW1vdmUgZXZlbnQgaGFuZGxlcnMuXG4gICAgJChcImJvZHlcIikub2ZmKFwidG91Y2hlbmRcIik7XG4gICAgJGFwaS5vZmYoXCJyZXZvbHV0aW9uLnNsaWRlLm9ubG9hZGVkXCIpO1xuICAgICRhcGkub2ZmKFwicmV2b2x1dGlvbi5zbGlkZS5vbmNoYW5nZVwiKTtcblxuICAgIC8vIExldCB0aGUgc2xpZGVyIGNsZWFuIHVwIGFmdGVyIGl0c2VsZi5cbiAgICAkYXBpLnJldmtpbGwoKTtcbiAgICAkYXBpID0gbnVsbDtcbiAgfVxuXG4gIC8vIFVzZXIgaGFzIGludGVyYWN0ZWQgd2l0aCB0aGUgc2xpZGVzaG93LlxuICBmdW5jdGlvbiBoYW5kbGVVc2VyQWN0aXZpdHkoKSB7XG4gICAgaXNJbnRlcmFjdGluZyA9IHRydWU7XG4gICAgY2xlYXJUaW1lb3V0KHNsaWRlVGltZXIpO1xuXG4gICAgLy8gTW92ZSB0byBuZXh0IHNsaWRlIGFuZCByZXN1bWUgdGhlIHNsaWRlc2hvdyBhZnRlciBhIGRlbGF5LlxuICAgIHNsaWRlVGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgJGFwaS5yZXZuZXh0KCk7XG4gICAgICAkYXBpLnJldnJlc3VtZSgpO1xuXG4gICAgICBpc0ludGVyYWN0aW5nID0gZmFsc2U7XG4gICAgICBpc1BsYXlpbmcgPSB0cnVlO1xuICAgIH0sIHBhcmFtcy5wYXVzZSAqIDEwMDApO1xuXG4gICAgaGlkZU5hdigpO1xuICB9XG5cbiAgLy8gSGlkZSB0aGUgbmF2aWdhdGlvbiBhZnRlciBhIGRlbGF5LlxuICBmdW5jdGlvbiBoaWRlTmF2KCkge1xuICAgIGlmIChwYXJhbXMuYXV0b0hpZGUpIHtcbiAgICAgIGNsZWFyVGltZW91dChuYXZUaW1lcik7XG5cbiAgICAgIG5hdlRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgJChcIi50cC1sZWZ0YXJyb3csIC50cC1yaWdodGFycm93XCIpLmFkZENsYXNzKFwiaGlkZWFycm93c1wiKTtcbiAgICAgIH0sIG5hdlRpbWVvdXQpO1xuICAgIH1cbiAgfVxuXG4gIC8qXG4gICAqICBQdWJsaWMgTWV0aG9kc1xuICAgKiAgVE9ETzogVGVzdCB3aGF0IGhhcHBlbnMgd2hlbiBmb2xkZXIgaXNuJ3QgZm91bmQuXG4gICAqL1xuICBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgIGlmICgkYXBpKSB7XG4gICAgICBpc0xhc3RTbGlkZSA9IGZhbHNlO1xuICAgICAgcGF1c2UoKTtcbiAgICAgIGRlc3Ryb3lTbGlkZXIoKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBnZXRDdXJyZW50U2xpZGUoKSB7XG4gICAgaWYgKCRhcGkgJiYgY3VycmVudEZpbGVzICYmIGN1cnJlbnRGaWxlcy5sZW5ndGggPiAwKSB7XG4gICAgICByZXR1cm4gJGFwaS5yZXZjdXJyZW50c2xpZGUoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gLTE7XG4gIH1cblxuICBmdW5jdGlvbiBpbml0KGZpbGVzKSB7XG4gICAgdmFyIHRwQmFubmVyQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi50cC1iYW5uZXItY29udGFpbmVyXCIpLFxuICAgICAgZnJhZ21lbnQgPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCksXG4gICAgICB0cEJhbm5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksXG4gICAgICB1bCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ1bFwiKTtcblxuICAgIHRwQmFubmVyLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwidHAtYmFubmVyXCIpO1xuICAgIHRwQmFubmVyLmFwcGVuZENoaWxkKHVsKTtcbiAgICBmcmFnbWVudC5hcHBlbmRDaGlsZCh0cEJhbm5lcik7XG4gICAgdHBCYW5uZXJDb250YWluZXIuYXBwZW5kQ2hpbGQoZnJhZ21lbnQpO1xuXG4gICAgY3VycmVudEZpbGVzID0gXy5jbG9uZShmaWxlcyk7XG5cbiAgICBhZGRTbGlkZXMoKTtcblxuICAgIGlzTG9hZGluZyA9IHRydWU7XG4gICAgJGFwaSA9ICQoXCIudHAtYmFubmVyXCIpLnJldm9sdXRpb24oe1xuICAgICAgXCJoaWRlVGh1bWJzXCI6IDAsXG4gICAgICBcImhpZGVUaW1lckJhclwiOiBcIm9uXCIsXG4gICAgICBcIm5hdmlnYXRpb25UeXBlXCI6IFwibm9uZVwiLFxuICAgICAgXCJvbkhvdmVyU3RvcFwiOiBcIm9mZlwiLFxuICAgICAgXCJzdGFydHdpZHRoXCI6IHBhcmFtcy53aWR0aCxcbiAgICAgIFwic3RhcnRoZWlnaHRcIjogcGFyYW1zLmhlaWdodFxuICAgIH0pO1xuXG4gICAgJGFwaS5vbihcInJldm9sdXRpb24uc2xpZGUub25sb2FkZWRcIiwgZnVuY3Rpb24oKSB7XG4gICAgICAvLyBQYXVzZSBzbGlkZXNob3cgc2luY2UgaXQgd2lsbCBhdXRvcGxheSBhbmQgdGhpcyBpcyBub3QgY29uZmlndXJhYmxlLlxuICAgICAgcGF1c2UoKTtcbiAgICAgIGlzTG9hZGluZyA9IGZhbHNlO1xuICAgICAgUmlzZVZpc2lvbi5JbWFnZS5vblNsaWRlclJlYWR5KCk7XG4gICAgfSk7XG5cbiAgICAkYXBpLm9uKFwicmV2b2x1dGlvbi5zbGlkZS5vbmNoYW5nZVwiLCBmdW5jdGlvbiAoZSwgZGF0YSkge1xuICAgICAgb25TbGlkZUNoYW5nZWQoZGF0YSk7XG4gICAgfSk7XG5cbiAgICAvLyBTd2lwZSB0aGUgc2xpZGVyLlxuICAgICQoXCJib2R5XCIpLm9uKFwidG91Y2hlbmRcIiwgXCIudHAtYmFubmVyXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgaGFuZGxlVXNlckFjdGl2aXR5KCk7XG4gICAgICAkKFwiLnRwLWxlZnRhcnJvdywgLnRwLXJpZ2h0YXJyb3dcIikucmVtb3ZlQ2xhc3MoXCJoaWRlYXJyb3dzXCIpO1xuICAgIH0pO1xuXG4gICAgLy8gVG91Y2ggdGhlIG5hdmlnYXRpb24gYXJyb3dzLlxuICAgICQoXCJib2R5XCIpLm9uKFwidG91Y2hlbmRcIiwgXCIudHAtbGVmdGFycm93LCAudHAtcmlnaHRhcnJvd1wiLCBmdW5jdGlvbigpIHtcbiAgICAgIGhhbmRsZVVzZXJBY3Rpdml0eSgpO1xuICAgIH0pO1xuXG4gICAgaGlkZU5hdigpO1xuICB9XG5cbiAgZnVuY3Rpb24gaXNSZWFkeSgpIHtcbiAgICByZXR1cm4gIWlzTG9hZGluZztcbiAgfVxuXG4gIGZ1bmN0aW9uIHBsYXkoKSB7XG4gICAgaWYgKCRhcGkpIHtcbiAgICAgIC8vIFJlc2V0IHNsaWRlc2hvdyB0byBmaXJzdCBzbGlkZS5cbiAgICAgIGlmIChwYXJhbXMuaGFzT3duUHJvcGVydHkoXCJyZXN1bWVcIikgJiYgIXBhcmFtcy5yZXN1bWUpIHtcbiAgICAgICAgJGFwaS5yZXZzaG93c2xpZGUoMCk7XG4gICAgICB9XG5cbiAgICAgIGlmICghaXNQbGF5aW5nKSB7XG4gICAgICAgICRhcGkucmV2cmVzdW1lKCk7XG4gICAgICAgIGlzUGxheWluZyA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcGF1c2UoKSB7XG4gICAgaWYgKCRhcGkgJiYgaXNQbGF5aW5nKSB7XG4gICAgICAkYXBpLnJldnBhdXNlKCk7XG4gICAgICBpc1BsYXlpbmcgPSBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiByZWZyZXNoKGZpbGVzKSB7XG4gICAgLy8gU3RhcnQgcHJlbG9hZGluZyBpbWFnZXMgcmlnaHQgYXdheS5cbiAgICBSaXNlVmlzaW9uLkNvbW1vbi5VdGlsaXRpZXMucHJlbG9hZEltYWdlcyhmaWxlcyk7XG4gICAgbmV3RmlsZXMgPSBfLmNsb25lKGZpbGVzKTtcbiAgICByZWZyZXNoU2xpZGVyID0gdHJ1ZTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgXCJnZXRDdXJyZW50U2xpZGVcIjogZ2V0Q3VycmVudFNsaWRlLFxuICAgIFwiZGVzdHJveVwiOiBkZXN0cm95LFxuICAgIFwiaW5pdFwiOiBpbml0LFxuICAgIFwiaXNSZWFkeVwiOiBpc1JlYWR5LFxuICAgIFwicGxheVwiOiBwbGF5LFxuICAgIFwicGF1c2VcIjogcGF1c2UsXG4gICAgXCJyZWZyZXNoXCI6IHJlZnJlc2hcbiAgfTtcbn07XG5cbi8qIGdsb2JhbCBjb25maWcgKi9cbnZhciBSaXNlVmlzaW9uID0gUmlzZVZpc2lvbiB8fCB7fTtcblJpc2VWaXNpb24uSW1hZ2UgPSBSaXNlVmlzaW9uLkltYWdlIHx8IHt9O1xuXG5SaXNlVmlzaW9uLkltYWdlLlN0b3JhZ2VGaWxlID0gZnVuY3Rpb24gKHBhcmFtcykge1xuICBcInVzZSBzdHJpY3RcIjtcblxuICB2YXIgX2luaXRpYWxMb2FkID0gdHJ1ZTtcblxuICAvKlxuICAgKiAgUHVibGljIE1ldGhvZHNcbiAgICovXG4gIGZ1bmN0aW9uIGluaXQoKSB7XG4gICAgdmFyIHN0b3JhZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwicmlzZS1zdG9yYWdlXCIpO1xuXG4gICAgc3RvcmFnZS5hZGRFdmVudExpc3RlbmVyKFwicmlzZS1zdG9yYWdlLXJlc3BvbnNlXCIsIGZ1bmN0aW9uKGUpIHtcbiAgICAgIHZhciB1cmw7XG5cbiAgICAgIGlmIChlLmRldGFpbCAmJiBlLmRldGFpbC51cmwpIHtcblxuICAgICAgICB1cmwgPSBlLmRldGFpbC51cmwucmVwbGFjZShcIidcIiwgXCJcXFxcJ1wiKTtcblxuICAgICAgICBpZiAoX2luaXRpYWxMb2FkKSB7XG4gICAgICAgICAgX2luaXRpYWxMb2FkID0gZmFsc2U7XG5cbiAgICAgICAgICBSaXNlVmlzaW9uLkltYWdlLm9uRmlsZUluaXQodXJsKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAvLyBjaGVjayBmb3IgXCJjaGFuZ2VkXCIgcHJvcGVydHlcbiAgICAgICAgICBpZiAoZS5kZXRhaWwuaGFzT3duUHJvcGVydHkoXCJjaGFuZ2VkXCIpKSB7XG4gICAgICAgICAgICBpZiAoZS5kZXRhaWwuY2hhbmdlZCkge1xuICAgICAgICAgICAgICBSaXNlVmlzaW9uLkltYWdlLm9uRmlsZVJlZnJlc2godXJsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAvLyBpbiB0aGUgZXZlbnQgb2YgYSBuZXR3b3JrIGZhaWx1cmUgYW5kIHJlY292ZXJ5LCBjaGVjayBpZiB0aGUgV2lkZ2V0IGlzIGluIGEgc3RhdGUgb2Ygc3RvcmFnZSBlcnJvclxuICAgICAgICAgICAgICBpZiAoUmlzZVZpc2lvbi5JbWFnZS5oYXNTdG9yYWdlRXJyb3IoKSkge1xuICAgICAgICAgICAgICAgIC8vIHByb2NlZWQgd2l0aCByZWZyZXNoIGxvZ2ljIHNvIHRoZSBXaWRnZXQgY2FuIGV2ZW50dWFsbHkgcGxheSB2aWRlbyBhZ2FpbiBmcm9tIGEgbmV0d29yayByZWNvdmVyeVxuICAgICAgICAgICAgICAgIFJpc2VWaXNpb24uSW1hZ2Uub25GaWxlUmVmcmVzaChlLmRldGFpbC51cmwpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBzdG9yYWdlLmFkZEV2ZW50TGlzdGVuZXIoXCJyaXNlLXN0b3JhZ2UtYXBpLWVycm9yXCIsIGZ1bmN0aW9uKGUpIHtcbiAgICAgIHZhciBwYXJhbXMgPSB7XG4gICAgICAgICAgXCJldmVudFwiOiBcImVycm9yXCIsXG4gICAgICAgICAgXCJldmVudF9kZXRhaWxzXCI6IFwic3RvcmFnZSBhcGkgZXJyb3JcIixcbiAgICAgICAgICBcImVycm9yX2RldGFpbHNcIjogXCJSZXNwb25zZSBjb2RlOiBcIiArIGUuZGV0YWlsLmNvZGUgKyBcIiwgbWVzc2FnZTogXCIgKyBlLmRldGFpbC5tZXNzYWdlXG4gICAgICAgIH07XG5cbiAgICAgIFJpc2VWaXNpb24uSW1hZ2UubG9nRXZlbnQocGFyYW1zLCB0cnVlKTtcbiAgICAgIFJpc2VWaXNpb24uSW1hZ2Uuc2hvd0Vycm9yKFwiU29ycnksIHRoZXJlIHdhcyBhIHByb2JsZW0gY29tbXVuaWNhdGluZyB3aXRoIFJpc2UgU3RvcmFnZS5cIik7XG4gICAgfSk7XG5cbiAgICBzdG9yYWdlLmFkZEV2ZW50TGlzdGVuZXIoXCJyaXNlLXN0b3JhZ2Utbm8tZmlsZVwiLCBmdW5jdGlvbihlKSB7XG4gICAgICB2YXIgcGFyYW1zID0ge1xuICAgICAgICBcImV2ZW50XCI6IFwiZXJyb3JcIixcbiAgICAgICAgXCJldmVudF9kZXRhaWxzXCI6IFwic3RvcmFnZSBmaWxlIG5vdCBmb3VuZFwiLFxuICAgICAgICBcImZpbGVfdXJsXCI6IGUuZGV0YWlsXG4gICAgICB9LFxuICAgICAgICBpbWcgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImltYWdlXCIpO1xuXG4gICAgICAvLyBjbGVhciB0aGUgZXhpc3RpbmcgaW1hZ2VcbiAgICAgIGltZy5zdHlsZS5iYWNrZ3JvdW5kID0gXCJcIjtcblxuICAgICAgUmlzZVZpc2lvbi5JbWFnZS5sb2dFdmVudChwYXJhbXMsIHRydWUpO1xuICAgICAgUmlzZVZpc2lvbi5JbWFnZS5zaG93RXJyb3IoXCJUaGUgc2VsZWN0ZWQgaW1hZ2UgZG9lcyBub3QgZXhpc3Qgb3IgaGFzIGJlZW4gbW92ZWQgdG8gVHJhc2guXCIpO1xuICAgIH0pO1xuXG4gICAgc3RvcmFnZS5hZGRFdmVudExpc3RlbmVyKFwicmlzZS1zdG9yYWdlLWZpbGUtdGhyb3R0bGVkXCIsIGZ1bmN0aW9uKGUpIHtcbiAgICAgIHZhciBwYXJhbXMgPSB7XG4gICAgICAgIFwiZXZlbnRcIjogXCJlcnJvclwiLFxuICAgICAgICBcImV2ZW50X2RldGFpbHNcIjogXCJzdG9yYWdlIGZpbGUgdGhyb3R0bGVkXCIsXG4gICAgICAgIFwiZmlsZV91cmxcIjogZS5kZXRhaWxcbiAgICAgIH07XG5cbiAgICAgIFJpc2VWaXNpb24uSW1hZ2UubG9nRXZlbnQocGFyYW1zLCB0cnVlKTtcbiAgICAgIFJpc2VWaXNpb24uSW1hZ2Uuc2hvd0Vycm9yKFwiVGhlIHNlbGVjdGVkIGltYWdlIGlzIHRlbXBvcmFyaWx5IHVuYXZhaWxhYmxlLlwiKTtcbiAgICB9KTtcblxuICAgIHN0b3JhZ2UuYWRkRXZlbnRMaXN0ZW5lcihcInJpc2Utc3RvcmFnZS1zdWJzY3JpcHRpb24tZXhwaXJlZFwiLCBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBwYXJhbXMgPSB7XG4gICAgICAgIFwiZXZlbnRcIjogXCJlcnJvclwiLFxuICAgICAgICBcImV2ZW50X2RldGFpbHNcIjogXCJzdG9yYWdlIHN1YnNjcmlwdGlvbiBleHBpcmVkXCJcbiAgICAgIH07XG5cbiAgICAgIFJpc2VWaXNpb24uSW1hZ2UubG9nRXZlbnQocGFyYW1zLCB0cnVlKTtcbiAgICAgIFJpc2VWaXNpb24uSW1hZ2Uuc2hvd0Vycm9yKFwiUmlzZSBTdG9yYWdlIHN1YnNjcmlwdGlvbiBpcyBub3QgYWN0aXZlLlwiKTtcbiAgICB9KTtcblxuICAgIHN0b3JhZ2UuYWRkRXZlbnRMaXN0ZW5lcihcInJpc2Utc3RvcmFnZS1lcnJvclwiLCBmdW5jdGlvbihlKSB7XG4gICAgICB2YXIgZmlsZVVybCA9IChlLmRldGFpbCAmJiBlLmRldGFpbC5yZXF1ZXN0ICYmIGUuZGV0YWlsLnJlcXVlc3QudXJsKSA/IGUuZGV0YWlsLnJlcXVlc3QudXJsIDogbnVsbCxcbiAgICAgICAgcGFyYW1zID0ge1xuICAgICAgICAgIFwiZXZlbnRcIjogXCJlcnJvclwiLFxuICAgICAgICAgIFwiZXZlbnRfZGV0YWlsc1wiOiBcInJpc2Ugc3RvcmFnZSBlcnJvclwiLFxuICAgICAgICAgIFwiZXJyb3JfZGV0YWlsc1wiOiBcIlRoZSByZXF1ZXN0IGZhaWxlZCB3aXRoIHN0YXR1cyBjb2RlOiBcIiArIGUuZGV0YWlsLmVycm9yLmN1cnJlbnRUYXJnZXQuc3RhdHVzLFxuICAgICAgICAgIFwiZmlsZV91cmxcIjogZmlsZVVybFxuICAgICAgICB9O1xuXG4gICAgICBSaXNlVmlzaW9uLkltYWdlLmxvZ0V2ZW50KHBhcmFtcywgdHJ1ZSk7XG4gICAgICBSaXNlVmlzaW9uLkltYWdlLnNob3dFcnJvcihcIlNvcnJ5LCB0aGVyZSB3YXMgYSBwcm9ibGVtIGNvbW11bmljYXRpbmcgd2l0aCBSaXNlIFN0b3JhZ2UuXCIsIHRydWUpO1xuICAgIH0pO1xuXG4gICAgc3RvcmFnZS5hZGRFdmVudExpc3RlbmVyKFwicmlzZS1jYWNoZS1lcnJvclwiLCBmdW5jdGlvbihlKSB7XG4gICAgICB2YXIgZmlsZVVybCA9IChlLmRldGFpbCAmJiBlLmRldGFpbC5yZXF1ZXN0ICYmIGUuZGV0YWlsLnJlcXVlc3QudXJsKSA/IGUuZGV0YWlsLnJlcXVlc3QudXJsIDogbnVsbCxcbiAgICAgICAgcGFyYW1zID0ge1xuICAgICAgICAgIFwiZXZlbnRcIjogXCJlcnJvclwiLFxuICAgICAgICAgIFwiZXZlbnRfZGV0YWlsc1wiOiBcInJpc2UgY2FjaGUgZXJyb3JcIixcbiAgICAgICAgICBcImVycm9yX2RldGFpbHNcIjogZS5kZXRhaWwuZXJyb3IubWVzc2FnZSxcbiAgICAgICAgICBcImZpbGVfdXJsXCI6IGZpbGVVcmxcbiAgICAgICAgfTtcblxuICAgICAgUmlzZVZpc2lvbi5JbWFnZS5sb2dFdmVudChwYXJhbXMsIHRydWUpO1xuXG4gICAgICB2YXIgc3RhdHVzQ29kZSA9IDA7XG4gICAgICAvLyBTaG93IGEgZGlmZmVyZW50IG1lc3NhZ2UgaWYgdGhlcmUgaXMgYSA0MDQgY29taW5nIGZyb20gcmlzZSBjYWNoZVxuICAgICAgaWYoZS5kZXRhaWwuZXJyb3IubWVzc2FnZSl7XG4gICAgICAgIHN0YXR1c0NvZGUgPSArZS5kZXRhaWwuZXJyb3IubWVzc2FnZS5zdWJzdHJpbmcoZS5kZXRhaWwuZXJyb3IubWVzc2FnZS5pbmRleE9mKFwiOlwiKSsyKTtcbiAgICAgIH1cblxuICAgICAgdmFyIGVycm9yTWVzc2FnZSA9IFJpc2VWaXNpb24uQ29tbW9uLlV0aWxpdGllcy5nZXRSaXNlQ2FjaGVFcnJvck1lc3NhZ2Uoc3RhdHVzQ29kZSk7XG4gICAgICBSaXNlVmlzaW9uLkltYWdlLnNob3dFcnJvcihlcnJvck1lc3NhZ2UpO1xuICAgIH0pO1xuXG4gICAgc3RvcmFnZS5hZGRFdmVudExpc3RlbmVyKFwicmlzZS1jYWNoZS1ub3QtcnVubmluZ1wiLCBmdW5jdGlvbihlKSB7XG5cbiAgICAgIHZhciBwYXJhbXMgPSB7XG4gICAgICAgIFwiZXZlbnRcIjogXCJlcnJvclwiLFxuICAgICAgICBcImV2ZW50X2RldGFpbHNcIjogXCJyaXNlIGNhY2hlIG5vdCBydW5uaW5nXCIsXG4gICAgICAgIFwiZXJyb3JfZGV0YWlsc1wiOiAoZS5kZXRhaWwgJiYgZS5kZXRhaWwuZXJyb3IpPyBlLmRldGFpbC5lcnJvci5tZXNzYWdlOiBcIlwiXG4gICAgICB9O1xuXG4gICAgICBSaXNlVmlzaW9uLkltYWdlLmxvZ0V2ZW50KHBhcmFtcywgdHJ1ZSk7XG4gICAgfSk7XG5cbiAgICBzdG9yYWdlLnNldEF0dHJpYnV0ZShcImZvbGRlclwiLCBwYXJhbXMuc3RvcmFnZS5mb2xkZXIpO1xuICAgIHN0b3JhZ2Uuc2V0QXR0cmlidXRlKFwiZmlsZU5hbWVcIiwgcGFyYW1zLnN0b3JhZ2UuZmlsZU5hbWUpO1xuICAgIHN0b3JhZ2Uuc2V0QXR0cmlidXRlKFwiY29tcGFueUlkXCIsIHBhcmFtcy5zdG9yYWdlLmNvbXBhbnlJZCk7XG4gICAgc3RvcmFnZS5zZXRBdHRyaWJ1dGUoXCJlbnZcIiwgY29uZmlnLlNUT1JBR0VfRU5WKTtcbiAgICBzdG9yYWdlLmdvKCk7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIFwiaW5pdFwiOiBpbml0XG4gIH07XG59O1xuXG4vKiBnbG9iYWwgY29uZmlnLCBfICovXG5cbnZhciBSaXNlVmlzaW9uID0gUmlzZVZpc2lvbiB8fCB7fTtcblJpc2VWaXNpb24uSW1hZ2UgPSBSaXNlVmlzaW9uLkltYWdlIHx8IHt9O1xuXG5SaXNlVmlzaW9uLkltYWdlLlN0b3JhZ2VGb2xkZXIgPSBmdW5jdGlvbiAoZGF0YSkge1xuICBcInVzZSBzdHJpY3RcIjtcblxuICB2YXIgX2lzTG9hZGluZyA9IHRydWUsXG4gICAgX2ZpbGVzID0gW10sXG4gICAgX3RpbWVyID0gbnVsbDtcblxuICBmdW5jdGlvbiBwcm9jZXNzVXJsKGUpIHtcbiAgICB2YXIgZmlsZTtcblxuICAgIGlmIChlLmRldGFpbCkge1xuXG4gICAgICAvLyBJbWFnZSBoYXMgYmVlbiBhZGRlZC5cbiAgICAgIGlmIChlLmRldGFpbC5hZGRlZCkge1xuICAgICAgICBfZmlsZXMucHVzaCh7XG4gICAgICAgICAgXCJuYW1lXCI6IGUuZGV0YWlsLm5hbWUsXG4gICAgICAgICAgXCJ1cmxcIjogZS5kZXRhaWwudXJsXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICAvLyBJbWFnZSBoYXMgYmVlbiBjaGFuZ2VkLlxuICAgICAgaWYgKGUuZGV0YWlsLmNoYW5nZWQpIHtcbiAgICAgICAgZmlsZSA9IF8uZmluZChfZmlsZXMsIGZ1bmN0aW9uIChmaWxlKSB7XG4gICAgICAgICAgcmV0dXJuIGZpbGUubmFtZSA9PT0gZS5kZXRhaWwubmFtZTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZmlsZS51cmwgPSBlLmRldGFpbC51cmw7XG4gICAgICB9XG5cbiAgICAgIC8vIEltYWdlIGhhcyBiZWVuIGRlbGV0ZWQuXG4gICAgICBpZiAoZS5kZXRhaWwuZGVsZXRlZCkge1xuICAgICAgICBfZmlsZXMgPSBfLnJlamVjdChfZmlsZXMsIGZ1bmN0aW9uKGZpbGUpIHtcbiAgICAgICAgICByZXR1cm4gZmlsZS5uYW1lID09PSBlLmRldGFpbC5uYW1lO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBfZmlsZXMgPSBfLnNvcnRCeShfZmlsZXMsIGZ1bmN0aW9uKGZpbGUpIHtcbiAgICAgIHJldHVybiBmaWxlLm5hbWUudG9Mb3dlckNhc2UoKTtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGhhbmRsZVJlc3BvbnNlKGUpIHtcbiAgICBwcm9jZXNzVXJsKGUpO1xuXG4gICAgLy8gSW1hZ2UgaGFzIGJlZW4gYWRkZWQuXG4gICAgaWYgKGUuZGV0YWlsLmFkZGVkKSB7XG4gICAgICBpZiAoX2lzTG9hZGluZykge1xuICAgICAgICAvLyBOZWVkIHRvIHdhaXQgZm9yIGF0IGxlYXN0IDIgaW1hZ2VzIHRvIGxvYWQgYmVmb3JlIGluaXRpYWxpemluZyB0aGUgc2xpZGVyLlxuICAgICAgICAvLyBPdGhlcndpc2UsIHRoZSByZXZvbHV0aW9uLnNsaWRlLm9uY2hhbmdlIGV2ZW50IHdpbGwgbmV2ZXIgZmlyZSwgYW5kIHRoaXMgZXZlbnQgaXMgdXNlZFxuICAgICAgICAvLyB0byBjaGVjayB3aGV0aGVyIG9yIG5vdCB0aGUgc2xpZGVyIHNob3VsZCByZWZyZXNoLlxuICAgICAgICBpZiAoX2ZpbGVzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICBfaXNMb2FkaW5nID0gZmFsc2U7XG5cbiAgICAgICAgICBjbGVhclRpbWVvdXQoX3RpbWVyKTtcbiAgICAgICAgICBSaXNlVmlzaW9uLkltYWdlLm9uRmlsZUluaXQoX2ZpbGVzKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBTZXQgYSB0aW1lb3V0IGluIGNhc2UgdGhlcmUgaXMgb25seSBvbmUgaW1hZ2UgaW4gdGhlIGZvbGRlci5cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgX3RpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIF9pc0xvYWRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIFJpc2VWaXNpb24uSW1hZ2Uub25GaWxlSW5pdChfZmlsZXMpO1xuICAgICAgICAgIH0sIDUwMDApO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIFVuY2hhbmdlZFxuICAgIGlmIChlLmRldGFpbC5oYXNPd25Qcm9wZXJ0eShcImNoYW5nZWRcIikgJiYgIWUuZGV0YWlsLmNoYW5nZWQpIHtcbiAgICAgIC8vIGluIHRoZSBldmVudCBvZiBhIG5ldHdvcmsgZmFpbHVyZSBhbmQgcmVjb3ZlcnksIGNoZWNrIGlmIHRoZSBXaWRnZXQgaXMgaW4gYSBzdGF0ZSBvZiBzdG9yYWdlIGVycm9yXG4gICAgICBpZiAoIVJpc2VWaXNpb24uSW1hZ2UuaGFzU3RvcmFnZUVycm9yKCkpIHtcbiAgICAgICAgLy8gb25seSBwcm9jZWVkIHdpdGggcmVmcmVzaCBsb2dpYyBiZWxvdyBpZiB0aGVyZSdzIGJlZW4gYSBzdG9yYWdlIGVycm9yLCBvdGhlcndpc2UgZG8gbm90aGluZ1xuICAgICAgICAvLyB0aGlzIGlzIHNvIHRoZSBXaWRnZXQgY2FuIGV2ZW50dWFsbHkgcGxheSBzbGlkZXNob3cgYWdhaW4gZnJvbSBhIG5ldHdvcmsgcmVjb3ZlcnlcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cblxuICAgIFJpc2VWaXNpb24uSW1hZ2Uub25GaWxlUmVmcmVzaChfZmlsZXMpO1xuICB9XG5cbiAgLypcbiAgICogIFB1YmxpYyBNZXRob2RzXG4gICAqL1xuICBmdW5jdGlvbiBpbml0KCkge1xuICAgIHZhciBzdG9yYWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcInJpc2Utc3RvcmFnZVwiKTtcblxuICAgIHN0b3JhZ2UuYWRkRXZlbnRMaXN0ZW5lcihcInJpc2Utc3RvcmFnZS1yZXNwb25zZVwiLCBoYW5kbGVSZXNwb25zZSk7XG5cbiAgICBzdG9yYWdlLmFkZEV2ZW50TGlzdGVuZXIoXCJyaXNlLXN0b3JhZ2UtYXBpLWVycm9yXCIsIGZ1bmN0aW9uKGUpIHtcbiAgICAgIHZhciBwYXJhbXMgPSB7XG4gICAgICAgIFwiZXZlbnRcIjogXCJlcnJvclwiLFxuICAgICAgICBcImV2ZW50X2RldGFpbHNcIjogXCJzdG9yYWdlIGFwaSBlcnJvclwiLFxuICAgICAgICBcImVycm9yX2RldGFpbHNcIjogXCJSZXNwb25zZSBjb2RlOiBcIiArIGUuZGV0YWlsLmNvZGUgKyBcIiwgbWVzc2FnZTogXCIgKyBlLmRldGFpbC5tZXNzYWdlXG4gICAgICB9O1xuXG4gICAgICBSaXNlVmlzaW9uLkltYWdlLmxvZ0V2ZW50KHBhcmFtcywgdHJ1ZSk7XG4gICAgICBSaXNlVmlzaW9uLkltYWdlLnNob3dFcnJvcihcIlNvcnJ5LCB0aGVyZSB3YXMgYSBwcm9ibGVtIGNvbW11bmljYXRpbmcgd2l0aCBSaXNlIFN0b3JhZ2UuXCIpO1xuICAgIH0pO1xuXG4gICAgc3RvcmFnZS5hZGRFdmVudExpc3RlbmVyKFwicmlzZS1zdG9yYWdlLWVtcHR5LWZvbGRlclwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgcGFyYW1zID0ge1xuICAgICAgICBcImV2ZW50XCI6IFwiZXJyb3JcIixcbiAgICAgICAgXCJldmVudF9kZXRhaWxzXCI6IFwic3RvcmFnZSBmb2xkZXIgZW1wdHlcIlxuICAgICAgfTtcblxuICAgICAgUmlzZVZpc2lvbi5JbWFnZS5sb2dFdmVudChwYXJhbXMsIHRydWUpO1xuICAgICAgUmlzZVZpc2lvbi5JbWFnZS5zaG93RXJyb3IoXCJUaGUgc2VsZWN0ZWQgZm9sZGVyIGRvZXMgbm90IGNvbnRhaW4gYW55IGltYWdlcy5cIik7XG4gICAgfSk7XG5cbiAgICBzdG9yYWdlLmFkZEV2ZW50TGlzdGVuZXIoXCJyaXNlLXN0b3JhZ2Utbm8tZm9sZGVyXCIsIGZ1bmN0aW9uIChlKSB7XG4gICAgICB2YXIgcGFyYW1zID0ge1xuICAgICAgICBcImV2ZW50XCI6IFwiZXJyb3JcIixcbiAgICAgICAgXCJldmVudF9kZXRhaWxzXCI6IFwic3RvcmFnZSBmb2xkZXIgZG9lc24ndCBleGlzdFwiLFxuICAgICAgICBcImVycm9yX2RldGFpbHNcIjogZS5kZXRhaWxcbiAgICAgIH07XG5cbiAgICAgIFJpc2VWaXNpb24uSW1hZ2UubG9nRXZlbnQocGFyYW1zLCB0cnVlKTtcbiAgICAgIFJpc2VWaXNpb24uSW1hZ2Uuc2hvd0Vycm9yKFwiVGhlIHNlbGVjdGVkIGZvbGRlciBkb2VzIG5vdCBleGlzdCBvciBoYXMgYmVlbiBtb3ZlZCB0byBUcmFzaC5cIik7XG4gICAgfSk7XG5cblxuICAgIHN0b3JhZ2UuYWRkRXZlbnRMaXN0ZW5lcihcInJpc2Utc3RvcmFnZS1mb2xkZXItaW52YWxpZFwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgcGFyYW1zID0ge1xuICAgICAgICBcImV2ZW50XCI6IFwiZXJyb3JcIixcbiAgICAgICAgXCJldmVudF9kZXRhaWxzXCI6IFwic3RvcmFnZSBmb2xkZXIgZm9ybWF0KHMpIGludmFsaWRcIlxuICAgICAgfTtcblxuICAgICAgUmlzZVZpc2lvbi5JbWFnZS5sb2dFdmVudChwYXJhbXMsIHRydWUpO1xuICAgICAgUmlzZVZpc2lvbi5JbWFnZS5zaG93RXJyb3IoXCJUaGUgc2VsZWN0ZWQgZm9sZGVyIGRvZXMgbm90IGNvbnRhaW4gYW55IHN1cHBvcnRlZCBpbWFnZSBmb3JtYXRzLlwiKTtcbiAgICB9KTtcblxuICAgIHN0b3JhZ2UuYWRkRXZlbnRMaXN0ZW5lcihcInJpc2Utc3RvcmFnZS1zdWJzY3JpcHRpb24tZXhwaXJlZFwiLCBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBwYXJhbXMgPSB7XG4gICAgICAgIFwiZXZlbnRcIjogXCJlcnJvclwiLFxuICAgICAgICBcImV2ZW50X2RldGFpbHNcIjogXCJzdG9yYWdlIHN1YnNjcmlwdGlvbiBleHBpcmVkXCJcbiAgICAgIH07XG5cbiAgICAgIFJpc2VWaXNpb24uSW1hZ2UubG9nRXZlbnQocGFyYW1zLCB0cnVlKTtcbiAgICAgIFJpc2VWaXNpb24uSW1hZ2Uuc2hvd0Vycm9yKFwiUmlzZSBTdG9yYWdlIHN1YnNjcmlwdGlvbiBpcyBub3QgYWN0aXZlLlwiKTtcbiAgICB9KTtcblxuICAgIHN0b3JhZ2UuYWRkRXZlbnRMaXN0ZW5lcihcInJpc2Utc3RvcmFnZS1lcnJvclwiLCBmdW5jdGlvbihlKSB7XG4gICAgICB2YXIgcGFyYW1zID0ge1xuICAgICAgICBcImV2ZW50XCI6IFwicmlzZSBzdG9yYWdlIGVycm9yXCIsXG4gICAgICAgIFwiZXZlbnRfZGV0YWlsc1wiOiBcIlRoZSByZXF1ZXN0IGZhaWxlZCB3aXRoIHN0YXR1cyBjb2RlOiBcIiArIGUuZGV0YWlsLmVycm9yLmN1cnJlbnRUYXJnZXQuc3RhdHVzXG4gICAgICB9O1xuXG4gICAgICBSaXNlVmlzaW9uLkltYWdlLmxvZ0V2ZW50KHBhcmFtcywgdHJ1ZSk7XG4gICAgICBSaXNlVmlzaW9uLkltYWdlLnNob3dFcnJvcihcIlNvcnJ5LCB0aGVyZSB3YXMgYSBwcm9ibGVtIGNvbW11bmljYXRpbmcgd2l0aCBSaXNlIFN0b3JhZ2UuXCIsIHRydWUpO1xuICAgIH0pO1xuXG4gICAgc3RvcmFnZS5hZGRFdmVudExpc3RlbmVyKFwicmlzZS1jYWNoZS1lcnJvclwiLCBmdW5jdGlvbihlKSB7XG4gICAgICB2YXIgcGFyYW1zID0ge1xuICAgICAgICBcImV2ZW50XCI6IFwicmlzZSBjYWNoZSBlcnJvclwiLFxuICAgICAgICBcImV2ZW50X2RldGFpbHNcIjogZS5kZXRhaWwuZXJyb3IubWVzc2FnZVxuICAgICAgfTtcblxuICAgICAgUmlzZVZpc2lvbi5JbWFnZS5sb2dFdmVudChwYXJhbXMsIHRydWUpO1xuXG4gICAgICB2YXIgc3RhdHVzQ29kZSA9IDA7XG4gICAgICAvLyBTaG93IGEgZGlmZmVyZW50IG1lc3NhZ2UgaWYgdGhlcmUgaXMgYSA0MDQgY29taW5nIGZyb20gcmlzZSBjYWNoZVxuICAgICAgaWYoZS5kZXRhaWwuZXJyb3IubWVzc2FnZSl7XG4gICAgICAgIHN0YXR1c0NvZGUgPSArZS5kZXRhaWwuZXJyb3IubWVzc2FnZS5zdWJzdHJpbmcoZS5kZXRhaWwuZXJyb3IubWVzc2FnZS5pbmRleE9mKFwiOlwiKSsyKTtcbiAgICAgIH1cblxuICAgICAgdmFyIGVycm9yTWVzc2FnZSA9IFJpc2VWaXNpb24uQ29tbW9uLlV0aWxpdGllcy5nZXRSaXNlQ2FjaGVFcnJvck1lc3NhZ2Uoc3RhdHVzQ29kZSk7XG4gICAgICBSaXNlVmlzaW9uLkltYWdlLnNob3dFcnJvcihlcnJvck1lc3NhZ2UpO1xuICAgIH0pO1xuXG4gICAgc3RvcmFnZS5hZGRFdmVudExpc3RlbmVyKFwicmlzZS1jYWNoZS1ub3QtcnVubmluZ1wiLCBmdW5jdGlvbihlKSB7XG5cbiAgICAgIHZhciBwYXJhbXMgPSB7XG4gICAgICAgIFwiZXZlbnRcIjogXCJlcnJvclwiLFxuICAgICAgICBcImV2ZW50X2RldGFpbHNcIjogXCJyaXNlIGNhY2hlIG5vdCBydW5uaW5nXCIsXG4gICAgICAgIFwiZXJyb3JfZGV0YWlsc1wiOiAoZS5kZXRhaWwgJiYgZS5kZXRhaWwuZXJyb3IpPyBlLmRldGFpbC5lcnJvci5tZXNzYWdlOiBcIlwiXG4gICAgICB9O1xuXG4gICAgICBSaXNlVmlzaW9uLkltYWdlLmxvZ0V2ZW50KHBhcmFtcywgdHJ1ZSk7XG4gICAgfSk7XG5cbiAgICBzdG9yYWdlLnNldEF0dHJpYnV0ZShcImZpbGVUeXBlXCIsIFwiaW1hZ2VcIik7XG4gICAgc3RvcmFnZS5zZXRBdHRyaWJ1dGUoXCJjb21wYW55SWRcIiwgZGF0YS5zdG9yYWdlLmNvbXBhbnlJZCk7XG4gICAgc3RvcmFnZS5zZXRBdHRyaWJ1dGUoXCJmb2xkZXJcIiwgZGF0YS5zdG9yYWdlLmZvbGRlcik7XG4gICAgc3RvcmFnZS5zZXRBdHRyaWJ1dGUoXCJlbnZcIiwgY29uZmlnLlNUT1JBR0VfRU5WKTtcblxuICAgIHN0b3JhZ2UuZ28oKTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgXCJpbml0XCI6IGluaXRcbiAgfTtcbn07XG5cbnZhciBSaXNlVmlzaW9uID0gUmlzZVZpc2lvbiB8fCB7fTtcblJpc2VWaXNpb24uSW1hZ2UgPSBSaXNlVmlzaW9uLkltYWdlIHx8IHt9O1xuXG5SaXNlVmlzaW9uLkltYWdlLk5vblN0b3JhZ2UgPSBmdW5jdGlvbiAoZGF0YSkge1xuICBcInVzZSBzdHJpY3RcIjtcblxuICB2YXIgcmlzZUNhY2hlID0gUmlzZVZpc2lvbi5Db21tb24uUmlzZUNhY2hlO1xuXG4gIHZhciBfcmVmcmVzaER1cmF0aW9uID0gMzAwMDAwLCAgLy8gNSBtaW51dGVzXG4gICAgX3JlZnJlc2hJbnRlcnZhbElkID0gbnVsbDtcblxuICB2YXIgX2lzTG9hZGluZyA9IHRydWU7XG5cbiAgdmFyIF91cmwgPSBcIlwiO1xuXG4gIGZ1bmN0aW9uIF9nZXRGaWxlKG9taXRDYWNoZUJ1c3Rlcikge1xuICAgIHZhciBwYXJhbXM7XG5cbiAgICByaXNlQ2FjaGUuZ2V0RmlsZShfdXJsLCBmdW5jdGlvbiAocmVzcG9uc2UsIGVycm9yKSB7XG4gICAgICBpZiAoIWVycm9yKSB7XG5cbiAgICAgICAgaWYgKF9pc0xvYWRpbmcpIHtcbiAgICAgICAgICBfaXNMb2FkaW5nID0gZmFsc2U7XG5cbiAgICAgICAgICBSaXNlVmlzaW9uLkltYWdlLm9uRmlsZUluaXQocmVzcG9uc2UudXJsKTtcblxuICAgICAgICAgIC8vIHN0YXJ0IHRoZSByZWZyZXNoIGludGVydmFsXG4gICAgICAgICAgX3N0YXJ0UmVmcmVzaEludGVydmFsKCk7XG5cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBSaXNlVmlzaW9uLkltYWdlLm9uRmlsZVJlZnJlc2gocmVzcG9uc2UudXJsKTtcbiAgICAgICAgfVxuXG4gICAgICB9IGVsc2Uge1xuXG4gICAgICAgIC8vIGVycm9yIG9jY3VycmVkXG4gICAgICAgIHBhcmFtcyA9IHtcbiAgICAgICAgICBcImV2ZW50XCI6IFwiZXJyb3JcIixcbiAgICAgICAgICBcImV2ZW50X2RldGFpbHNcIjogXCJub24tc3RvcmFnZSBlcnJvclwiLFxuICAgICAgICAgIFwiZXJyb3JfZGV0YWlsc1wiOiBlcnJvci5tZXNzYWdlLFxuICAgICAgICAgIFwiZmlsZV91cmxcIjogcmVzcG9uc2UudXJsXG4gICAgICAgIH07XG5cbiAgICAgICAgUmlzZVZpc2lvbi5JbWFnZS5sb2dFdmVudChwYXJhbXMsIHRydWUpO1xuXG4gICAgICAgIHZhciBzdGF0dXNDb2RlID0gMDtcbiAgICAgICAgLy8gU2hvdyBhIGRpZmZlcmVudCBtZXNzYWdlIGlmIHRoZXJlIGlzIGEgNDA0IGNvbWluZyBmcm9tIHJpc2UgY2FjaGVcbiAgICAgICAgaWYoZXJyb3IubWVzc2FnZSl7XG4gICAgICAgICAgc3RhdHVzQ29kZSA9ICtlcnJvci5tZXNzYWdlLnN1YnN0cmluZyhlcnJvci5tZXNzYWdlLmluZGV4T2YoXCI6XCIpKzIpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGVycm9yTWVzc2FnZSA9IFJpc2VWaXNpb24uQ29tbW9uLlV0aWxpdGllcy5nZXRSaXNlQ2FjaGVFcnJvck1lc3NhZ2Uoc3RhdHVzQ29kZSk7XG4gICAgICAgIFJpc2VWaXNpb24uSW1hZ2Uuc2hvd0Vycm9yKGVycm9yTWVzc2FnZSk7XG4gICAgICB9XG4gICAgfSwgb21pdENhY2hlQnVzdGVyKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9zdGFydFJlZnJlc2hJbnRlcnZhbCgpIHtcbiAgICBpZiAoX3JlZnJlc2hJbnRlcnZhbElkID09PSBudWxsKSB7XG4gICAgICBfcmVmcmVzaEludGVydmFsSWQgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7XG4gICAgICAgIF9nZXRGaWxlKHRydWUpO1xuICAgICAgfSwgX3JlZnJlc2hEdXJhdGlvbik7XG4gICAgfVxuICB9XG5cbiAgLypcbiAgICogIFB1YmxpYyBNZXRob2RzXG4gICAqL1xuICBmdW5jdGlvbiBpbml0KCkge1xuICAgIC8vIEhhbmRsZSBwcmUtbWVyZ2UgdXNlIG9mIFwidXJsXCIgc2V0dGluZyBwcm9wZXJ0eVxuICAgIF91cmwgPSAoZGF0YS51cmwgJiYgZGF0YS51cmwgIT09IFwiXCIpID8gZGF0YS51cmwgOiBkYXRhLnNlbGVjdG9yLnVybDtcblxuICAgIF9nZXRGaWxlKHRydWUpO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBcImluaXRcIjogaW5pdFxuICB9O1xufTtcblxudmFyIFJpc2VWaXNpb24gPSBSaXNlVmlzaW9uIHx8IHt9O1xuUmlzZVZpc2lvbi5Db21tb24gPSBSaXNlVmlzaW9uLkNvbW1vbiB8fCB7fTtcblxuUmlzZVZpc2lvbi5Db21tb24uTWVzc2FnZSA9IGZ1bmN0aW9uIChtYWluQ29udGFpbmVyLCBtZXNzYWdlQ29udGFpbmVyKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuXG4gIHZhciBfYWN0aXZlID0gZmFsc2U7XG5cbiAgZnVuY3Rpb24gX2luaXQoKSB7XG4gICAgdHJ5IHtcbiAgICAgIG1lc3NhZ2VDb250YWluZXIuc3R5bGUuaGVpZ2h0ID0gbWFpbkNvbnRhaW5lci5zdHlsZS5oZWlnaHQ7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgY29uc29sZS53YXJuKFwiQ2FuJ3QgaW5pdGlhbGl6ZSBNZXNzYWdlIC0gXCIsIGUubWVzc2FnZSk7XG4gICAgfVxuICB9XG5cbiAgLypcbiAgICogIFB1YmxpYyBNZXRob2RzXG4gICAqL1xuICBmdW5jdGlvbiBoaWRlKCkge1xuICAgIGlmIChfYWN0aXZlKSB7XG4gICAgICAvLyBjbGVhciBjb250ZW50IG9mIG1lc3NhZ2UgY29udGFpbmVyXG4gICAgICB3aGlsZSAobWVzc2FnZUNvbnRhaW5lci5maXJzdENoaWxkKSB7XG4gICAgICAgIG1lc3NhZ2VDb250YWluZXIucmVtb3ZlQ2hpbGQobWVzc2FnZUNvbnRhaW5lci5maXJzdENoaWxkKTtcbiAgICAgIH1cblxuICAgICAgLy8gaGlkZSBtZXNzYWdlIGNvbnRhaW5lclxuICAgICAgbWVzc2FnZUNvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG5cbiAgICAgIC8vIHNob3cgbWFpbiBjb250YWluZXJcbiAgICAgIG1haW5Db250YWluZXIuc3R5bGUudmlzaWJpbGl0eSA9IFwidmlzaWJsZVwiO1xuXG4gICAgICBfYWN0aXZlID0gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gc2hvdyhtZXNzYWdlKSB7XG4gICAgdmFyIGZyYWdtZW50ID0gZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLFxuICAgICAgcDtcblxuICAgIGlmICghX2FjdGl2ZSkge1xuICAgICAgLy8gaGlkZSBtYWluIGNvbnRhaW5lclxuICAgICAgbWFpbkNvbnRhaW5lci5zdHlsZS52aXNpYmlsaXR5ID0gXCJoaWRkZW5cIjtcblxuICAgICAgbWVzc2FnZUNvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuXG4gICAgICAvLyBjcmVhdGUgbWVzc2FnZSBlbGVtZW50XG4gICAgICBwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7XG4gICAgICBwLmlubmVySFRNTCA9IG1lc3NhZ2U7XG4gICAgICBwLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwibWVzc2FnZVwiKTtcblxuICAgICAgZnJhZ21lbnQuYXBwZW5kQ2hpbGQocCk7XG4gICAgICBtZXNzYWdlQ29udGFpbmVyLmFwcGVuZENoaWxkKGZyYWdtZW50KTtcblxuICAgICAgX2FjdGl2ZSA9IHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIG1lc3NhZ2UgYWxyZWFkeSBiZWluZyBzaG93biwgdXBkYXRlIG1lc3NhZ2UgdGV4dFxuICAgICAgcCA9IG1lc3NhZ2VDb250YWluZXIucXVlcnlTZWxlY3RvcihcIi5tZXNzYWdlXCIpO1xuICAgICAgcC5pbm5lckhUTUwgPSBtZXNzYWdlO1xuICAgIH1cbiAgfVxuXG4gIF9pbml0KCk7XG5cbiAgcmV0dXJuIHtcbiAgICBcImhpZGVcIjogaGlkZSxcbiAgICBcInNob3dcIjogc2hvd1xuICB9O1xufTtcblxuLyogZ2xvYmFsIFJpc2VWaXNpb24sIGdhZGdldHMgKi9cbihmdW5jdGlvbiAod2luZG93LCBkb2N1bWVudCwgZ2FkZ2V0cykge1xuICBcInVzZSBzdHJpY3RcIjtcblxuICB2YXIgaWQgPSBuZXcgZ2FkZ2V0cy5QcmVmcygpLmdldFN0cmluZyhcImlkXCIpO1xuXG4gIHdpbmRvdy5vbmNvbnRleHRtZW51ID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfTtcblxuICBkb2N1bWVudC5ib2R5Lm9ubW91c2Vkb3duID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9O1xuXG4gIGZ1bmN0aW9uIGNvbmZpZ3VyZShuYW1lcywgdmFsdWVzKSB7XG4gICAgdmFyIGFkZGl0aW9uYWxQYXJhbXMsIG1vZGUsXG4gICAgICBjb21wYW55SWQgPSBcIlwiLFxuICAgICAgZGlzcGxheUlkID0gXCJcIjtcblxuICAgIGlmIChBcnJheS5pc0FycmF5KG5hbWVzKSAmJiBuYW1lcy5sZW5ndGggPiAwICYmIEFycmF5LmlzQXJyYXkodmFsdWVzKSAmJiB2YWx1ZXMubGVuZ3RoID4gMCkge1xuICAgICAgLy8gY29tcGFueSBpZFxuICAgICAgaWYgKG5hbWVzWzBdID09PSBcImNvbXBhbnlJZFwiKSB7XG4gICAgICAgIGNvbXBhbnlJZCA9IHZhbHVlc1swXTtcbiAgICAgIH1cblxuICAgICAgLy8gZGlzcGxheSBpZFxuICAgICAgaWYgKG5hbWVzWzFdID09PSBcImRpc3BsYXlJZFwiKSB7XG4gICAgICAgIGlmICh2YWx1ZXNbMV0pIHtcbiAgICAgICAgICBkaXNwbGF5SWQgPSB2YWx1ZXNbMV07XG4gICAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICAgIGRpc3BsYXlJZCA9IFwicHJldmlld1wiO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIHByb3ZpZGUgTG9nZ2VyVXRpbHMgdGhlIGlkcyB0byB1c2VcbiAgICAgIFJpc2VWaXNpb24uQ29tbW9uLkxvZ2dlclV0aWxzLnNldElkcyhjb21wYW55SWQsIGRpc3BsYXlJZCk7XG5cbiAgICAgIC8vIGFkZGl0aW9uYWwgcGFyYW1zXG4gICAgICBpZiAobmFtZXNbMl0gPT09IFwiYWRkaXRpb25hbFBhcmFtc1wiKSB7XG4gICAgICAgIGFkZGl0aW9uYWxQYXJhbXMgPSBKU09OLnBhcnNlKHZhbHVlc1syXSk7XG5cbiAgICAgICAgaWYgKE9iamVjdC5rZXlzKGFkZGl0aW9uYWxQYXJhbXMuc3RvcmFnZSkubGVuZ3RoICE9PSAwKSB7XG4gICAgICAgICAgLy8gc3RvcmFnZSBmaWxlIG9yIGZvbGRlciBzZWxlY3RlZFxuICAgICAgICAgIGlmICghYWRkaXRpb25hbFBhcmFtcy5zdG9yYWdlLmZpbGVOYW1lKSB7XG4gICAgICAgICAgICAvLyBmb2xkZXIgd2FzIHNlbGVjdGVkXG4gICAgICAgICAgICBtb2RlID0gXCJmb2xkZXJcIjtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gZmlsZSB3YXMgc2VsZWN0ZWRcbiAgICAgICAgICAgIG1vZGUgPSBcImZpbGVcIjtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gbm9uLXN0b3JhZ2UgZmlsZSB3YXMgc2VsZWN0ZWRcbiAgICAgICAgICBtb2RlID0gXCJmaWxlXCI7XG4gICAgICAgIH1cblxuICAgICAgICBSaXNlVmlzaW9uLkltYWdlLnNldEFkZGl0aW9uYWxQYXJhbXMoYWRkaXRpb25hbFBhcmFtcywgbW9kZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcGF1c2UoKSB7XG4gICAgUmlzZVZpc2lvbi5JbWFnZS5wYXVzZSgpO1xuICB9XG5cbiAgZnVuY3Rpb24gcGxheSgpIHtcbiAgICBSaXNlVmlzaW9uLkltYWdlLnBsYXkoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHN0b3AoKSB7XG4gICAgUmlzZVZpc2lvbi5JbWFnZS5zdG9wKCk7XG4gIH1cblxuICBmdW5jdGlvbiBwb2x5bWVyUmVhZHkoKSB7XG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJXZWJDb21wb25lbnRzUmVhZHlcIiwgcG9seW1lclJlYWR5KTtcblxuICAgIGlmIChpZCAmJiBpZCAhPT0gXCJcIikge1xuICAgICAgZ2FkZ2V0cy5ycGMucmVnaXN0ZXIoXCJyc2NtZF9wbGF5X1wiICsgaWQsIHBsYXkpO1xuICAgICAgZ2FkZ2V0cy5ycGMucmVnaXN0ZXIoXCJyc2NtZF9wYXVzZV9cIiArIGlkLCBwYXVzZSk7XG4gICAgICBnYWRnZXRzLnJwYy5yZWdpc3RlcihcInJzY21kX3N0b3BfXCIgKyBpZCwgc3RvcCk7XG4gICAgICBnYWRnZXRzLnJwYy5yZWdpc3RlcihcInJzcGFyYW1fc2V0X1wiICsgaWQsIGNvbmZpZ3VyZSk7XG4gICAgICBnYWRnZXRzLnJwYy5jYWxsKFwiXCIsIFwicnNwYXJhbV9nZXRcIiwgbnVsbCwgaWQsIFtcImNvbXBhbnlJZFwiLCBcImRpc3BsYXlJZFwiLCBcImFkZGl0aW9uYWxQYXJhbXNcIl0pO1xuICAgIH1cbiAgfVxuXG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwiV2ViQ29tcG9uZW50c1JlYWR5XCIsIHBvbHltZXJSZWFkeSk7XG5cbn0pKHdpbmRvdywgZG9jdW1lbnQsIGdhZGdldHMpO1xuXG4vKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG52YXIgX2dhcSA9IF9nYXEgfHwgW107XG5cbl9nYXEucHVzaChbJ19zZXRBY2NvdW50JywgJ1VBLTU3MDkyMTU5LTMnXSk7XG5fZ2FxLnB1c2goWydfdHJhY2tQYWdldmlldyddKTtcblxuKGZ1bmN0aW9uKCkge1xuICB2YXIgZ2EgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTsgZ2EudHlwZSA9ICd0ZXh0L2phdmFzY3JpcHQnOyBnYS5hc3luYyA9IHRydWU7XG4gIGdhLnNyYyA9ICgnaHR0cHM6JyA9PSBkb2N1bWVudC5sb2NhdGlvbi5wcm90b2NvbCA/ICdodHRwczovL3NzbCcgOiAnaHR0cDovL3d3dycpICsgJy5nb29nbGUtYW5hbHl0aWNzLmNvbS9nYS5qcyc7XG4gIHZhciBzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3NjcmlwdCcpWzBdOyBzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGdhLCBzKTtcbn0pKCk7XG4vKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
